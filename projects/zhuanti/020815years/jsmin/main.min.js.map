{"version":3,"sources":["main.js"],"names":["$","$m","ydt","verData","v1","name","time","pic","v2","v3","v4","cfg","history","showState","endPageTimer","zmBgm","document","getElementById","bgmGoing","volume","window","on","blur","pause","focus","play","gs","isIe","sbie","browser","msie","ver","parseInt","version","showPg","num","$box","find","removeClass","addClass","animate","scrollTop","addVer","dt","verDom","vdt","$vc","html","updatePageState","lastPage","openBdPop","bdTit","bdShare","$pop","closeBdPop","$close","tit","textTit","_bd_share_config","common","bdText","bdDesc","bdPic","share","bdSize","getElementsByTagName","body","appendChild","createElement","src","Date","_bd_share_main","init","endPage","$txt","openComment","currentTime","isNew","$closeComment","attr","closeComment","$reBtn","$this","this","bkd","look","$lookBtn","data","parallax","parx","scene","Parallax","selector","hoverOnly","render","loading","fullScreenTips","fullScreen","screenfull","enabled","request","tipsDom","append","$ld","loaded","startShow","clearInterval","timerUpd","fadeOut","gsVd","onended","remove","logoList","updateProgress","txt","txtListRev","count","animSpeed","txtList","ldTxt","reverse","len","length","$bar","width","setInterval","setTimeout","$ll","lDom","each","logos","i","item","mini","big","dev","ajax","dataType","url","success","yearData","jQuery"],"mappings":"CAAA,SAAAA,GACA,GAAAC,IAAAD,EAAA,SACAE,IACAC,SACAC,IACAC,KAAA,QACAC,KAAA,eACAC,IAAA,8DAEAC,IACAH,KAAA,QACAC,KAAA,cACAC,IAAA,8DAEAE,IACAJ,KAAA,QACAC,KAAA,cACAC,IAAA,8DAEAG,IACAL,KAAA,QACAC,KAAA,WACAC,IAAA,+DAGAI,KACAC,QAAA,EACAC,UAAA,GAEAC,aACAC,MAAAC,SAAAC,eAAA,SAAAC,UAAA,CACAH,OAAAI,OAAA,GACAnB,EAAAoB,QAAAC,IACAC,KAAA,WACAP,MAAAQ,SAEAC,MAAA,WACAN,YAAA,GACAH,MAAAU,SAIA,IAAAC,KACAC,KAAA,WACA,GAAAC,GAAA5B,EAAA6B,QAAAC,KACAC,EAAAC,SAAAhC,EAAA6B,QAAAI,QACA,IAAAL,KAAA,GAAAG,GAAA,GACA,OAAA,GAGAG,OAAA,SAAAC,GACA,GAAAC,GAAApC,EAAA,OACAoC,GAAAC,KAAA,SAAAC,YAAA,OACAF,EAAAC,KAAA,QAAAF,GAAAI,SAAA,OACAvC,EAAA,QAAAwC,SAAAC,UAAA,GAAA,MAEAC,OAAA,SAAAC,GACA,GAAAC,GAAA,GAAAC,EAAA1C,QAAAwC,GAAAG,EAAA9C,EAAA,UACA4C,IAAA,8DAAAC,EAAAxC,KAAA,+BAAAwC,EAAAvC,KAAA,qOAAAuC,EAAAtC,IAAA,eACAqC,GAAA,GACAA,GAAA,GACAE,EAAAC,KAAAH,GACAjC,IAAAC,QAAA,EACAkC,EAAAT,KAAA,aAAAhB,GAAA,QAAA,WACAV,IAAAC,QAAA,EACAD,IAAAE,UAAA,EACAa,GAAAsB,oBAEAF,EAAAT,KAAA,SAAAhB,GAAA,QAAA,WACAK,GAAAuB,aAEAH,EAAAT,KAAA,SAAAhB,GAAA,QAAA,WACAK,GAAAwB,WACA,IAAAC,GAAA,YAAAN,EAAAvC,KAAA,YACAoB,IAAA0B,QAAAD,MAGAD,UAAA,WACA,GAAAG,GAAArD,EAAA,SACAqD,GAAAd,SAAA,QAEAe,WAAA,WACA,GAAAD,GAAArD,EAAA,UAAAuD,EAAAvD,EAAA,cACAuD,GAAAlC,GAAA,QAAA,WACAgC,EAAAf,YAAA,UAIAc,QAAA,SAAAI,KACA,GAAAC,SAAA,aAcA,MAbAD,MACAC,QAAAD,KAEApC,OAAAsC,kBACAC,QACAC,OAAAH,QACAI,OAAA,8BACAC,MAAA,0DAEAC,QACAC,OAAA,MAGAhD,UAAA,IAAAiD,qBAAA,QAAA,IAAAC,MAAAC,YAAAC,cAAA,WAAAC,IAAA,qEAAA,GAAAC,MAAA,MACA,oBAAAlD,QAAAmD,gBACAnD,OAAAmD,eAAAC,QAGAvB,SAAA,WACAtC,IAAAC,QAAA,EACAD,IAAAE,UAAA,EACAa,GAAAsB,kBACAhD,EAAA,aAAAuC,SAAA,OACArB,UAAA,EACAH,MAAAU,QAEAgD,QAAA,WACA,GAAAC,GAAA1E,EAAA,YACAA,GAAA,aAAAqB,GAAA,QAAA,WACAqD,EAAApC,YAAA,OACA3B,IAAAC,QAAA,EACAc,GAAAiD,YAAA,QACAzD,UAAA,EACAH,MAAA6D,YAAA,EACA7D,MAAAQ,WAGAoD,YAAA,SAAAE,GACA7E,EAAA,aAAAsC,YAAA,MACA,IAAAwC,GAAA9E,EAAA,gBACA6E,MAAA,EACAC,EAAAC,KAAA,YAAApE,IAAAC,SACA,SAAAiE,IACA7E,EAAA,mBAAAuC,SAAA,OACAuC,EAAAC,KAAA,YAAApE,IAAAC,UAEAD,IAAAE,UAAA,EACAa,GAAAsB,mBAEAgC,aAAA,WACA,GAAAF,GAAA9E,EAAA,iBAAAiF,EAAAjF,EAAA,kBACAA,GAAA,gBAAAqB,GAAA,QAAA,WACAK,GAAAiD,aAAA,KAEAG,EAAAzD,GAAA,QAAA,WACA,GAAA6D,GAAAlF,EAAAmF,MAAAC,EAAAF,EAAAH,KAAA,YACA,OAAAK,GAAA,IAAAA,EACA1D,GAAAuB,YAEAtC,IAAAE,UAAAuE,EACA1D,GAAAsB,mBAEAiC,EAAA3C,YAAA,SAEA2C,EAAA5D,GAAA,QAAA,WACA,GAAA6D,GAAAlF,EAAAmF,MACAC,EAAAF,EAAAH,KAAA,YACApE,KAAAE,UAAAuE,EACA1D,GAAAsB,kBACAiC,EAAA3C,YAAA,UAGA+C,KAAA,WACA,GAAAC,GAAArF,GAAAoC,KAAA,YACAiD,GAAAjE,GAAA,QAAA,WACA,GAAA6D,GAAAlF,EAAAmF,MAAApD,EAAAmD,EAAAK,KAAA,MACA7D,IAAAgB,OAAAX,GACApB,IAAAE,UAAA,EACAa,GAAAsB,qBAGAA,gBAAA,WACAtB,GAAAQ,OAAAvB,IAAAE,YAEA2E,SAAA,WACA,GAAAC,GAAAC,EAAA1F,EAAA,UAAA,EACAyF,GAAA,GAAAE,UAAAD,GACAE,SAAA,iBACAC,WAAA,KAGAC,OAAA,WACApE,GAAA2D,OACA3D,GAAAsB,kBACAtB,GAAAsD,eACAtD,GAAA4B,aACA5B,GAAA+C,UACA/C,GAAA0B,UACA1B,GAAA8D,YAEAO,QAAA,WAMA,QAAAC,KAKA,QAAAC,KACAC,WAAAC,SACAD,WAAAE,UANA,GAAAC,GAAA,EACAA,IAAA,qMACArG,EAAA,QAAAsG,OAAAD,GACAE,EAAAlE,KAAA,gBAAAC,YAAA,OAMAtC,EAAA,aAAAqB,GAAA,QAAA,WACA4E,IACAO,MAGA,QAAAC,KACAC,cAAAC,GACAJ,EAAAK,QAAA,KACA5G,EAAA,QAAAsC,YAAA,cACAZ,GAAAoE,SAEA,QAAAU,KACA,GAAAK,GAAA7F,SAAAC,eAAA,UACAjB,GAAA,iBAAA4G,QAAA,KACAL,EAAAlE,KAAA,kBAAAE,SAAA,OACAsE,EAAApF,OACAoF,EAAAC,QAAA,WACAL,IACAzG,EAAA,YAAA+G,UAEA/G,EAAA,WAAAqB,GAAA,QAAA,WACAoF,IACAI,EAAAtF,QACAvB,EAAA,YAAA+G,WAEArF,GAAAsF,WAEA,QAAAC,KACA,GAAAC,GAAAC,EAAAC,EACA1C,GAAA3B,KAAAmE,GACAE,IA7CA,GAIAT,GAJAU,EAAA,IACAC,EAAApH,IAAAqH,MACAJ,EAAAG,EAAAE,UAAAjB,EAAAvG,EAAA,YAAAyH,EAAAN,EAAAO,OACAhD,EAAA6B,EAAAlE,KAAA,WAAAsF,EAAApB,EAAAlE,KAAA,aAAA+E,EAAA,CA4CAO,GAAAnF,SAAAoF,MAAA,QAAAP,GACAV,EAAAkB,YAAA,WACAZ,KACAI,EAAAI,GACAK,WAAA,WACA9B,KACAqB,IAEAL,SAAA,WACA,GAAAe,GAAA/H,EAAA,aAAAgI,EAAA,EACAhI,GAAAiI,KAAA/H,IAAAgI,MAAA,SAAAC,EAAAC,GACAJ,GAAA,iCAAAI,EAAAC,KAAA,2CAAAD,EAAAE,IAAA,iCAEAP,EAAAhF,KAAAiF,IAEAxD,KAAA,SAAA+D,GACAA,KAAA,GACAvI,EAAA,YAAA4G,UACA5G,EAAA,QAAAsC,YAAA,cACAZ,GAAAoE,UAEApE,GAAAqE,WAIArE,IAAAC,UAAA,EACA3B,EAAAwI,MACAC,SAAA,SACAC,IAAA,qDACAC,QAAA,WACAzI,IAAA0I,SACAlH,GAAA8C,MAAA,MAIAxE,EAAA,WAAAuC,SAAA,QAEAsG","file":"main.min.js","sourcesContent":["(function ($) {\r\n    var $m = $('#main');\r\n    var ydt;\r\n    var verData = {\r\n        v1:{\r\n            name:'1.0时代',\r\n            time:'2003年——2005年',\r\n            pic:'http://img7.gamersky.com/zqimg/zhuanti/15years/pc/ver1.jpg'\r\n        },\r\n        v2:{\r\n            name:'2.0时代',\r\n            time:'2005年-2008年',\r\n            pic:'http://img7.gamersky.com/zqimg/zhuanti/15years/pc/ver2.jpg'\r\n        },\r\n        v3:{\r\n            name:'3.0时代',\r\n            time:'2008年-2015年',\r\n            pic:'http://img7.gamersky.com/zqimg/zhuanti/15years/pc/ver3.jpg'\r\n        },\r\n        v4:{\r\n            name:'4.0时代',\r\n            time:'2015年-至今',\r\n            pic:'http://img7.gamersky.com/zqimg/zhuanti/15years/pc/ver4.jpg'\r\n        }\r\n    };\r\n    var cfg = {\r\n        history:1,\r\n        showState:1\r\n    };\r\n    var endPageTimer;\r\n    var zmBgm = document.getElementById('zmBgm'),bgmGoing = false;\r\n    zmBgm.volume=0.2;\r\n    $(window).on({\r\n        'blur':function(){\r\n            zmBgm.pause();\r\n        },\r\n        'focus':function(){\r\n            if(bgmGoing === true){\r\n                zmBgm.play();\r\n            }\r\n        }\r\n    });\r\n\tvar gs = {\r\n\t    isIe:function () {\r\n            var sbie = $.browser.msie,\r\n                ver = parseInt($.browser.version);\r\n            if(sbie === true && ver <= 10){\r\n                return true\r\n            }\r\n        },\r\n        showPg:function(num){\r\n            var $box = $('#box');\r\n            $box.find('.item').removeClass('cur');\r\n            $box.find('.item'+num).addClass('cur');\r\n            $('html').animate({'scrollTop':0},200);\r\n        },\r\n        addVer:function (dt) {\r\n            var verDom = '',vdt = verData[dt],$vc = $('#verCon');\r\n            verDom += '<div class=\"infos\"><div class=\"tits\"><div class=\"tit-lev1\">'+vdt.name+'</div><div class=\"tit-lev2\">'+vdt.time+'</div></div><div class=\"btn-groups\"><a class=\"btn btn1\">没错 这就是我的第一次</a><a class=\"btn btn2 closeVer\">emm 貌似不是这个年份</a><a class=\"btn btn3\">我还有话对你说</a></div><a class=\"close-btn closeVer\"><i></i></a></div><img class=\"ver-pic\" src=\"'+vdt.pic+'\" alt=\"ver\">';\r\n            verDom += '';\r\n            verDom += '';\r\n            $vc.html(verDom);\r\n            cfg.history = 2;\r\n            $vc.find('.closeVer').on('click',function () {\r\n                cfg.history = 1;\r\n                cfg.showState = 1;\r\n                gs.updatePageState();\r\n            });\r\n            $vc.find('.btn3').on('click',function () {\r\n                gs.lastPage();\r\n            });\r\n            $vc.find('.btn1').on('click',function () {\r\n                gs.openBdPop();\r\n                var bdTit = '我第一次上游民是在'+vdt.time+'，这是当初游民的样子';\r\n                gs.bdShare(bdTit);\r\n            });\r\n        },\r\n        openBdPop:function () {\r\n\t        var $pop = $('.bdPop');\r\n            $pop.addClass('cur');\r\n        },\r\n        closeBdPop:function () {\r\n            var $pop = $('.bdPop'),$close = $('.bdPopClose');\r\n            $close.on('click',function () {\r\n                $pop.removeClass('cur');\r\n                //gs.lastPage();\r\n            })\r\n        },\r\n        bdShare:function (tit) {\r\n\t        var textTit = '这是一个暴露年龄的网站';\r\n\t        if(tit){\r\n                textTit = tit;\r\n            }\r\n            window._bd_share_config = {\r\n                common: {\r\n                    bdText: textTit,\r\n                    bdDesc: '游民星空15周年纪念专题，感谢一路有你，未来一起前行。',\r\n                    bdPic: 'http://img7.gamersky.com/zqimg/zhuanti/15years/350.jpg'\r\n                },\r\n                share: [{\r\n                    \"bdSize\": 16\r\n                }]\r\n            };\r\n            with(document) 0[(getElementsByTagName('head')[0] || body).appendChild(createElement('script')).src = 'http://bdimg.share.baidu.com/static/api/js/share.js?cdnversion=' + ~(-new Date() / 36e5)];\r\n            if(typeof window._bd_share_main !== 'undefined'){\r\n                window._bd_share_main.init();\r\n            }\r\n        },\r\n        lastPage:function () {\r\n            cfg.history = 3;\r\n            cfg.showState = 3;\r\n            gs.updatePageState();\r\n            $('#paraAnim').addClass('cur');\r\n            bgmGoing = true;\r\n            zmBgm.play();\r\n        },\r\n        endPage:function () {\r\n\t        var $txt = $('#paraAnim');\r\n\t        $('#paraNext').on('click',function () {\r\n                $txt.removeClass('cur');\r\n                cfg.history = 1;\r\n                gs.openComment('rebo');\r\n                bgmGoing = false;\r\n                zmBgm.currentTime = 0;\r\n                zmBgm.pause();\r\n            });\r\n        },\r\n        openComment:function (isNew) {\r\n            $('#paraAnim').removeClass('cur');\r\n            var $closeComment = $('#closeComment');\r\n            if(isNew === true){\r\n                $closeComment.attr('data-back',cfg.history);\r\n            }else if(isNew === 'rebo'){\r\n                $('#closeCommentRe').addClass('cur');\r\n                $closeComment.attr('data-back',cfg.history);\r\n            }\r\n            cfg.showState = 4;\r\n            gs.updatePageState();\r\n        },\r\n        closeComment:function () {\r\n            var $closeComment = $('#closeComment'),$reBtn = $('#closeCommentRe');\r\n            $('.openComment').on('click',function () {\r\n                gs.openComment(true);\r\n            });\r\n            $closeComment.on('click',function () {\r\n                var $this = $(this),bkd = $this.attr('data-back');\r\n                if(bkd === '3' || bkd === 3){\r\n                    gs.lastPage();\r\n                }else{\r\n                    cfg.showState = bkd;\r\n                    gs.updatePageState();\r\n                }\r\n                $reBtn.removeClass('cur');\r\n            });\r\n            $reBtn.on('click',function () {\r\n                var $this = $(this),\r\n                    bkd = $this.attr('data-back');\r\n                cfg.showState = bkd;\r\n                gs.updatePageState();\r\n                $reBtn.removeClass('cur');\r\n            });\r\n        },\r\n        look:function () {\r\n            var $lookBtn = $m.find('.look-btn');\r\n            $lookBtn.on('click',function () {\r\n                var $this = $(this),ver = $this.data('ver');\r\n                gs.addVer(ver);\r\n                cfg.showState = 2;\r\n                gs.updatePageState();\r\n            });\r\n        },\r\n        updatePageState:function () {\r\n            gs.showPg(cfg.showState);\r\n        },\r\n        parallax:function () {\r\n            var scene = $('#scene')[0],parx;\r\n            parx = new Parallax(scene,{\r\n                selector: '.sceneParallax',\r\n                hoverOnly:true\r\n            });\r\n        },\r\n        render:function () {\r\n            gs.look();\r\n            gs.updatePageState();\r\n            gs.closeComment();\r\n            gs.closeBdPop();\r\n            gs.endPage();\r\n            gs.bdShare();\r\n            gs.parallax();\r\n        },\r\n        loading:function () {\r\n            var animSpeed = 5000,\r\n                txtList = ydt.ldTxt,\r\n                txtListRev = txtList.reverse(),$ld = $('#loading'),len = txtListRev.length,\r\n                $txt = $ld.find('.lp-txt'),$bar = $ld.find('.lp-bar i'),count = 0;\r\n            var timerUpd;\r\n            function fullScreenTips() {\r\n                var tipsDom = '';\r\n                tipsDom += '<div id=\"closeLoading\" class=\"closeLoading\"><div class=\"txt\">全屏浏览可获得最佳体验，ESC或F11可退出全屏模式。<br>推荐打开声音以获得更佳体验。</div><div class=\"clearfix btngroup\"><a class=\"closeno\" id=\"pageGoon\">继续</a></div></div>';\r\n                $('body').append(tipsDom);\r\n                $ld.find('.loading-con').removeClass('cur');\r\n                function fullScreen() {\r\n                    if (screenfull.enabled) {\r\n                        screenfull.request();\r\n                    }\r\n                }\r\n                $('#pageGoon').on('click',function () {\r\n                    fullScreen();\r\n                    loaded();\r\n                });\r\n            }\r\n            function startShow() {\r\n                clearInterval(timerUpd);\r\n                $ld.fadeOut(500);\r\n                $('html').removeClass('hideScroll');\r\n                gs.render();\r\n            }\r\n            function loaded() {\r\n                var gsVd = document.getElementById('ldVideo');\r\n                $('#closeLoading').fadeOut(100);\r\n                $ld.find('.loading-video').addClass('cur');\r\n                gsVd.play();\r\n                gsVd.onended=function () {\r\n                    startShow();\r\n                    $('#ldVideo').remove();\r\n                };\r\n                $('#skipVd').on('click',function () {\r\n                    startShow();\r\n                    gsVd.pause();\r\n                    $('#ldVideo').remove();\r\n                });\r\n                gs.logoList();\r\n            }\r\n            function updateProgress() {\r\n                var txt = txtListRev[count];\r\n                $txt.html(txt);\r\n                count++;\r\n            }\r\n            $bar.animate({'width':'100%'},animSpeed);\r\n            timerUpd = setInterval(function () {\r\n                updateProgress();\r\n            },animSpeed/len);\r\n            setTimeout(function () {\r\n                fullScreenTips();\r\n            },animSpeed);\r\n        },\r\n        logoList:function () {\r\n            var $ll = $('#logoList'),lDom = '';\r\n            $.each(ydt.logos,function (i,item) {\r\n                lDom += '<li><a><img class=\"mini\" src=\"'+item.mini+'\" alt=\"lgs\"><span><img class=\"big\" src=\"'+item.big+'\" alt=\"lgb\"></span></a></li>';\r\n            });\r\n            $ll.html(lDom);\r\n        },\r\n        init:function (dev) {\r\n            if(dev === true){\r\n                $('#loading').fadeOut();\r\n                $('html').removeClass('hideScroll');\r\n                gs.render();\r\n            }else{\r\n                gs.loading();\r\n            }\r\n        }\r\n\t};\r\n\tif(gs.isIe() !== true){\r\n\t    $.ajax({\r\n            dataType:'Script',\r\n            url:'http://j.gamersky.com/zhuanti/15years/yearsData.js',\r\n            success:function () {\r\n                ydt = yearData;\r\n                gs.init(false);\r\n            }\r\n        });\r\n\t}else{\r\n\t    $('.ielt10').addClass('cur');\r\n    }\r\n})(jQuery);"]}
!function(t){t.fn.gsPopup=function(e){function a(e,a){var i;switch(a){case"video_tgs":return i='<embed wmode="direct" flashvars="vid='+e+'&amp;tpid=0&amp;showend=1&amp;showcfg=1&amp;searchbar=1&amp;skin=http://imgcache.qq.com/minivideo_v1/vd/res/skins/TencentPlayerMiniSkin.swf&amp;shownext=1&amp;list=2&amp;autoplay=1" src="http://imgcache.qq.com/tencentvideo_v1/player/TPout.swf?max_age=86400&amp;v=20140714" quality="high" name="tenvideo_flash_player_1492679771297" id="tenvideo_flash_player_1492679771297" bgcolor="#000000" width="100%" height="100%" align="middle" allowscriptaccess="always" allowfullscreen="true" type="application/x-shockwave-flash" pluginspage="http://get.adobe.com/cn/flashplayer/">';case"video_tgs2":return i='<div id="tgsVideo"></div>';case"video_yk":return i='<embed height="100%" flashvars="isAutoPlay=true" allowscriptaccess="sameDomain" width="100%" align="middle" quality="high" invokeurls="false" src="http://player.youku.com/player.php/sid/'+e+'/v.swf" type="application/x-shockwave-flash" wmode="transparent">';case"video_bl":return i='<iframe height="100%" width="100%" id="vedioSrc" frameborder="0" allowfullscreen src="'+e+'"></iframe>';case"video_other":return i=e;case"pics":return i='<img src="'+e+'" alt="popimgs" width="100%" height="100%">';case"custom":return i=t(e).html()}}function i(e){var i="";i+='<div id="gsPopupMask" class="gsPopupMask"></div>',i+='<div id="gsPopup" class="gsPopup '+e.diy+'" style="',i+=e.style,i+='"><div class="gsPopupCon">',i+=a(e.sid,e.sty),i+='</div><a  class="gsPopupClose" id="gsPopupClose"></a></div>',t("body").append(i),p=setTimeout(function(){t("#gsPopupMask").addClass("cur"),t("#gsPopup").addClass("cur")},10),"video_tgs2"===e.sty&&t.getScript("http://vm.gtimg.cn/tencentvideo/txp/js/txplayer.js",function(){new Txplayer({containerId:"tgsVideo",vid:e.sid,width:"100%",height:e.height,autoplay:!0,showBullet:!1,showLogo:!1,showRecommendOnEnd:!1});t("#tgsVideo").closest(".gsPopupCon").css("overflow","hidden")})}function s(){clearTimeout(p),t("#gsPopupMask").removeClass("cur"),t("#gsPopup").removeClass("cur"),n=setTimeout(function(){t("#gsPopupMask").remove(),t("#gsPopup").hide().remove()},150)}function o(){t("#gsPopupClose").on("click",s),t("#gsPopupMask").on("click",s)}var n,p,r={afterOpen:""},l=t.extend(r,e),d=t(this);d.on("click",function(){clearTimeout(n);var e,a=t(this),s=a.data("w"),p=a.data("h"),r=a.data("diy"),d=t(window).height(),c={pos:"fixed",width:s,height:p,sid:a.data("sid"),sty:a.data("sty"),diy:r};e="width:"+c.width+"px;height:"+c.height+"px;",c.style="position:"+c.pos+";top:50%;left:50%;margin-left:-"+c.width/2+"px;margin-top:-"+c.height/2+"px;"+e,p>d&&(c.pos="absolute",c.style="position:"+c.pos+";top:"+a.offset().top+"px;left:50%;margin-left:-"+c.width/2+"px;"+e),i(c),o(),"function"==typeof l.afterOpen&&l.afterOpen()})}}(jQuery),$(".popupBtn").gsPopup(),function(t){var e={ztTabs:function(e){var a=t(e),i=a.find(".ztTabNav").find("li"),s=a.find(".ztTabCon");t(e).slide({titCell:i,titOnClassName:"cur",mainCell:s,effect:"fade",delayTime:250,switchLoad:"data-src"})},ztSld:function(e){var a=t(e),i=a.closest(".ztSldWrap"),s=a.find(".ztSldCon"),o=i.find(".sldArrPrev"),n=i.find(".sldArrNext"),p=a.data("effect");t(e).slide({mainCell:s,effect:p||"leftLoop",delayTime:250,switchLoad:"data-src",prevCell:o,nextCell:n})},popForm:function(){function e(t,e){var a;return"qq"===e?a=RegExp(/^[1-9][0-9]{4,20}$/).test(t):"telephone"===e?a=RegExp(/^1\d{10}$/).test(t):"email"===e&&(a=RegExp(/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/).test(t)),a}function a(){t(document).on("click",".popSel",function(){var e=t(this),a=e.closest(".popQuesBox"),i=e.attr("data-cur");a.hasClass("popQuesBoxMutl")!==!0&&a.find(".popSel").removeClass("cur").attr("data-cur","no"),"yes"===i?(e.removeClass("cur"),e.attr("data-cur","no")):(e.addClass("cur"),e.attr("data-cur","yes"))})}function i(a){var i,s=a.find(".popEmail"),o="qqhd",n="zhuanti/"+o+"/",p="infos",r=cookie(o),l=s.val(),d=[],c=!0;if("undefined"==typeof l)return void alert("请选择您的邮箱地址！");if(null!==r&&r===l)return void alert("您已经提交过了！");if(e(l,"email")===!1)return void alert("请输入有效的邮箱地址！");if(a.find(".popQuesBox").each(function(){var e,a=t(this),i={};e=a.find(".popSelTit").text().substr(0,1),i.tit=e,i.ans=[],a.find(".cur").each(function(){i.ans.push(parseInt(t(this).find(".popSelTxt").text().substr(0,2)))}),d.push(i)}),t.each(d,function(t,e){e.ans.length<1&&(c=!1)}),c===!1)return void alert("每题至少选一项");i=JSON.stringify(d);var u="---邮箱："+l+"---问卷："+i+"---";t.ajax({type:"GET",dataType:"jsonp",url:"http://www3.gamersky.com:81/cfile.asp",data:{Submit:"Submit",Folder:n,Fname:p,Content:u},success:function(t){}}),cookie(o,l,{path:"/"}),alert("提交完成！"),s.val(""),t("#gsPopupClose").trigger("click")}a(),t(document).on("click",".popSmt",function(){var e=t(this),a=e.closest(".popForm");i(a)})}};t(".ztTab").each(function(){e.ztTabs("#"+t(this).attr("id"))}),t(".ztSld").each(function(){e.ztSld("#"+t(this).attr("id"))}),e.popForm()}(jQuery);
//# sourceMappingURL=main.min.js.map

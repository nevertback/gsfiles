{"version":3,"sources":["main.js"],"names":["$","fn","gsPopup","options","addSource","sid","sty","sourceDom","html","addPopup","opts","popupDom","diy","style","append","inTimer","setTimeout","addClass","getScript","Txplayer","containerId","vid","width","height","autoplay","showBullet","showLogo","showRecommendOnEnd","closest","css","removePopup","clearTimeout","removeClass","outTimer","remove","hide","closePopup","on","defaults","afterOpen","optionsEd","extend","btn","this","gerCss","$this","dw","data","dh","diysty","wh","window","popupOptions","pos","offset","top","jQuery","ymjsModel","ztTabs","tabId","$tabId","$tabNav","find","$tabCon","slide","titCell","titOnClassName","mainCell","effect","delayTime","switchLoad","ztSld","sldId","$sldId","$sldParent","$sldCon","$prev","$next","eft","prevCell","nextCell","popForm","verifIpt","iptcon","cate","bValidate","RegExp","test","selFnc","document","$ts","$dad","isCur","attr","hasClass","smtData","tar","smtCon","$ipt","ztDir","Folder","fname","cookiefname","cookie","userNum","val","ques","eachSel","alert","each","tit","ans","text","substr","push","parseInt","i","item","length","JSON","stringify","content","ajax","type","dataType","url","Submit","Fname","Content","success","Jsons","path","trigger"],"mappings":"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","file":"main.min.js","sourcesContent":["(function($){\r\n    $.fn.gsPopup = function(options){\r\n        var defaults = {\r\n            //弹出后回调函数\r\n            afterOpen:''\r\n        };\r\n        var optionsEd = $.extend(defaults,options);\r\n        var btn = $(this),outTimer,inTimer;\r\n        function addSource(sid,sty) {\r\n            var sourceDom;\r\n            switch (sty) {\r\n                case 'video_tgs':\r\n                    sourceDom = '<embed wmode=\"direct\" flashvars=\"vid=' + sid + '&amp;tpid=0&amp;showend=1&amp;showcfg=1&amp;searchbar=1&amp;skin=http://imgcache.qq.com/minivideo_v1/vd/res/skins/TencentPlayerMiniSkin.swf&amp;shownext=1&amp;list=2&amp;autoplay=1\" src=\"http://imgcache.qq.com/tencentvideo_v1/player/TPout.swf?max_age=86400&amp;v=20140714\" quality=\"high\" name=\"tenvideo_flash_player_1492679771297\" id=\"tenvideo_flash_player_1492679771297\" bgcolor=\"#000000\" width=\"100%\" height=\"100%\" align=\"middle\" allowscriptaccess=\"always\" allowfullscreen=\"true\" type=\"application/x-shockwave-flash\" pluginspage=\"http://get.adobe.com/cn/flashplayer/\">';\r\n                    return sourceDom;\r\n                    break;\r\n                case 'video_tgs2':\r\n                    sourceDom = '<div id=\"tgsVideo\"></div>';\r\n                    return sourceDom;\r\n                    break;\r\n                case 'video_yk':\r\n                    sourceDom = '<embed height=\"100%\" flashvars=\"isAutoPlay=true\" allowscriptaccess=\"sameDomain\" width=\"100%\" align=\"middle\" quality=\"high\" invokeurls=\"false\" src=\"http://player.youku.com/player.php/sid/'+sid+'/v.swf\" type=\"application/x-shockwave-flash\" wmode=\"transparent\">';\r\n                    return sourceDom;\r\n                    break;\r\n                case 'video_bl':\r\n                    sourceDom = '<iframe height=\"100%\" width=\"100%\" id=\"vedioSrc\" frameborder=\"0\" allowfullscreen src=\"'+sid+'\"></iframe>';\r\n                    return sourceDom;\r\n                    break;\r\n                case 'video_other':\r\n                    sourceDom = sid;\r\n                    return sourceDom;\r\n                    break;\r\n                case 'pics':\r\n                    sourceDom = '<img src=\"'+sid+'\" alt=\"popimgs\" width=\"100%\" height=\"100%\">';\r\n                    return sourceDom;\r\n                    break;\r\n                case 'custom':\r\n                    sourceDom = $(sid).html();\r\n                    return sourceDom;\r\n                    break;\r\n            }\r\n        }\r\n        function addPopup(opts) {\r\n            var popupDom = '';\r\n            popupDom += '<div id=\"gsPopupMask\" class=\"gsPopupMask\"></div>';\r\n            popupDom += '<div id=\"gsPopup\" class=\"gsPopup '+opts.diy+'\" style=\"';\r\n            popupDom += opts.style;\r\n            popupDom += '\"><div class=\"gsPopupCon\">';\r\n            popupDom += addSource(opts.sid,opts.sty);\r\n            popupDom += '</div><a  class=\"gsPopupClose\" id=\"gsPopupClose\"></a></div>';\r\n            $('body').append(popupDom);\r\n            inTimer = setTimeout(function () {\r\n                $('#gsPopupMask').addClass('cur');\r\n                $('#gsPopup').addClass('cur');\r\n            },10);\r\n            if(opts.sty === 'video_tgs2'){\r\n                $.getScript(\"http://vm.gtimg.cn/tencentvideo/txp/js/txplayer.js\",function(){\r\n                    var player = new Txplayer({\r\n                        containerId: 'tgsVideo',\r\n                        vid: opts.sid,\r\n                        width: '100%',\r\n                        height: opts.height,\r\n                        autoplay:true,\r\n                        showBullet:false,\r\n                        showLogo: false,\r\n                        showRecommendOnEnd:false\r\n                    });\r\n                    $('#tgsVideo').closest('.gsPopupCon').css('overflow','hidden');\r\n                });\r\n            }\r\n        }\r\n        function removePopup() {\r\n            clearTimeout(inTimer);\r\n            $('#gsPopupMask').removeClass('cur');\r\n            $('#gsPopup').removeClass('cur');\r\n            outTimer = setTimeout(function () {\r\n                $('#gsPopupMask').remove();\r\n                $('#gsPopup').hide().remove();\r\n            },150);\r\n        }\r\n        function closePopup() {\r\n            $('#gsPopupClose').on('click',removePopup);\r\n            $('#gsPopupMask').on('click',removePopup);\r\n        }\r\n        btn.on('click',function () {\r\n            clearTimeout(outTimer);\r\n            var $this = $(this),dw = $this.data('w'),dh = $this.data('h'),diysty=$this.data('diy'),\r\n                wh = $(window).height(),gerCss,\r\n                popupOptions = {\r\n                    pos:'fixed',\r\n                    width:dw,\r\n                    height:dh,\r\n                    sid:$this.data('sid'),\r\n                    sty:$this.data('sty'),\r\n                    diy:diysty\r\n                };\r\n            gerCss = 'width:'+popupOptions.width+'px;height:'+popupOptions.height+'px;';\r\n            popupOptions.style = 'position:'+popupOptions.pos+';top:50%;left:50%;margin-left:-'+popupOptions.width/2+'px;margin-top:-'+popupOptions.height/2+'px;'+gerCss;\r\n            if(dh>wh){\r\n                popupOptions.pos = 'absolute';\r\n                popupOptions.style = 'position:'+popupOptions.pos+';top:'+$this.offset().top+'px;left:50%;margin-left:-'+popupOptions.width/2+'px;'+gerCss;\r\n            }\r\n            addPopup(popupOptions);\r\n            closePopup();\r\n            if(typeof optionsEd.afterOpen === 'function'){\r\n                optionsEd.afterOpen();\r\n            }\r\n        });\r\n    }\r\n})(jQuery);\r\n$('.popupBtn').gsPopup();\r\n(function ($) {\r\n\tvar ymjsModel = {\r\n        ztTabs:function(tabId){\r\n            var $tabId = $(tabId),\r\n                $tabNav = $tabId.find('.ztTabNav').find('li'),\r\n                $tabCon = $tabId.find('.ztTabCon');\r\n            $(tabId).slide({\r\n                titCell:$tabNav,\r\n                titOnClassName:'cur',\r\n                mainCell:$tabCon,\r\n                effect:'fade',\r\n                delayTime:250,\r\n                switchLoad:'data-src'\r\n            });\r\n        },\r\n        ztSld:function(sldId){\r\n            var $sldId = $(sldId),\r\n                $sldParent = $sldId.closest('.ztSldWrap'),\r\n                $sldCon = $sldId.find('.ztSldCon'),\r\n                $prev = $sldParent.find('.sldArrPrev'),\r\n                $next = $sldParent.find('.sldArrNext'),eft = $sldId.data('effect');\r\n            $(sldId).slide({\r\n                mainCell:$sldCon,\r\n                effect:eft||'leftLoop',\r\n                delayTime:250,\r\n                switchLoad:'data-src',\r\n                prevCell:$prev,\r\n                nextCell:$next\r\n            });\r\n        },\r\n        popForm:function () {\r\n            function verifIpt(iptcon,cate) {\r\n                var bValidate;\r\n                if(cate === 'qq'){\r\n                    bValidate = RegExp(/^[1-9][0-9]{4,20}$/).test(iptcon);\r\n                }else if(cate === 'telephone'){\r\n                    bValidate = RegExp(/^1\\d{10}$/).test(iptcon);\r\n                }else if(cate === 'email'){\r\n                    bValidate = RegExp(/^([a-zA-Z0-9]+[_|\\_|\\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\\_|\\.]?)*[a-zA-Z0-9]+\\.[a-zA-Z]{2,3}$/).test(iptcon);\r\n                }\r\n                return bValidate;\r\n            }\r\n            function selFnc() {\r\n                $(document).on('click','.popSel',function () {\r\n                    var $ts = $(this),$dad = $ts.closest('.popQuesBox'),isCur = $ts.attr('data-cur');\r\n                    if($dad.hasClass('popQuesBoxMutl') !== true){\r\n                        $dad.find('.popSel').removeClass('cur').attr('data-cur','no');\r\n                    }\r\n                    if(isCur === 'yes'){\r\n                        $ts.removeClass('cur');\r\n                        $ts.attr('data-cur','no');\r\n                    }else{\r\n                        $ts.addClass('cur');\r\n                        $ts.attr('data-cur','yes');\r\n                    }\r\n                })\r\n            }\r\n            function smtData(tar){\r\n                var $ipt = tar.find('.popEmail'),ztDir = 'qqhd';\r\n                var Folder = 'zhuanti/'+ztDir+'/',fname = 'infos',\r\n                    cookiefname = cookie(ztDir),\r\n                    userNum = $ipt.val(),ques = [],smtCon,eachSel = true;\r\n                if(typeof userNum === 'undefined'){\r\n                    alert(\"请选择您的邮箱地址！\");\r\n                    return;\r\n                }\r\n                if (cookiefname !== null && cookiefname === userNum) {\r\n                    alert(\"您已经提交过了！\");\r\n                    return;\r\n                }\r\n                if (verifIpt(userNum,'email') === false) {\r\n                    alert(\"请输入有效的邮箱地址！\");\r\n                    return;\r\n                }\r\n                tar.find('.popQuesBox').each(function () {\r\n                    var $ts=$(this),ans = {},tit;\r\n                    tit = $ts.find('.popSelTit').text().substr(0,1);\r\n                    ans.tit = tit;\r\n                    ans.ans = [];\r\n                    $ts.find('.cur').each(function () {\r\n                        ans.ans.push(parseInt($(this).find('.popSelTxt').text().substr(0,2)));\r\n                    });\r\n                    ques.push(ans);\r\n                });\r\n                $.each(ques,function (i,item) {\r\n                   if(item.ans.length<1){\r\n                       eachSel = false;\r\n                   }\r\n                });\r\n                if(eachSel === false){\r\n                    alert('每题至少选一项');\r\n                    return;\r\n                }\r\n                smtCon = JSON.stringify(ques);\r\n                var content = \"---邮箱：\" + userNum + \"---问卷：\" + smtCon + \"---\";\r\n                $.ajax({\r\n                    type: \"GET\",\r\n                    dataType: \"jsonp\",\r\n                    url: \"http://www3.gamersky.com:81/cfile.asp\",\r\n                    data: {\r\n                        Submit: \"Submit\",\r\n                        Folder:Folder,\r\n                        Fname: fname,\r\n                        Content: content\r\n                    },\r\n                    success: function(Jsons) {}\r\n                });\r\n                cookie(ztDir, userNum, {\r\n                    path: '/'\r\n                });\r\n                alert(\"提交完成！\");\r\n                $ipt.val('');\r\n                $('#gsPopupClose').trigger('click');\r\n            }\r\n            selFnc();\r\n            $(document).on('click','.popSmt',function () {\r\n                var $ts = $(this),$dad = $ts.closest('.popForm');\r\n                smtData($dad)\r\n            });\r\n        }\r\n\t};\r\n    $('.ztTab').each(function(){\r\n        ymjsModel.ztTabs('#'+$(this).attr('id'));\r\n    });\r\n    $('.ztSld').each(function(){\r\n        ymjsModel.ztSld('#'+$(this).attr('id'));\r\n    });\r\n    ymjsModel.popForm();\r\n})(jQuery);"]}
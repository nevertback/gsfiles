{"version":3,"sources":["main.js"],"names":["$","$m","ydt","verData","v1","name","time","pic","v2","v3","v4","cfg","history","showState","endPageTimer","zmBgm","document","getElementById","bgmGoing","volume","window","on","blur","pause","focus","play","addEventListener","isHidden","hidden","gs","isIe","sbie","browser","msie","ver","parseInt","version","showPg","num","$box","$tar","find","removeClass","setTimeout","hide","show","addClass","animate","scrollTop","addVer","dt","verDom","vdt","$vc","html","updatePageState","lastPage","openBdPop","bdTit","bdShare","$pop","closeBdPop","$close","tit","textTit","_bd_share_config","common","bdText","bdDesc","bdPic","share","bdSize","getElementsByTagName","body","appendChild","createElement","src","Date","_bd_share_main","init","endPage","$txt","openComment","currentTime","isNew","clearTimeout","$closeComment","attr","closeComment","$reBtn","$this","this","bkd","look","$lookBtn","data","render","loading","startShow","clearInterval","timerUpd","$ld","fadeOut","loaded","gsVd","append","onended","updateProgress","txt","txtListRev","count","animSpeed","txtList","ldTxt","reverse","len","length","$bar","width","setInterval","dev","ajax","dataType","url","success","yearData","jQuery"],"mappings":"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","file":"main.min.js","sourcesContent":["(function ($) {\r\n    var $m = $('#main');\r\n    var ydt;\r\n    var verData = {\r\n        v1:{\r\n            name:'1.0时代',\r\n            time:'2003年——2005年',\r\n            pic:'http://img7.gamersky.com/zqimg/zhuanti/15years/wap/ver1.png'\r\n        },\r\n        v2:{\r\n            name:'2.0时代',\r\n            time:'2005年-2008年',\r\n            pic:'http://img7.gamersky.com/zqimg/zhuanti/15years/wap/ver2.png'\r\n        },\r\n        v3:{\r\n            name:'3.0时代',\r\n            time:'2008年-2015年',\r\n            pic:'http://img7.gamersky.com/zqimg/zhuanti/15years/wap/ver3.png'\r\n        },\r\n        v4:{\r\n            name:'4.0时代',\r\n            time:'2015年-至今',\r\n            pic:'http://img7.gamersky.com/zqimg/zhuanti/15years/wap/ver4.png'\r\n        }\r\n    };\r\n    var cfg = {\r\n        history:1,\r\n        showState:1\r\n    };\r\n    var endPageTimer;\r\n    var zmBgm = document.getElementById('zmBgm'),bgmGoing = false;\r\n    zmBgm.volume=0.2;\r\n    $(window).on({\r\n        'blur':function(){\r\n            zmBgm.pause();\r\n        },\r\n        'focus':function(){\r\n            if(bgmGoing === true){\r\n                zmBgm.play();\r\n            }\r\n        }\r\n    });\r\n    document.addEventListener('visibilitychange', function() {\r\n        var isHidden = document.hidden;\r\n        if (isHidden) {\r\n            zmBgm.pause();\r\n        } else {\r\n            if(bgmGoing === true){\r\n                zmBgm.play();\r\n            }\r\n        }\r\n    });\r\n\tvar gs = {\r\n\t    isIe:function () {\r\n            var sbie = $.browser.msie,\r\n                ver = parseInt($.browser.version);\r\n            if(sbie === true && ver < 10){\r\n                return true\r\n            }\r\n        },\r\n        showPg:function(num){\r\n            var $box = $('#box'),$tar = $box.find('.item'+num);\r\n            $box.find('.item').removeClass('cur');\r\n            setTimeout(function () {\r\n                $box.find('.item').hide();\r\n                $tar.show();\r\n                setTimeout(function () {\r\n                    $tar.addClass('cur');\r\n                    $m.animate({scrollTop:0},200);\r\n                },50);\r\n            },250);\r\n        },\r\n        addVer:function (dt) {\r\n            var verDom = '',vdt = verData[dt],$vc = $('#verCon');\r\n            verDom += '<div class=\"infos\"><div class=\"tits\"><div class=\"tit-lev1\">'+vdt.name+'</div><div class=\"tit-lev2\">'+vdt.time+'</div></div><div class=\"btn-groups\"><a class=\"btn btn1\">没错  是我的第一次</a><a class=\"btn btn2 closeVer\">emm 不是这个年份</a><a class=\"btn btn3\">我还有话对你说</a></div><a class=\"close-btn closeVer\"><i></i></a></div><img class=\"ver-pic\" src=\"'+vdt.pic+'\" alt=\"ver\"><div class=\"btn-groups\"><a class=\"btn btn1\">没错  是我的第一次</a><a class=\"btn btn2 closeVer\">emm 不是这个年份</a><a class=\"btn btn3\">我还有话对你说</a></div><a class=\"close-btn closeVer\"><i></i></a></div>';\r\n            verDom += '';\r\n            verDom += '';\r\n            $vc.html(verDom);\r\n            cfg.history = 2;\r\n            $vc.find('.closeVer').on('click',function () {\r\n                cfg.history = 1;\r\n                cfg.showState = 1;\r\n                gs.updatePageState();\r\n            });\r\n            $vc.find('.btn3').on('click',function () {\r\n                gs.lastPage();\r\n            });\r\n            $vc.find('.btn1').on('click',function () {\r\n                gs.openBdPop();\r\n                var bdTit = '我第一次上游民是在'+vdt.time+'，这是当初游民的样子';\r\n                gs.bdShare(bdTit);\r\n            });\r\n        },\r\n        openBdPop:function () {\r\n\t        var $pop = $('.bdPop');\r\n            $pop.addClass('cur');\r\n        },\r\n        closeBdPop:function () {\r\n            var $pop = $('.bdPop'),$close = $('.bdPopClose');\r\n            $close.on('click',function () {\r\n                $pop.removeClass('cur');\r\n                //gs.lastPage();\r\n            })\r\n        },\r\n        bdShare:function (tit) {\r\n\t        var textTit = '这是一个暴露年龄的网站';\r\n\t        if(tit){\r\n                textTit = tit;\r\n            }\r\n            window._bd_share_config = {\r\n                common: {\r\n                    bdText: textTit,\r\n                    bdDesc: '游民星空15周年纪念专题，感谢一路有你，未来一起前行。',\r\n                    bdPic: 'http://img7.gamersky.com/zqimg/zhuanti/15years/350.jpg'\r\n                },\r\n                share: [{\r\n                    \"bdSize\": 16\r\n                }]\r\n            };\r\n            with(document) 0[(getElementsByTagName('head')[0] || body).appendChild(createElement('script')).src = 'http://bdimg.share.baidu.com/static/api/js/share.js?cdnversion=' + ~(-new Date() / 36e5)];\r\n            if(typeof window._bd_share_main !== 'undefined'){\r\n                window._bd_share_main.init();\r\n            }\r\n        },\r\n        lastPage:function () {\r\n            cfg.history = 3;\r\n            cfg.showState = 3;\r\n            gs.updatePageState();\r\n            $('#paraAnim').addClass('cur');\r\n            bgmGoing = true;\r\n            zmBgm.play();\r\n        },\r\n        endPage:function () {\r\n            var $txt = $('#paraAnim');\r\n            $('#paraNext').on('click',function () {\r\n                $txt.removeClass('cur');\r\n                cfg.history = 1;\r\n                gs.openComment('rebo');\r\n                bgmGoing = false;\r\n                zmBgm.currentTime = 0;\r\n                zmBgm.pause();\r\n            });\r\n        },\r\n        openComment:function (isNew) {\r\n            $('#paraAnim').removeClass('cur');\r\n            clearTimeout(endPageTimer);\r\n            var $closeComment = $('#closeComment');\r\n            if(isNew === true){\r\n                $closeComment.attr('data-back',cfg.history);\r\n            }else if(isNew === 'rebo'){\r\n                $('#closeCommentRe').addClass('cur');\r\n                $closeComment.attr('data-back',cfg.history);\r\n            }\r\n            cfg.showState = 4;\r\n            gs.updatePageState();\r\n        },\r\n        closeComment:function () {\r\n            var $closeComment = $('#closeComment'),$reBtn = $('#closeCommentRe');\r\n            $('.openComment').on('click',function () {\r\n                gs.openComment(true);\r\n            });\r\n            $closeComment.on('click',function () {\r\n                var $this = $(this),bkd = $this.attr('data-back');\r\n                if(bkd === '3' || bkd === 3){\r\n                    gs.lastPage();\r\n                }else{\r\n                    cfg.showState = bkd;\r\n                    gs.updatePageState();\r\n                }\r\n                $reBtn.removeClass('cur');\r\n            });\r\n            $reBtn.on('click',function () {\r\n                var $this = $(this),\r\n                    bkd = $this.attr('data-back');\r\n                cfg.showState = bkd;\r\n                gs.updatePageState();\r\n                $reBtn.removeClass('cur');\r\n            });\r\n        },\r\n        look:function () {\r\n            var $lookBtn = $m.find('.look-btn');\r\n            $lookBtn.on('click',function () {\r\n                var $this = $(this),ver = $this.data('ver');\r\n                gs.addVer(ver);\r\n                cfg.showState = 2;\r\n                gs.updatePageState();\r\n            });\r\n        },\r\n        updatePageState:function () {\r\n            gs.showPg(cfg.showState);\r\n        },\r\n        render:function () {\r\n\t        gs.endPage();\r\n            gs.look();\r\n            gs.updatePageState();\r\n            gs.closeComment();\r\n            gs.closeBdPop();\r\n            gs.bdShare();\r\n        },\r\n        loading:function () {\r\n            var animSpeed = 5000,txtList = ydt.ldTxt,txtListRev = txtList.reverse(),$ld = $('#loading'),len = txtListRev.length,$txt = $ld.find('.lp-txt'),$bar = $ld.find('.lp-bar i'),count = 0;\r\n            var timerUpd;\r\n            function startShow() {\r\n                clearInterval(timerUpd);\r\n                $ld.fadeOut(500);\r\n                $('html').removeClass('hideScroll');\r\n                gs.render();\r\n            }\r\n            function loaded() {\r\n                var gsVd = document.getElementById('ldVideo');\r\n                $ld.find('.loading-con').append('<a id=\"playVideo\" class=\"playVideo\"></a>');\r\n                $('#playVideo').on('click',function () {\r\n                    $ld.find('.loading-con').removeClass('cur');\r\n                    $ld.find('.loading-video').addClass('cur');\r\n                    gsVd.play();\r\n                    gsVd.onended=function () {\r\n                        startShow();\r\n                    };\r\n                    $('#skipVd').on('click',function () {\r\n                        startShow();\r\n                        gsVd.pause();\r\n                    });\r\n                });\r\n            }\r\n            function updateProgress() {\r\n                var txt = txtListRev[count];\r\n                $txt.html(txt);\r\n                count++;\r\n            }\r\n            $bar.animate({'width':'100%'},animSpeed);\r\n            timerUpd = setInterval(function () {\r\n                updateProgress();\r\n            },animSpeed/len);\r\n            setTimeout(function () {\r\n                loaded();\r\n            },animSpeed);\r\n        },\r\n        init:function (dev) {\r\n            if(dev === true){\r\n                $('#loading').fadeOut();\r\n                $('html').removeClass('hideScroll');\r\n                gs.render();\r\n            }else{\r\n                gs.loading();\r\n            }\r\n        }\r\n\t};\r\n    $.ajax({\r\n        dataType:'Script',\r\n        url:'http://j.gamersky.com/zhuanti/15years/yearsData.js',\r\n        success:function () {\r\n            ydt = yearData;\r\n            gs.init(false);\r\n        }\r\n    });\r\n})(jQuery);"]}
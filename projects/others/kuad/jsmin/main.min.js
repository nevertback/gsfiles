!function(t){var i="http://db2.gamersky.com/GameDistributor.aspx?game_id=",n={countIds:[{name:"仁王",kuid:"662872",oldid:"993591",newid:"993596",zqid:"993597"},{name:"尼尔：机械纪元",kuid:"673540",oldid:"993589",newid:"993595",zqid:"993594"}],addCountZp:function(i){t.each(n.countIds,function(n,e){e.kuid==i&&(t(".tgFenxiaoMini").addClass("countHit countHitSql").attr("data-itemid",e.newid),t(".YXXX-L .btn a").addClass("countHit countHitSql").attr("data-itemid",e.oldid))})},addCountZq:function(i){t.each(n.countIds,function(n,e){e.kuid==i&&t(".tg-fenxiao-btn").addClass("countHit countHitSql").attr("data-itemid",e.zqid)})},getPageGameKuId:function(){var i;return"undefined"!=typeof gameLib&&(i=gameLib),void 0===i&&t("#gamerskypf").data("generalid"),void 0===i&&(i=t("#Remark").attr("sid")),void 0===i&&(i=t(".ratingGroup").data("generalid")),i},getApiData:function(e){var o=n.getPageGameKuId();t.ajax({dataType:"jsonp",url:i+o,success:function(t){1===t.status&&"function"==typeof e&&e(t)}})},longStyle:function(){var t="";return t+='.tg-fenxiao-long{white-space: nowrap;position:relative;margin:20px auto 30px;width:100%;height:64px;background-color:#fff;-webkit-box-shadow:0 1px 0 rgba(102,102,102,.15);box-shadow:0 1px 0 rgba(102,102,102,.15);font-family:"Microsoft YaHei"}.tg-fenxiao-long div{overflow:visible}.tg-fenxiao-long a{text-decoration:none}.tg-fenxiao-long a:hover{text-decoration:none}.tg-fenxiao-long .tg-fenxiao-name{padding-left:55px;width:250px;height:64px;line-height:64px;font-size:18px;color:#262626;font-weight:700;background:url(http://image.gamersky.com/webimg15/tg/long-buy.png) 18px center no-repeat;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.tg-fenxiao-long .tg-fenxiao-right{position:absolute;right:16px;top:16px}.tg-fenxiao-long .tg-fenxiao-right .tg-fenxiao-price{position:absolute;top:0;right:118px;height:32px;line-height:32px;color:#333}.tg-fenxiao-long .tg-fenxiao-right .tg-fenxiao-price span{font-size:14px}.tg-fenxiao-long .tg-fenxiao-right .tg-fenxiao-price i{font-size:18px;font-style:normal}.tg-fenxiao-long .tg-fenxiao-right .tg-fenxiao-price.tg-fenxiao-price-off{right:168px;color:#df3900;white-space: nowrap;}.tg-fenxiao-long .tg-fenxiao-right .tg-fenxiao-price.tg-fenxiao-price-off del{margin-right:14px;font-size:14px;color:#666}.tg-fenxiao-long .tg-fenxiao-right .tg-fenxiao-btn{display:block;width:100px;height:32px;line-height:32px;background:url(http://image.gamersky.com/webimg15/tg/long-btn.png) 0 0 no-repeat;font-size:14px;color:#fff;text-align:center}.tg-fenxiao-long .tg-fenxiao-right .tg-fenxiao-btn span{display:none}.tg-fenxiao-long .tg-fenxiao-right .tg-fenxiao-btn:hover{background-position:0 -40px}.tg-fenxiao-long .tg-fenxiao-right .tg-fenxiao-btn.tg-fenxiao-btn-off{padding-left:48px;background-position:0 -79px}.tg-fenxiao-long .tg-fenxiao-right .tg-fenxiao-btn.tg-fenxiao-btn-off span{display:block;position:absolute;left:0;top:0;width:48px;text-align:center}.tg-fenxiao-long .tg-fenxiao-right .tg-fenxiao-btn.tg-fenxiao-btn-off:hover{text-decoration:none;background-position:0 -119px}'},midStyle:function(){var t="";return t+='.tg-fenxiao-middle{white-space: nowrap;position:relative;margin:0 15px 15px;height:39px;border-top:1px solid #424242;border-bottom:1px solid #424242}.tg-fenxiao-middle a{text-decoration:none}.tg-fenxiao-middle a:hover{text-decoration:none}.tg-fenxiao-middle .tg-fenxiao-price{position:relative;height:39px;line-height:39px;color:#f35f1c;font-family:"Microsoft YaHei"}.tg-fenxiao-middle .tg-fenxiao-price span{font-size:14px}.tg-fenxiao-middle .tg-fenxiao-price i{font-size:18px;font-style:normal}.tg-fenxiao-middle .tg-fenxiao-price.tg-fenxiao-price-off del{margin-right:14px;font-size:14px;color:#aaa}.tg-fenxiao-middle .tg-fenxiao-btn{position:absolute;right:0;top:7px;display:block;width:72px;height:25px;line-height:25px;background:url(http://image.gamersky.com/webimg15/tg/mid-btn.png) 0 0 no-repeat;font-size:12px;color:#fff0eb;text-align:center}.tg-fenxiao-middle .tg-fenxiao-btn span{display:none}.tg-fenxiao-middle .tg-fenxiao-btn:hover{background-position:0 -30px;color:#fff0eb}.tg-fenxiao-middle .tg-fenxiao-btn.tg-fenxiao-btn-off{padding-left:44px;background-position:0 -60px}.tg-fenxiao-middle .tg-fenxiao-btn.tg-fenxiao-btn-off span{display:block;position:absolute;left:0;top:0;width:44px;text-align:center}.tg-fenxiao-middle .tg-fenxiao-btn.tg-fenxiao-btn-off:hover{text-decoration:none;background-position:0 -90px}'},longPos:function(t,i){var e,o,a="",g=i.data,f=parseInt(g.oldprice),r=parseInt(g.price),d=!0,x=t.data("css");f===r?d=!1:e=Math.round(100*(1-r/f))+"%",o=x?'style="'+x+'"':"",a+="<style>"+n.longStyle()+"</style>",a+='<div class="tg-fenxiao-long" '+o+'><div class="tg-fenxiao-name">',a+=g.title,a+='</div><div class="tg-fenxiao-right">',d===!0?(a+='<div class="tg-fenxiao-price tg-fenxiao-price-off"><del>￥'+f+"</del><span>￥</span><i>"+r+"</i></div>",a+='<a target="_blank" href="'+g.url+'" class="tg-fenxiao-btn tg-fenxiao-btn-off"><span>-'+e+"</span>正版购买</a>"):(a+='<div class="tg-fenxiao-price"><span>￥</span><i>'+r+"</i></div>",a+='<a target="_blank" href="'+g.url+'" class="tg-fenxiao-btn">正版购买</a>'),a+="</div></div>",t.html(a)},midPos:function(t,i){var e,o="",a=i.data,g=parseInt(a.oldprice),f=parseInt(a.price),r=!0;g===f?r=!1:e=Math.round(100*(1-f/g))+"%",o+="<style>"+n.midStyle()+"</style>",o+='<div class="tg-fenxiao-middle">',r===!0?(o+='<div class="tg-fenxiao-price tg-fenxiao-price-off"><del>￥'+g+"</del><span>￥</span><i>"+f+"</i></div>",o+='<a target="_blank" href="'+a.url+'" class="tg-fenxiao-btn tg-fenxiao-btn-off"><span>-'+e+"</span>正版购买</a>"):(o+='<div class="tg-fenxiao-price"><span>￥</span><i>'+f+"</i></div>",o+='<a target="_blank" href="'+a.url+'" class="tg-fenxiao-btn">正版购买</a>'),o+="</div>",t.html(o),n.addCountZq(a.kuid)},miniPos:function(t,i){var e="",o=i.data;e+='<a target="_blank" href="'+o.url+'" class="tgFenxiaoMini" style="background: url(http://image.gamersky.com/webimg15/tg/mini-btn.png) center 5px no-repeat;"></a>',t.append(e),n.addCountZp(o.kuid)},insert:function(i){var n=this,e=t("#tgFenxiaoLong"),o=t("#tgFenxiaoMiddle"),a=t("#tgFenxiaoMini"),g=t(".Midnav");e.length>0&&n.longPos(e,i),o.length>0&&n.midPos(o,i),a.length>0&&n.miniPos(g,i)},init:function(){var t=this;t.getApiData(function(i){t.insert(i)})}};n.init()}(jQuery);
//# sourceMappingURL=main.min.js.map

{"version":3,"sources":["qz.wap.js"],"names":["$","jsmodel","clubApis","getWapCardComment","paramsData","callback","beforeSendFnc","apiUrl","ajax","type","dataType","url","data","beforeSend","success","backData","error","err","console","log","getWapCardContext","getWapClubContext","getCommentCount","getWapClubComment","getwapclubuserlike","getLike","addLike","getWapCardCommentPage2","getWapCardCommentPageOne","getWapCardCommentPageOnePage2","clubConfig","listNavSetter","new","sort","hot","best","innerCommentState","isTrim","s","replace","fn","extend","textareaAutoHeight","options","this","_options","minHeight","maxHeight","init","p","parseFloat","height","attr","keyup","resetHeight","change","focus","_minHeight","_maxHeight","browser","msie","h","scrollHeight","scrollTop","css","qzConfig","isCanLoading","loadingDom","loadedDom","loadnullDom","qzFunc","setRem","pw","window","width","font-size","popCommon","open","addClass","close","removeClass","createCard","cdp","cardDom","cardid","head","user","vauth","createtime","spectop","specvalue","isVideo","text","video","src","videoTitle","piclist","length","each","i","item","ext","large","origin","size","undefined","picbig","picType","pic","fromUrl","from","addSwpOnce","swp","append","photoSwp","initPhotoSwipeFromDOM","gallerySelector","parseThumbnailElements","el","figureEl","linkEl","thumbElements","childNodes","numNodes","items","nodeType","children","getAttribute","split","w","parseInt","ori","title","innerHTML","msrc","push","closest","parentNode","onThumbnailsClick","e","event","preventDefault","returnValue","eTarget","target","srcElement","clickedListItem","tagName","toUpperCase","index","clickedGallery","numChildNodes","nodeIndex","openPhotoSwipe","galleryElement","disableAnimation","fromURL","setOrigin","num","gallery","pswpElement","shareEl","fullscreenEl","zoomEl","bgOpacity","showHideOpacity","galleryUID","history","tapToClose","getThumbBoundsFn","thumbnail","getElementsByTagName","pageYScroll","pageYOffset","document","documentElement","rect","getBoundingClientRect","x","left","y","top","galleryPIDs","j","pid","isNaN","showAnimationDuration","PhotoSwipe","PhotoSwipeUI_Default","listen","getCurrentIndex","animate","opacity","galleryElements","querySelectorAll","l","setAttribute","onclick","insertCard","tar","dt","insDom","html","like","removeTarget","commentCount","openVideoPop","appendCard","addContext","insertContext","scrolltopval","setAreaSize","$qzPop","find","on","val","textsth","closePop","setTimeout","remove","topic","comDom","clubHtml","selectPhoto","sid","fabuSubmit","UserOnline","response","status","st","addComment","insertComment","cid","commentId","rename","userId","placeholder","commentInner","uerId","$this","commNum","count","initPageTopic","tarInsert","clubId","topicTitle","jsondata","pageIndex","JSON","stringify","responseObject","result","parseJSON","body","cardgroup","page","initPageContext","gcContextJsondata","clubContentId","gcContextParamsData","commtar","gcCommentJsondata","pageSize","gcCommentparamsData","addMoreBtn","Math","ceil","sumcount","insertCardComment","commlist","canClk","excludeCommentId","Params","appendCardComment","infiniteLoad","loadFunc","scrollJudge","dh","wh","scroll","topicMore","$moreBtn","excludeclubContentId","tabNav","navFunc","fixNav","navTop","$navPos","offset","srlTop","$navWrap","scrollLoading","$html","hh","navSt","scrollLoaded","clearTimeout","loadedTimer","$nav","tarCon","getClub","pageGoto","openId","stopPropagation","createCardComment","cmdt","commDom","commid","name","useId","reply","replytime","context","createCommentReply","replyData","reDom","createCardCommentFull","that","replylike","editauth","replydevice","replycount","createCardCommentList","addMore","createCardLike","lkdt","likeDom","likeid","insertCardLike","appendCardLike","videoPop","vdsrc","$pop","popDom","vdurl","ykSign","ykIndexOfBegin","indexOf","ykIndexOfEnd","substring","createAllTopic","topicDom","Id","Title","allTopic","createList","listDom","$topicList","allTopicJoinCount","addList","getListData","dataOriUrl","data-page","data-infiload","$main","cardInnerCommentPageTop","vDom","cardInnerCommentPageList","cardInnerCommentPage","createDom","getMoreList","getMoreParams","$commentArea","commPage","backJsonData","morelistDom","commlistData","replyPage","replysize","insertBefore","pageTopDom","pageListDom","pageDom","commentOneParams","renderPage","reDeleteConfirm","confirm","popBaiduShare","createPop","initBaiduShare","baiduSrc","Date","_bd_share_main","getScript","showPop","globalBind","main","resize","ready","joinCount","beforeOpenSt","$div","maxnum","$textarea","minH","rowH","maxH","htm","removeAttr","parent","len","value","substr","$lipic","$fabuVideo","valcon","content","images","eq","small","tinysquare","tiny","imageType","videos","avvid","avtit","avurl","avimg","avname","image","videoUrl","videoVid","siteName","alert","device","prepend","bind","trigger","fileupload","maxFileSize","done","original","imageclass","unbind","parents","not","responseJson","settingSize","settingSizeMb","files","before","cfg","contentType","topicId","loading","excludeIds","clubListParams","support","transData","digg","click","fromDevice","m","commentDo","gCommentCountParams","$th","insertListComment","initFnc","$card","join","clubContent","trim","siblings","replyCommentId","replyId","$qzClComment","fun","insertYmwLoginPop","QZloginForm","returnUrl","location","href","encodeURI","show","hide","jQuery"],"mappings":"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","file":"main.min.js","sourcesContent":["(function ($) {\r\n    var jsmodel = 'dev';\r\n    //todo:2018.03.06 更新 分离Api处理\r\n    var clubApis = {\r\n        //获取单页评论接口\r\n        getWapCardComment:function (paramsData,callback,beforeSendFnc) {\r\n            var apiUrl = \"./data/fake.comment.page1.json\";\r\n            $.ajax({\r\n                type: \"get\",\r\n                dataType: \"json\",\r\n                url: apiUrl,\r\n                data: paramsData,\r\n                beforeSend: function () {\r\n                    if(typeof beforeSendFnc === 'function'){\r\n                        beforeSendFnc();\r\n                    }\r\n                },\r\n                success: function (backData) {\r\n                    if(typeof callback === 'function'){\r\n                        callback(backData);\r\n                    }\r\n                },\r\n                error:function (err) {\r\n                    console.log(err)\r\n                }\r\n            });\r\n        },\r\n        //获取单页内容接口\r\n        getWapCardContext:function (paramsData,callback,beforeSendFnc) {\r\n            var apiUrl = \"http://192.168.0.100:9009/apis/club/api/getwapcardcontext\";\r\n            $.ajax({\r\n                type: \"get\",\r\n                dataType: \"json\",\r\n                url: apiUrl,\r\n                data: paramsData,\r\n                beforeSend: function () {\r\n                    if(typeof beforeSendFnc === 'function'){\r\n                        beforeSendFnc();\r\n                    }\r\n                },\r\n                success: function (backData) {\r\n                    if(typeof callback === 'function'){\r\n                        callback(backData);\r\n                    }\r\n                },\r\n                error:function (err) {\r\n                    console.log(err)\r\n                }\r\n            });\r\n        },\r\n        //获取圈子列表数据接口\r\n        getWapClubContext:function (paramsData,callback,beforeSendFnc) {\r\n            var apiUrl = \"http://192.168.0.100:9009/apis/club/api/getwapclubcontent\";\r\n            $.ajax({\r\n                type: \"get\",\r\n                dataType: \"json\",\r\n                url: apiUrl,\r\n                data: paramsData,\r\n                beforeSend: function () {\r\n                    if(typeof beforeSendFnc === 'function'){\r\n                        beforeSendFnc();\r\n                    }\r\n                },\r\n                success: function (backData) {\r\n                    if(typeof callback === 'function'){\r\n                        callback(backData);\r\n                    }\r\n                },\r\n                error:function (err) {\r\n                    console.log(err)\r\n                }\r\n            });\r\n        },\r\n        //获取圈子评论数接口\r\n        getCommentCount:function (paramsData,callback,beforeSendFnc) {\r\n            var apiUrl = \"http://192.168.0.100:9009/apis/club/api/getcommentcount\";\r\n            $.ajax({\r\n                type: \"get\",\r\n                dataType: \"jsonp\",\r\n                url: apiUrl,\r\n                data: paramsData,\r\n                beforeSend: function () {\r\n                    if(typeof beforeSendFnc === 'function'){\r\n                        beforeSendFnc();\r\n                    }\r\n                },\r\n                success: function (backData) {\r\n                    if(typeof callback === 'function'){\r\n                        callback(backData);\r\n                    }\r\n                },\r\n                error:function (err) {\r\n                    console.log(err)\r\n                }\r\n            });\r\n        },\r\n        //获取圈子评论接口\r\n        getWapClubComment:function (paramsData,callback,beforeSendFnc) {\r\n            var apiUrl = \"http://192.168.0.100:9009/apis/club/api/getwapclubcomment\";\r\n            $.ajax({\r\n                type: \"get\",\r\n                dataType: \"json\",\r\n                url: apiUrl,\r\n                data: paramsData,\r\n                beforeSend: function () {\r\n                    if(typeof beforeSendFnc === 'function'){\r\n                        beforeSendFnc();\r\n                    }\r\n                },\r\n                success: function (backData) {\r\n                    if(typeof callback === 'function'){\r\n                        callback(backData);\r\n                    }\r\n                },\r\n                error:function (err) {\r\n                    console.log(err)\r\n                }\r\n            });\r\n        },\r\n        //获取点赞带头像数据接口\r\n        getwapclubuserlike:function (paramsData,callback,beforeSendFnc) {\r\n            var apiUrl = \"http://192.168.0.100:9009/apis/club/api/getwapclubuserlike\";\r\n            $.ajax({\r\n                type: \"get\",\r\n                dataType: \"json\",\r\n                url: apiUrl,\r\n                data: paramsData,\r\n                beforeSend: function () {\r\n                    if(typeof beforeSendFnc === 'function'){\r\n                        beforeSendFnc();\r\n                    }\r\n                },\r\n                success: function (backData) {\r\n                    if(typeof callback === 'function'){\r\n                        callback(backData);\r\n                    }\r\n                },\r\n                error:function (err) {\r\n                    console.log(err)\r\n                }\r\n            });\r\n        },\r\n        //获取点赞数据接口\r\n        getLike:function (paramsData,callback,beforeSendFnc) {\r\n            var apiUrl = \"http://192.168.0.100:9009/apis/club/api/getlike\";\r\n            $.ajax({\r\n                type: \"get\",\r\n                dataType: \"jsonp\",\r\n                url: apiUrl,\r\n                data: paramsData,\r\n                beforeSend: function () {\r\n                    if(typeof beforeSendFnc === 'function'){\r\n                        beforeSendFnc();\r\n                    }\r\n                },\r\n                success: function (backData) {\r\n                    if(typeof callback === 'function'){\r\n                        callback(backData);\r\n                    }\r\n                },\r\n                error:function (err) {\r\n                    console.log(err)\r\n                }\r\n            });\r\n        },\r\n        //提交点赞接口\r\n        addLike:function (paramsData,callback,beforeSendFnc) {\r\n            var apiUrl = \"http://192.168.0.100:9009/apis/club/api/addlike\";\r\n            $.ajax({\r\n                type: \"get\",\r\n                dataType: \"jsonp\",\r\n                url: apiUrl,\r\n                data: paramsData,\r\n                beforeSend: function () {\r\n                    if(typeof beforeSendFnc === 'function'){\r\n                        beforeSendFnc();\r\n                    }\r\n                },\r\n                success: function (backData) {\r\n                    if(typeof callback === 'function'){\r\n                        callback(backData);\r\n                    }\r\n                },\r\n                error:function (err) {\r\n                    console.log(err)\r\n                }\r\n            });\r\n        },\r\n        //静态页演示用接口，线上不需要保留\r\n        //获取单页评论第二页接口（接口做静态页演示专用）\r\n        getWapCardCommentPage2:function (paramsData,callback,beforeSendFnc) {\r\n            var apiUrl = \"./data/fake.comment.page2.json\";\r\n            $.ajax({\r\n                type: \"get\",\r\n                dataType: \"json\",\r\n                url: apiUrl,\r\n                data: paramsData,\r\n                beforeSend: function () {\r\n                    if(typeof beforeSendFnc === 'function'){\r\n                        beforeSendFnc();\r\n                    }\r\n                },\r\n                success: function (backData) {\r\n                    if(typeof callback === 'function'){\r\n                        callback(backData);\r\n                    }\r\n                },\r\n                error:function (err) {\r\n                    console.log(err)\r\n                }\r\n            });\r\n        },\r\n        //获取单页评论独立页接口，实际线上为“获取单页评论接口”的指定评论ID的1条数据（接口做静态页演示专用）\r\n        getWapCardCommentPageOne:function (paramsData,callback,beforeSendFnc) {\r\n            var apiUrl = \"./data/fake.comment.one.json\";\r\n            $.ajax({\r\n                type: \"get\",\r\n                dataType: \"json\",\r\n                url: apiUrl,\r\n                data: paramsData,\r\n                beforeSend: function () {\r\n                    if(typeof beforeSendFnc === 'function'){\r\n                        beforeSendFnc();\r\n                    }\r\n                },\r\n                success: function (backData) {\r\n                    if(typeof callback === 'function'){\r\n                        callback(backData);\r\n                    }\r\n                },\r\n                error:function (err) {\r\n                    console.log(err)\r\n                }\r\n            });\r\n        },\r\n        //获取单页评论独立页接口 第二页（接口做静态页演示专用）\r\n        getWapCardCommentPageOnePage2:function (paramsData,callback,beforeSendFnc) {\r\n            var apiUrl = \"./data/fake.comment.one.page2.json\";\r\n            $.ajax({\r\n                type: \"get\",\r\n                dataType: \"json\",\r\n                url: apiUrl,\r\n                data: paramsData,\r\n                beforeSend: function () {\r\n                    if(typeof beforeSendFnc === 'function'){\r\n                        beforeSendFnc();\r\n                    }\r\n                },\r\n                success: function (backData) {\r\n                    if(typeof callback === 'function'){\r\n                        callback(backData);\r\n                    }\r\n                },\r\n                error:function (err) {\r\n                    console.log(err)\r\n                }\r\n            });\r\n        }\r\n    };\r\n    var clubConfig = {\r\n        //卡片列表排序方式\r\n        listNavSetter:{\r\n            //最新\r\n            new:{\r\n                sort:1,\r\n                type:0\r\n            },\r\n            //最热\r\n            hot:{\r\n                sort:2,\r\n                type:0\r\n            },\r\n            //精品\r\n            best:{\r\n                sort:1,\r\n                type:1\r\n            }\r\n        },\r\n        // 是否开启开篇列表内回复 val: open | close\r\n        innerCommentState:'close'\r\n    };\r\n    //模拟加载更多用测试数据begin\r\n    var isTrim = function (s) {\r\n        if (typeof (s) == 'undefined') {\r\n            return false;\r\n        }\r\n        return s.replace(/(^\\s*)|(\\s*$)/g, \"\");\r\n    };  //清除空格\r\n    $.fn.extend({\r\n        //文本框自适应高度\r\n        textareaAutoHeight: function (options) {\r\n            this._options = { minHeight: 0, maxHeight: 1000 }\r\n            this.init = function () {\r\n                for (var p in options) {\r\n                    this._options[p] = options[p];\r\n                }\r\n                if (this._options.minHeight == 0) {\r\n                    this._options.minHeight = parseFloat($(this).height());\r\n                }\r\n                for (var p in this._options) {\r\n                    if ($(this).attr(p) == null) {\r\n                        $(this).attr(p, this._options[p]);\r\n                    }\r\n                }\r\n                $(this).keyup(this.resetHeight).change(this.resetHeight).focus(this.resetHeight);\r\n            }\r\n            this.resetHeight = function () {\r\n                var _minHeight = parseFloat($(this).attr(\"minHeight\"));\r\n                var _maxHeight = parseFloat($(this).attr(\"maxHeight\"));\r\n\r\n                if (!$.browser.msie) { $(this).height(0); }\r\n                var h = parseFloat(this.scrollHeight);\r\n                h = h < _minHeight ? _minHeight : h > _maxHeight ? _maxHeight : h;\r\n                $(this).height(h).scrollTop(h);\r\n                $(this).css(\"overflow-y\", h >= _maxHeight ? \"scroll\" : \"hidden\");\r\n            }\r\n            this.init();\r\n        }\r\n    });\r\n    var qzConfig = {\r\n        // 判断是否开始无限加载\r\n        isCanLoading: true,\r\n        //加载中 结构\r\n        loadingDom: '<div class=\"qz-loading\">正在加载</div>',\r\n        //全部加载完成 结构\r\n        loadedDom: '<div class=\"qz-loaded\">全部加载完成</div>',\r\n        //内容为空 结构\r\n        loadnullDom: '<div class=\"qz-loadnull\">还没有内容</div>'\r\n    };\r\n    var qzFunc = {\r\n        //设置屏幕缩放\r\n        setRem: function () {\r\n            var pw = $(window).width();\r\n            if (pw >= 640) {\r\n                pw = 640;\r\n            }\r\n            $('html').css({ 'font-size': pw / 6.4 + 'px' });\r\n        },\r\n        //弹窗公用方法\r\n        popCommon:{\r\n            open:function () {\r\n                $('html').addClass('hideScroll');\r\n                $('.ymw-backtotop').css('display','none');\r\n            },\r\n            close:function () {\r\n                $('html').removeClass('hideScroll');\r\n                $('.ymw-backtotop').css('display','block');\r\n            }\r\n        },\r\n        //构建卡片\r\n        createCard: function (cdp) {\r\n            var cardDom = '';\r\n            //插入卡片ID cdp.cardid\r\n            cardDom += '<div class=\"qz-card qzCard\" data-cid=\"' + cdp.cardid + '\">';\r\n            //头部 begin\r\n            //插入用户头像 cdp.head\r\n            cardDom += '<header><a class=\"head\"><img src=\"' + cdp.head + '\" alt=\"head\"></a>';\r\n            cardDom += '<div class=\"info\"><h5>';\r\n            //插入用户名 cdp.user\r\n            cardDom += '<a>' + cdp.user + '</a>';\r\n            //是否加V图标\r\n            if (isTrim(cdp.vauth)) {\r\n                cardDom += '<img src=\"' + cdp.vauth + '\">';\r\n            }\r\n            //是否加编辑V图标\r\n            //if (isTrim(cdp.editauth)) {\r\n            //  cardDom += '<i class=\"member member-v2\"></i>';\r\n            // }\r\n            cardDom += '</h5><p>';\r\n            //插入创建时间 cdp.createtime\r\n            cardDom += '<span class=\"time\">' + cdp.createtime + '</span>';\r\n            cardDom += '</p>';\r\n            cardDom += '</div>';\r\n            //是否加置顶 cdp.spectop 和 精 cdp.specvalue 图标\r\n            if (cdp.spectop === true || cdp.specvalue === true) {\r\n                cardDom += '<div class=\"spec-icons\">';\r\n                if (cdp.spectop === true) {\r\n                    cardDom += '<a class=\"spec-top\">置顶</a>';\r\n                }\r\n                if (cdp.specvalue === true) {\r\n                    cardDom += '<a class=\"spec-value\">精</a>';\r\n                }\r\n                cardDom += '</div>';\r\n            }\r\n            cardDom += '</header>';\r\n            //头部 end\r\n            //主体 begin\r\n            //插入卡片跳转地址 cdp.url\r\n            cardDom += '<section class=\"detail qzZoneHref\" data-href=\"' + cdp.url + '\">';\r\n            //插入卡片内容 cdp.text\r\n            cardDom += '<div class=\"content\">';\r\n            if (cdp.isVideo) {\r\n                cardDom += cdp.text;\r\n                cardDom += '<a href=' + cdp.video.src + ' class=\"link-video\">' + cdp.video.videoTitle + '</a>';\r\n            }\r\n            else {\r\n                cardDom += cdp.text;\r\n            }\r\n            cardDom += '</div>';\r\n            //判断 插入 图片列表 cdp.piclist\r\n            if (cdp.piclist.length > 0) {\r\n                cardDom += '<div class=\"media-pic-list\"><div class=\"clearfix qz-figs qzPicPswp\">';\r\n                $.each(cdp.piclist, function (i, item) {\r\n                    cardDom += '<figure class=\"qzPicPswpBtn';\r\n                    //输出数据文件中的图片样式item.ext\r\n                    if (item.ext === 'gif') {\r\n                        cardDom += ' gif\"';\r\n                        item.large = item.origin;\r\n                    } else if (item.ext === 'long') {\r\n                        cardDom += ' long\"';\r\n                    }\r\n                    //大图地址item.large,尺寸item.size,缩略图地址item.url\r\n                    cardDom += '\"><a data-picType=\"' + item.ext + '\" data-origin=\"' + item.origin + '\"  data-large=\"' + item.large + '\" data-size=\"' + item.size + '\"><img src=\"' + item.url + '\"></a></figure>';\r\n                });\r\n                cardDom += '</div></div>';\r\n            }\r\n            //判断是否插入大图\r\n            if (cdp.picbig.large != undefined) {\r\n                cdp.picbig.large = cdp.picbig.url;\r\n                var picType = \"\";\r\n                cardDom += '<div class=\"qzPicPswp media-pic';\r\n                //输出数据文件中的图片样式 item.ext\r\n                if (cdp.picbig.ext === 'gif') {\r\n                    picType = ' gif';\r\n                    cdp.picbig.large = cdp.picbig.origin;\r\n                } else if (cdp.picbig.ext === 'long') {\r\n                    picType = ' long';\r\n                }\r\n                //大图地址cdp.picbig.large,尺寸cdp.picbig.size,缩略图地址cdp.picbig.url\r\n                cardDom += '\"><figure class=\"' + picType + '\"><a  data-picType=\"' + cdp.picbig.ext + '\" data-origin=\"' + cdp.picbig.origin + '\" data-large=\"' + cdp.picbig.large + '\" data-size=\"' + cdp.picbig.size + '\"><img src=\"' + cdp.picbig.url + '\" class=\"qzPicPswpBtn\"></a></figure></div>';\r\n            }\r\n            //判断是否插入视频\r\n            if (cdp.isVideo) {\r\n                cardDom += '<div class=\"media-video\">';\r\n                //视频跳转地址 cdp.video.src,视频缩略图 cdp.video.pic\r\n                cardDom += '<a class=\"qzVideoPopBtn\" data-href=\"' + cdp.video.src + '\"><img src=\"' + cdp.video.pic + '\" alt=\"\"></a></div>'\r\n            }\r\n\r\n            cardDom += '</section>';\r\n            //判断是否输出来源\r\n            if (cdp.fromUrl) {\r\n                //来源地址cdp.fromUrl,来源名称cdp.from\r\n                cardDom += '<div class=\"from\">来自：<a href=\"' + cdp.fromUrl + '\" >' + cdp.from + '</a></div>';\r\n            }\r\n            //主体 end\r\n            //底部 begin\r\n            //todo:2018-03-13 更新：添加分享按钮，修改排列\r\n            cardDom += '<footer>';\r\n            cardDom += '<a class=\"btn-share qzBtnShare\" data-shareid=\"' + cdp.cardid + '\">分享</a>';\r\n            cardDom += '<span></span><a class=\"btn-comment qzBtnComment\" data-commcount=\"\"  data-clubcontentid=\"' + cdp.cardid + '\"   data-href=\"' + cdp.url + '\">0</a>';\r\n            cardDom += '<span></span><a class=\"btn-like qzBtnLike\" data-likecount=\"\" data-clubcontentid=\"' + cdp.cardid + '\" ><i></i><b>0</b></a>';\r\n            cardDom += '</footer>';\r\n            //底部 end\r\n            cardDom += '</div>';\r\n            cardDom += '';\r\n            cardDom += '';\r\n\r\n            return cardDom;\r\n        },\r\n        //图片弹出层 默认执行,一般情况不需要修改\r\n        addSwpOnce: function () {\r\n            var swp = '<div class=\"pswp\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\"><div class=\"pswp__bg\"></div><div class=\"pswp__scroll-wrap\"><div class=\"pswp__container\"><div class=\"pswp__item\"></div><div class=\"pswp__item\"></div><div class=\"pswp__item\"></div></div><div class=\"pswp__ui pswp__ui--hidden\"><div class=\"pswp__top-bar\"><div class=\"pswp__counter\"></div><button class=\"pswp__button pswp__button--close\" title=\"Close (Esc)\"></button><a target=\"_blank\" class=\"pswp__button pswpBtnOrigin pswp__single-tap\" title=\"查看原图\"></a> <button class=\"pswp__button pswp__button--share\" title=\"Share\"></button> <button class=\"pswp__button pswp__button--fs\" title=\"Toggle fullscreen\"></button> <button class=\"pswp__button pswp__button--zoom\" title=\"Zoom in/out\"></button><div class=\"pswp__preloader\"><div class=\"pswp__preloader__icn\"><div class=\"pswp__preloader__cut\"><div class=\"pswp__preloader__donut\"></div></div></div></div></div><div class=\"pswp__share-modal pswp__share-modal--hidden pswp__single-tap\"><div class=\"pswp__share-tooltip\"></div></div><button class=\"pswp__button pswp__button--arrow--left\" title=\"Previous (arrow left)\"></button> <button class=\"pswp__button pswp__button--arrow--right\" title=\"Next (arrow right)\"></button><div class=\"pswp__caption\"><div class=\"pswp__caption__center\"></div></div></div></div></div>';\r\n            $('body').append(swp);\r\n        },\r\n        //图片弹出层方法 默认执行,一般情况不需要修改\r\n        photoSwp: function () {\r\n            var initPhotoSwipeFromDOM = function (gallerySelector) {\r\n                var parseThumbnailElements = function (el) {\r\n                    var thumbElements = el.childNodes,\r\n                        numNodes = thumbElements.length,\r\n                        items = [],\r\n                        figureEl,\r\n                        linkEl,\r\n                        size,\r\n                        item;\r\n                    for (var i = 0; i < numNodes; i++) {\r\n                        figureEl = thumbElements[i];\r\n                        if (figureEl.nodeType !== 1) {\r\n                            continue;\r\n                        }\r\n                        linkEl = figureEl.children[0];\r\n                        size = linkEl.getAttribute('data-size').split('x');\r\n                        item = {\r\n                            src: linkEl.getAttribute('data-large'),\r\n                            w: parseInt(size[0], 10),\r\n                            h: parseInt(size[1], 10),\r\n                            ori: linkEl.getAttribute('data-origin'),\r\n                            picType: linkEl.getAttribute('data-picType')\r\n                        };\r\n                        if (figureEl.children.length > 1) {\r\n                            item.title = figureEl.children[1].innerHTML;\r\n                        }\r\n                        if (linkEl.children.length > 0) {\r\n                            item.msrc = linkEl.children[0].getAttribute('src');\r\n                        }\r\n                        item.el = figureEl;\r\n                        items.push(item);\r\n                    }\r\n                    return items;\r\n                };\r\n                var closest = function closest(el, fn) {\r\n                    return el && (fn(el) ? el : closest(el.parentNode, fn));\r\n                };\r\n                var onThumbnailsClick = function (e) {\r\n                    e = e || window.event;\r\n                    e.preventDefault ? e.preventDefault() : e.returnValue = false;\r\n                    var eTarget = e.target || e.srcElement;\r\n                    var clickedListItem = closest(eTarget, function (el) {\r\n                        return (el.tagName && el.tagName.toUpperCase() === 'FIGURE');\r\n                    });\r\n                    if (!clickedListItem) {\r\n                        return;\r\n                    }\r\n                    var clickedGallery = clickedListItem.parentNode,\r\n                        childNodes = clickedListItem.parentNode.childNodes,\r\n                        numChildNodes = childNodes.length,\r\n                        nodeIndex = 0,\r\n                        index;\r\n                    for (var i = 0; i < numChildNodes; i++) {\r\n                        if (childNodes[i].nodeType !== 1) {\r\n                            continue;\r\n                        }\r\n                        if (childNodes[i] === clickedListItem) {\r\n                            index = nodeIndex;\r\n                            break;\r\n                        }\r\n                        nodeIndex++;\r\n                    }\r\n                    if (index >= 0) {\r\n                        openPhotoSwipe(index, clickedGallery);\r\n                    }\r\n                    return false;\r\n                };\r\n\r\n                var openPhotoSwipe = function (index, galleryElement, disableAnimation, fromURL) {\r\n                    var pswpElement = $('.pswp')[0],\r\n                        gallery,\r\n                        options,\r\n                        items;\r\n                    items = parseThumbnailElements(galleryElement);\r\n                    options = {\r\n                        shareEl: false,\r\n                        fullscreenEl: false,\r\n                        zoomEl: false,\r\n                        bgOpacity: 1,\r\n                        showHideOpacity: 0,\r\n                        galleryUID: galleryElement.getAttribute('data-pswp-uid'),\r\n                        history: false,\r\n                        tapToClose:true,\r\n                        getThumbBoundsFn: function (index) {\r\n                            var thumbnail = items[index].el.getElementsByTagName('img')[0],\r\n                                pageYScroll = window.pageYOffset || document.documentElement.scrollTop,\r\n                                rect = thumbnail.getBoundingClientRect();\r\n                            return { x: rect.left, y: rect.top + pageYScroll, w: rect.width };\r\n                        }\r\n                    };\r\n                    if (fromURL) {\r\n                        if (options.galleryPIDs) {\r\n                            for (var j = 0; j < items.length; j++) {\r\n                                if (items[j].pid == index) {\r\n                                    options.index = j;\r\n                                    break;\r\n                                }\r\n                            }\r\n                        } else {\r\n                            options.index = parseInt(index, 10) - 1;\r\n                        }\r\n                    } else {\r\n                        options.index = parseInt(index, 10);\r\n                    }\r\n                    if (isNaN(options.index)) {\r\n                        return;\r\n                    }\r\n                    if (disableAnimation) {\r\n                        options.showAnimationDuration = 0;\r\n                    }\r\n                    gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, options);\r\n                    gallery.init();\r\n                    function setOrigin(num) {\r\n                        $('.pswpBtnOrigin').attr('href', items[num].ori)\r\n                    }\r\n                    gallery.listen('initialZoomIn', function () {\r\n                        setOrigin(gallery.getCurrentIndex());\r\n                        $('.pswp').animate({ 'opacity': 1 }, 333);\r\n                    });\r\n                    gallery.listen('initialZoomOut', function () {\r\n                        $('.pswp').animate({ 'opacity': 0 }, 200);\r\n                    });\r\n                    gallery.listen('afterChange', function () {\r\n                        setOrigin(gallery.getCurrentIndex());\r\n                    });\r\n                };\r\n                var galleryElements = document.querySelectorAll(gallerySelector);\r\n                for (var i = 0, l = galleryElements.length; i < l; i++) {\r\n                    galleryElements[i].setAttribute('data-pswp-uid', i + 1);\r\n                    galleryElements[i].onclick = onThumbnailsClick;\r\n                }\r\n            };\r\n            initPhotoSwipeFromDOM('.qzPicPswp');\r\n        },\r\n        //插入卡片\r\n        insertCard: function (tar, dt) {\r\n            var insDom = '';\r\n            $.each(dt, function (i, item) {\r\n                //使用返回数据 构建卡片\r\n                insDom += qzFunc.createCard(item);\r\n            });\r\n            $(tar).html(insDom);\r\n            //点赞\r\n            $(\".qzBtnLike\").like();\r\n            $(\".qzBtnLike\").addLike();\r\n            $(\".qzCard .content\").removeTarget();\r\n            $(\".qzBtnComment\").commentCount();\r\n            //构建完成后调用图片弹出层\r\n            qzFunc.photoSwp();\r\n            //开启视频弹窗\r\n            qzFunc.openVideoPop();\r\n        },\r\n        //加载更多卡片\r\n        appendCard: function (tar, dt) {\r\n            var insDom = '';\r\n            $.each(dt, function (i, item) {\r\n                //使用返回数据 构建卡片\r\n                insDom += qzFunc.createCard(item);\r\n            });\r\n            $(tar).append(insDom);\r\n            //点赞\r\n            $(\".qzBtnLike\").like();\r\n            $(\".qzBtnLike\").addLike();\r\n            $(\".qzCard .content\").removeTarget();\r\n            $(\".qzBtnComment\").commentCount();\r\n            //构建完成后调用图片弹出层\r\n            qzFunc.photoSwp();\r\n            //开启视频弹窗\r\n            qzFunc.openVideoPop();\r\n        },\r\n        //发布/参与\r\n        addContext: function () {\r\n            function insertContext(scrolltopval) {\r\n                var topic = $(\".topic\").attr(\"data-topic\");\r\n                if (topic == '') {\r\n                    topic = $(\".topic\").attr(\"data-selecttopic\");\r\n                }\r\n                var comDom = '';\r\n                comDom += '<div class=\"qz-pop qzPop\">';\r\n                comDom += '<header>发布内容<a class=\"qz-pop-close qzPopClose\"></a><a class=\"qz-pop-smt qzPopSmt\">发布</a></header>';\r\n                comDom += '<div class=\"pop-con\">';\r\n                comDom += '<div class=\"pop-srl\"><textarea class=\"realIpt\" placeholder=\"分享你的游戏心得...\">';\r\n                if (isTrim(topic)) {\r\n                    comDom += topic;\r\n                }\r\n                comDom += '</textarea > <textarea class=\"mathIpt\" rows=\"3\"></textarea></div > ';\r\n                //上传图片后显示，不传图片不显示 begin\r\n                comDom += '<div class=\"clearfix qz-pic-list\">';\r\n                comDom += '<div class=\"qz-pic-list-li\"><label for=\"qzSelectPhoto\" class=\"qz-pic-list-add\"></label></div>';\r\n                comDom += '</div>';\r\n                comDom += '<input id=\"fileupload\" data-imagesize=\"5120\"  type=\"file\" style=\"display:none\" name=\"files\" method=\"POST\" multiple=\"\">';\r\n                //上传图片后显示，不传图片不显示 end\r\n                comDom += '</div>';\r\n                comDom += '<footer><label for=\"qzSelectPhoto\" class=\"qz-upload-pic qzUploadPic\">图片</label><select class=\"qz-pop-sel\">';\r\n                //右下角选项\r\n                comDom += '</select>';\r\n                //隐藏的上传input\r\n                //comDom += '<input id=\"qzSelectPhoto\" class=\"qz-select-photo\" type=\"file\" accept=\"image/gif,image/jpeg,image/jpg,image/png,image/bmp\">';\r\n                comDom += '</footer></div>';\r\n                //输出弹层\r\n                $('body').append(comDom);\r\n                var $qzPop = $('.qzPop');\r\n                var clubHtml = $(\".clubList\").html();\r\n                $(\".qz-pop-sel\").html(clubHtml);\r\n                //选择图片\r\n                $(\".qz-pic-list-add,.qzUploadPic\").selectPhoto();\r\n                //选择圈子\r\n                $(\".qz-pop-sel\").change(function (event) {\r\n                    event.preventDefault();\r\n                    var sid = $(this).find('option:selected').val();\r\n                    $(\".clubId\").attr(\"data-selectclubid\", sid);\r\n                });\r\n                //添加弹层动画\r\n                setTimeout(function () {\r\n                    $qzPop.addClass('cur');\r\n                }, 10);\r\n                //设置textarea尺寸\r\n                function setAreaSize() {\r\n                    $qzPop.find('.realIpt').on('input', function () {\r\n                        $qzPop.find('.mathIpt').val($qzPop.find('.realIpt').val());\r\n                        var textsth = $qzPop.find('.mathIpt')[0].scrollHeight;\r\n                        $qzPop.find('.realIpt').css('height', textsth);\r\n                    })\r\n                }\r\n                setAreaSize();\r\n                //关闭弹层\r\n                function closePop() {\r\n                    $qzPop.removeClass('cur');\r\n                    $('html,body').removeClass('hideScroll').animate({ scrollTop: scrolltopval }, 0);\r\n                    //等待弹层动画执行完后移除弹层\r\n                    setTimeout(function () {\r\n                        $qzPop.remove();\r\n                    }, 250);\r\n                }\r\n                //关闭按钮\r\n                $('.qzPopClose').on('click', closePop);\r\n                //发布按钮\r\n                $qzPop.fabuSubmit(scrolltopval);\r\n\r\n            }\r\n            //绑定发布按钮事件\r\n            $('#qzMain').on('click', '.qzBtnContext', function () {\r\n                $(this).UserOnline(function (response) {\r\n                    if (response.status == 'ok' || jsmodel === 'dev') {\r\n                        var st = $('html').scrollTop();\r\n                        if (st === 0) {\r\n                            st = $('body').scrollTop();\r\n                        }\r\n                        setTimeout(function () {\r\n                            $('html,body').addClass('hideScroll');\r\n                        }, 300);\r\n                        //打开弹层\r\n                        insertContext(st);\r\n                    }\r\n                });\r\n            });\r\n        },\r\n        //评论\r\n        addComment: function () {\r\n            function insertComment(scrolltopval, cid, commentId, rename, userId) {\r\n                var comDom = '', placeholder = rename ? '回复 ' + rename + '：' : '我来说两句...';\r\n                comDom += '<div class=\"qz-pop qzPop\">';\r\n                comDom += '<header>评论<a class=\"qz-pop-close qzPopClose\"></a><a data-userId=\"' + userId + '\" data-clubContentId=\"' + cid + '\"  data-commentId=\"' + commentId + '\" class=\"qz-pop-smt qzPopSmt\">发布</a></header>';\r\n                comDom += '<div class=\"pop-con\"><div class=\"pop-srl\"><textarea class=\"realIpt\" placeholder=\"' + placeholder + '\"></textarea><textarea class=\"mathIpt\" rows=\"3\"></textarea></div></div>';\r\n                comDom += '</div>';\r\n                $('body').append(comDom);\r\n                var $qzPop = $('.qzPop');\r\n                setTimeout(function () {\r\n                    $qzPop.addClass('cur');\r\n                }, 10);\r\n                //设置textarea尺寸\r\n                function setAreaSize() {\r\n                    $qzPop.find('.realIpt').on('input', function () {\r\n                        $qzPop.find('.mathIpt').val($qzPop.find('.realIpt').val());\r\n                        var textsth = $qzPop.find('.mathIpt')[0].scrollHeight;\r\n                        $qzPop.find('.realIpt').css('height', textsth);\r\n                    })\r\n                }\r\n                setAreaSize();\r\n\r\n                function closePop() {\r\n                    $qzPop.removeClass('cur');\r\n                    $('html,body').removeClass('hideScroll').animate({ scrollTop: scrolltopval }, 0);\r\n                    setTimeout(function () {\r\n                        $qzPop.remove();\r\n                    }, 250);\r\n                }\r\n                //关闭按钮\r\n                $('.qzPopClose').on('click', closePop);\r\n                //发布按钮\r\n                $('.qzPopSmt').on('click', function () {\r\n                    var context = $qzPop.find('.realIpt').val();\r\n                    //数据提交后执行下面函数\r\n                    $(this).addComment(scrolltopval);\r\n                });\r\n            }\r\n\r\n            $('#qzMain').on('click', '.qzBtnComment', function () {\r\n                var $this = $(this),commNum = $this.data('commcount'),url = $this.data('href');\r\n                if(commNum>0 && $('#qzCardContext').length < 1){\r\n                    window.open(url, '_blank');\r\n                    return false;\r\n                }\r\n                $this.UserOnline(function (response) {\r\n                    if (response.status == 'ok' || jsmodel === 'dev') {\r\n                        var st = $('html').scrollTop(),\r\n                            cid = $this.data('clubcontentid'),\r\n                            //评论数量\r\n                            count = $this.data('commcount'),\r\n                            //回复的用户名\r\n                            uerId = $this.data('userid'),\r\n                            commentId = $this.data('commid'),\r\n                            rename = $this.attr('data-name');\r\n\r\n                        //判断是否单页 单页直接打开弹层，不判断评论数\r\n                        if ($('#qzCardContext').length > 0) {\r\n                            if (st === 0) {\r\n                                st = $('body').scrollTop();\r\n                            }\r\n                            setTimeout(function () {\r\n                                $('html,body').addClass('hideScroll');\r\n                            }, 300);\r\n                            //打开弹层\r\n                            insertComment(st, cid, commentId, rename, uerId);\r\n                            return false;\r\n                        }\r\n                        if (count === 0 || count == \"\") {\r\n                            if (st === 0) {\r\n                                st = $('body').scrollTop();\r\n                            }\r\n                            setTimeout(function () {\r\n                                $('html,body').addClass('hideScroll');\r\n                            }, 300);\r\n                            //打开弹层\r\n                            insertComment(st, cid, commentId, rename, uerId);\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n            //todo:2018.03.06 更新 绑定弹出回复\r\n            function commentInner(tar) {\r\n                tar.UserOnline(function (response) {\r\n                    if (response.status == 'ok' || jsmodel === 'dev') {\r\n                        var st = $('html').scrollTop(),\r\n                            cid = tar.data('clubcontentid'),\r\n                            count = tar.data('commcount'),\r\n                            url = tar.data('href'),\r\n                            uerId = tar.data('userid'),\r\n                            commentId = tar.data('commid'),\r\n                            rename = tar.attr('data-name');\r\n\r\n                        if (st === 0) {\r\n                            st = $('body').scrollTop();\r\n                        }\r\n                        setTimeout(function () {\r\n                            $('html,body').addClass('hideScroll');\r\n                        }, 300);\r\n                        insertComment(st, cid, commentId, rename, uerId);\r\n                    }\r\n                });\r\n            }\r\n            $('#qzMain').on('click', '.qzBtnCommentInner', function () {\r\n                var $this = $(this);\r\n                commentInner($this);\r\n            });\r\n        },\r\n        //初始化内容 话题上部\r\n        initPageTopic: function () {\r\n            var tar = '#qzCardListTopic', tarInsert = $(tar);\r\n            if (tarInsert.length > 0) {\r\n                //获取数据，具体参数和方式后端自定义\r\n                var dt = \"http://192.168.0.100:9009/apis/club/api/GetWapClubContentByTopic\";\r\n                var clubId = $(\".clubId\").attr(\"data-selectClubId\");\r\n                var topicTitle = $(\".topic\").attr(\"data-topic\");\r\n                var jsondata = {\r\n                    clubId: clubId,\r\n                    topicTitle: topicTitle,\r\n                    pageIndex: 0\r\n                };\r\n                $.ajax({\r\n                    type: \"post\",\r\n                    dataType: \"json\",\r\n                    url: dt,\r\n                    data: { jsondata: JSON.stringify(jsondata) },\r\n                    beforeSend: function () {\r\n                        //插入加载动画\r\n                        tarInsert.append(qzConfig.loadingDom);\r\n                    },\r\n                    success: function (responseObject) {\r\n                        var result = $.parseJSON(responseObject.body);\r\n                        //判断数据状态\r\n                        if (result.dataType === 'ok' && result.cardgroup.length > 0) {\r\n\r\n                            $(\".comeFrom\").html(result.cardgroup[0].from);\r\n                            //处理获取的数据\r\n                            tarInsert.attr('data-page', result.page);\r\n                            //允许无限加载\r\n                            tarInsert.attr('data-moreload', 'open');\r\n                            qzFunc.insertCard(tar, result.cardgroup);\r\n                            if (result.count <= 1) {\r\n                                $(\".qzCardMoreBtn\").remove();\r\n                            }\r\n                            $(\".qz-rem\").css(\"display\", \"block\");\r\n                        } else {\r\n                            //数据为空是插入提示\r\n                            tarInsert.html(qzConfig.loadnullDom);\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        //初始化内容 内容单页\r\n        initPageContext: function () {\r\n            var tar = '#qzCardContext', tarInsert = $(tar);\r\n            if (tarInsert.length > 0) {\r\n                //todo:2018.03.06 更新 生成内容单页\r\n                var gcContextJsondata = {\r\n                    clubContentId: tarInsert.attr(\"data-cid\")\r\n                };\r\n                var gcContextParamsData = {jsondata: JSON.stringify(gcContextJsondata)}\r\n                clubApis.getWapCardContext(gcContextParamsData,function (responseObject) {\r\n                    var result = $.parseJSON(responseObject.body);\r\n                    if (result.dataType === 'ok') {\r\n                        tarInsert.attr('data-page', result.page);\r\n                        qzFunc.insertCard(tar, result.cardgroup);\r\n                    } else {\r\n                        tarInsert.html(qzConfig.loadnullDom);\r\n                    }\r\n                },function () {\r\n                    tarInsert.append(qzConfig.loadingDom);\r\n                });\r\n                //todo:2018.03.06 更新 生成内容单页\r\n                var commtar = '#qzClComment',\r\n                    gcCommentJsondata = {\r\n                        clubContentId: $(commtar).attr(\"data-cid\"),\r\n                        pageIndex: parseInt($(commtar).attr(\"data-page\")) + 1,\r\n                        pageSize: 10\r\n                    },\r\n                    gcCommentparamsData = {jsondata: JSON.stringify(gcCommentJsondata)};\r\n                clubApis.getWapCardComment(gcCommentparamsData,function (responseObject) {\r\n                    var result = responseObject.body,addMoreBtn = false;\r\n                    if (result.dataType === 'ok') {\r\n                        $(\".commentNum i,#qzCardContext .qzBtnComment\").html(result.count);\r\n                        $(commtar).attr('data-page', result.page).addClass('qz-cl-comment-full');\r\n                        if(result.page < Math.ceil(result.count / result.sumcount)){\r\n                            addMoreBtn = true;\r\n                        }\r\n                        qzFunc.insertCardComment(commtar, result.commlist,addMoreBtn);\r\n                    } else {\r\n                        $(commtar).html(qzConfig.loadnullDom);\r\n                    }\r\n                },function () {\r\n                    $(commtar).append(qzConfig.loadingDom);\r\n                });\r\n                //todo:2018.03.06 更新 单页加载更多\r\n                $(document).on('tap','.clubCardCommentMore',function () {\r\n                    var $this = $(this),canClk = $this.data('clk');\r\n                    if(canClk === 'can'){\r\n                        var tar = '#qzClComment',\r\n                            tarInsert = $(tar);\r\n                        var clubContentId = tarInsert.attr(\"data-cid\");\r\n                        var excludeCommentId = tarInsert.find(\"li:first\").attr(\"data-commid\");\r\n                        var pageIndex = parseInt(tarInsert.attr(\"data-page\")) + 1;\r\n                        var pageSize = 10;\r\n                        var jsondata = {\r\n                            clubContentId: clubContentId,\r\n                            pageIndex: pageIndex,\r\n                            pageSize: pageSize,\r\n                            excludeCommentId: excludeCommentId\r\n                        };\r\n                        var Params = { jsondata: JSON.stringify(jsondata) }\r\n                        clubApis.getWapCardCommentPage2(Params,function (responseObject) {\r\n                            tarInsert.find('.qz-loading').remove();\r\n                            var result = responseObject.body,addMoreBtn = false;\r\n                            if (result.dataType === 'ok') {\r\n                                if(result.page < Math.ceil(result.count / result.sumcount)){\r\n                                    addMoreBtn = true;\r\n                                }\r\n                                qzFunc.appendCardComment(tar, result.commlist,addMoreBtn);\r\n                            }\r\n                        },function () {\r\n                            tarInsert.find('.club-card-comment-more').remove();\r\n                            tarInsert.append(qzConfig.loadingDom);\r\n                        })\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        //无限加载\r\n        infiniteLoad: function (tar, callback) {\r\n            function loadFunc() {\r\n                var tarInsert = $(tar);\r\n                //判断列表是否开启无限加载\r\n                if (tarInsert.attr('data-infiload') === 'open') {\r\n                    //获取数据，具体参数和方式后端自定义\r\n                    if (typeof callback === 'function') {\r\n                        callback(tar, tarInsert);\r\n                    }\r\n                }\r\n            }\r\n            function scrollJudge() {\r\n                var st = $('html').scrollTop(), dh = $(document).height(), wh = $(window).height();\r\n                if (st === 0) {\r\n                    st = $('body').scrollTop();\r\n                }\r\n                if (st > dh - wh - 20 && st > wh - dh && qzConfig.isCanLoading === true) {\r\n                    qzConfig.isCanLoading = false;\r\n                    loadFunc();\r\n                }\r\n            }\r\n            if ($(tar).length > 0) {\r\n                $(window).scroll(function () {\r\n                    scrollJudge();\r\n                });\r\n            }\r\n        },\r\n        //话题页上部加载更多按钮\r\n        topicMore: function () {\r\n            var $moreBtn = $('.qzCardMoreBtn');\r\n            $moreBtn.on('click', function () {\r\n                var tarInsert = $('#qzCardListTopic');\r\n                //判断列表是否开启查看更多\r\n                if (tarInsert.length > 0 && tarInsert.attr('data-moreload') === 'open') {\r\n                    //获取数据，具体参数和方式后端自定义\r\n                    var dt = \"http://192.168.0.100:9009/apis/club/api/GetWapClubContentByTopic\";\r\n                    var clubId = $(\".clubId\").attr(\"data-selectClubId\");\r\n                    var topicTitle = $(\".topic\").attr(\"data-topic\");\r\n                    var excludeclubContentId = tarInsert.find(\".qzCard\").attr(\"data-cid\");\r\n                    var pageIndex = parseInt(tarInsert.attr(\"data-pageIndex\"));\r\n                    var pageSize = pageIndex == 0 ? 9 : 10;\r\n                    pageIndex = pageIndex == 0 ? 1 : pageIndex + 1;\r\n                    var jsondata = {\r\n                        clubId: clubId,\r\n                        topicTitle: topicTitle,\r\n                        excludeclubContentId: excludeclubContentId,\r\n                        pageIndex: pageIndex,\r\n                        pageSize: pageSize\r\n                    };\r\n                    $.ajax({\r\n                        type: \"get\",\r\n                        dataType: \"json\",\r\n                        url: dt,\r\n                        data: { jsondata: JSON.stringify(jsondata) },\r\n                        beforeSend: function () {\r\n                            //插入加载动画\r\n                            tarInsert.append(qzConfig.loadingDom);\r\n                        },\r\n                        success: function (responseObject) {\r\n                            var result = $.parseJSON(responseObject.body);\r\n                            //加载成功后移除加载动画\r\n                            tarInsert.find('.qz-loading').remove();\r\n                            //判断时候还有当前数据页码是否加载完成\r\n                            if (result.cardgroup.length > 0) {\r\n                                //设置新页码\r\n                                tarInsert.attr('data-pageIndex', pageIndex);\r\n                                //插入更多数据\r\n                                qzFunc.appendCard('#qzCardListTopic', result.cardgroup);\r\n                                if (result.cardgroup.length < pageSize) {\r\n                                    tarInsert.attr('data-moreload', 'close');\r\n                                    $moreBtn.html('全部加载完成');\r\n                                }\r\n                            } else {\r\n                                if (tarInsert.attr('data-moreload') === 'open') {\r\n                                    //全部加载完成 关闭加载\r\n                                    tarInsert.attr('data-moreload', 'close');\r\n                                    //按钮 改变提示文字\r\n                                    $moreBtn.html('全部加载完成');\r\n                                }\r\n                            }\r\n                        }\r\n                    })\r\n                }\r\n            });\r\n        },\r\n        //列表切换\r\n        tabNav: function () {\r\n            function navFunc() {\r\n                var $nav = $('.qzNavFx'),\r\n                    //浮动导航层\r\n                    $navWrap = $('.qzNavFxW'),\r\n                    //固定不动的占位导航\r\n                    $navPos = $('.qzNavPos'),\r\n                    loadedTimer;\r\n                //判断滚动距离添加浮动导航\r\n                function fixNav() {\r\n                    var navTop = $navPos.offset().top, srlTop = $('html').scrollTop();\r\n                    if (srlTop === 0) {\r\n                        srlTop = $('body').scrollTop();\r\n                    }\r\n                    if (srlTop >= navTop) {\r\n                        $navWrap.addClass('openQzNavFixed');\r\n                    } else {\r\n                        $navWrap.removeClass('openQzNavFixed');\r\n                    }\r\n                }\r\n                fixNav();\r\n                $(window).scroll(function () {\r\n                    fixNav();\r\n                });\r\n                //加载tab内容前 页面位置\r\n                function scrollLoading() {\r\n                    var $html = $('html'), hh = $html.height(),\r\n                        navSt = $navPos.offset().top, srlTop = $html.scrollTop();\r\n                    if (srlTop === 0) {\r\n                        srlTop = $('body').scrollTop();\r\n                    }\r\n                    $html.css('height', hh);\r\n                    if (srlTop > navSt) {\r\n                        $('html,body').animate({ scrollTop: navSt }, 0);\r\n                    }\r\n                }\r\n                //加载tab内容后 页面位置\r\n                function scrollLoaded() {\r\n                    var $html = $('html');\r\n                    clearTimeout(loadedTimer);\r\n                    loadedTimer = setTimeout(function () {\r\n                        $html.css('height', '');\r\n                    }, 200);\r\n                }\r\n                //点击切换绑定事件\r\n                $nav.find('a').on('click', function () {\r\n                    var $this = $(this), tarCon = '#qzCardList';\r\n                    //设置按钮点击后样式\r\n                    $nav.find('a').removeClass('cur');\r\n                    $this.addClass('cur');\r\n                    $(tarCon).html(\"\").attr(\"data-pageIndex\", 0).attr(\"data-loading\", false);\r\n                    qzConfig.isCanLoading = false;\r\n                    scrollLoading();\r\n                    $(tarCon).getClub(function () {\r\n                        scrollLoaded();\r\n                    });\r\n                })\r\n            }\r\n            if ($('.qzNavFx').length > 0) {\r\n                navFunc();\r\n            }\r\n        },\r\n        //单页跳转\r\n        pageGoto: function () {\r\n            var openId = $('.qz-card-list');\r\n            //点击其他区域跳转到单页\r\n            openId.on('click', '.qzCard .qzZoneHref', function () {\r\n                var $this = $(this), url = $this.data('href');\r\n                //window.location.href = url;\r\n                window.open(url, '_blank');\r\n            });\r\n            //阻止事件冒泡\r\n            openId.on('click', '.qzZoneHref figure,.qzZoneHref a', function (event) {\r\n                event.stopPropagation();\r\n            });\r\n        },\r\n        //构建卡片内评论\r\n        createCardComment: function (cmdt) {\r\n            var commDom = '';\r\n            commDom += '<li data-commid=\"' + cmdt.commid + '\"><a class=\"head\">';\r\n            commDom += '<img src=\"' + cmdt.head + '\" alt=\"' + cmdt.name + '\"></a>';\r\n            commDom += '<div class=\"info qzBtnComment\" data-clubcontentid=\"' + cmdt.clubContentId + '\" data-commid=\"' + cmdt.commid + '\" data-name=\"' + cmdt.name + '\"  data-userId=\"' + cmdt.useId + '\">';\r\n            commDom += '<h5>' + cmdt.name;\r\n            if (cmdt.reply) {\r\n                commDom += '<b>回复</b>' + cmdt.reply;\r\n            }\r\n            commDom += '</h5>';\r\n            commDom += '<p class=\"time\">' + cmdt.replytime + '</p>';\r\n            commDom += '<div class=\"context\">';\r\n            commDom += cmdt.context;\r\n            commDom += '</div></div></li>';\r\n            return commDom;\r\n        },\r\n        //todo 2018-03-14 更新 构建单页评论内回复\r\n        createCommentReply:function (replyData,cid) {\r\n            var reDom = '';\r\n            reDom += '<div class=\"ic-item qzBtnCommentInner\" data-clubcontentid=\"'+cid+'\" data-commid=\"'+replyData.commid+'\" data-name=\"'+replyData.name+'\" data-userid=\"'+replyData.useId+'\"><a class=\"ici-name\">'+replyData.name+'</a>';\r\n            if(replyData.reply !== null){\r\n                reDom += '<i class=\"ici-rpy\">回复</i><a class=\"ici-name\">'+replyData.reply+'</a>';\r\n            }\r\n            reDom += '<a class=\"ici-name\">：&nbsp;</a><span class=\"ici-context\">'+replyData.context+'</span></div>';\r\n            return reDom;\r\n        },\r\n        //todo:2018.03.13 更新 构建卡片内评论\r\n        createCardCommentFull: function (cmdt) {\r\n            var commDom = '',that = this;\r\n            commDom += '<li data-commid=\"' + cmdt.commid + '\"';\r\n            if(cmdt.replylike>=5){\r\n                commDom += ' class=\"with-hot-tags\">';\r\n            }else{\r\n                commDom += '>';\r\n            }\r\n            commDom += '<a class=\"head\">';\r\n            commDom += '<img src=\"' + cmdt.head + '\" alt=\"' + cmdt.name + '\"></a>';\r\n            commDom += '<div class=\"info\">';\r\n            commDom += '<h5>' + cmdt.name;\r\n            if(cmdt.editauth){\r\n                commDom += '<img src=\"'+cmdt.editauth+'\" alt=\"编辑\">';\r\n            }\r\n            commDom += '<a class=\"info-like\">' + cmdt.replylike + '</a>';\r\n            commDom += '</h5>';\r\n            commDom += '<div class=\"info-others\"><span class=\"info-time\">' + cmdt.replytime + '</span><span class=\"info-device\">来自' + cmdt.replydevice + '</span></div>';\r\n\r\n            commDom += '<div class=\"context qzBtnCommentInner\" data-clubcontentid=\"'+cmdt.clubContentId+'\" data-commid=\"'+cmdt.commid+'\" data-name=\"'+cmdt.name+'\" data-userid=\"'+cmdt.useId+'\">';\r\n            commDom += cmdt.context;\r\n            commDom += '</div>';\r\n            if(cmdt.reply !== null){\r\n                commDom += '<div class=\"info-comment\">';\r\n                $.each(cmdt.reply,function (i,item) {\r\n                    if(i<2){\r\n                        commDom += that.createCommentReply(item,cmdt.commid);\r\n                    }\r\n                });\r\n                if(cmdt.reply.length>2){\r\n                    commDom += '<a class=\"info-comment-more\">查看全部'+cmdt.replycount+'条回复</a>'\r\n                }\r\n                commDom += '</div>';\r\n            }\r\n            commDom += '</div></li>';\r\n            return commDom;\r\n        },\r\n        createCardCommentList: function (cmdt) {\r\n            var commDom = '';\r\n            commDom += '<li data-commid=\"' + cmdt.commid + '\"><a class=\"head\">';\r\n            commDom += '<img src=\"' + cmdt.head + '\" alt=\"' + cmdt.name + '\"></a>';\r\n            commDom += '<div class=\"info qzBtnCommentInner\" data-clubcontentid=\"' + cmdt.clubContentId + '\" data-commid=\"' + cmdt.commid + '\" data-name=\"' + cmdt.name + '\"  data-userId=\"' + cmdt.useId + '\">';\r\n            commDom += '<h5>' + cmdt.name;\r\n            if (cmdt.reply) {\r\n                commDom += '<b>回复</b>' + cmdt.reply;\r\n            }\r\n            commDom += '</h5>';\r\n            commDom += '<p class=\"time\">' + cmdt.replytime + '</p>';\r\n            commDom += '<div class=\"context\">';\r\n            commDom += cmdt.context;\r\n            commDom += '</div></div></li>';\r\n            return commDom;\r\n        },\r\n        //todo:2018.03.06 更新 重构卡片内评论\r\n        insertCardComment: function (tar, dt , addMore) {\r\n            var insDom = '';\r\n            $.each(dt, function (i, item) {\r\n                //使用返回数据 构建卡片\r\n                insDom += qzFunc.createCardCommentFull(item);\r\n            });\r\n            if(addMore === true){\r\n                insDom += '<a class=\"club-card-comment-more clubCardCommentMore\" data-clk=\"can\">查看更多</a>';\r\n            }else{\r\n                insDom += '<a class=\"club-card-comment-more\">全部加载完成</a>';\r\n            }\r\n            $(tar).html(insDom);\r\n        },\r\n        //插入卡片内更多评论\r\n        appendCardComment: function (tar, dt , addMore) {\r\n            var insDom = '';\r\n            $.each(dt, function (i, item) {\r\n                //使用返回数据 构建卡片\r\n                insDom += qzFunc.createCardCommentFull(item);\r\n            });\r\n            if(addMore === true){\r\n                insDom += '<a class=\"club-card-comment-more clubCardCommentMore\" data-clk=\"can\">查看更多</a>';\r\n            }else{\r\n                insDom += '<a class=\"club-card-comment-more\">全部加载完成</a>';\r\n            }\r\n            $(tar).append(insDom);\r\n        },\r\n        //构建卡片内赞\r\n        createCardLike: function (lkdt) {\r\n            var likeDom = '';\r\n            likeDom += '<li data-likeid=\"' + lkdt.likeid + '\"><a class=\"head\">';\r\n            likeDom += '<img src=\"' + lkdt.head + '\" alt=\"' + lkdt.name + '\"></a>';\r\n            likeDom += '<div class=\"name\"><a>' + lkdt.name + '</a></div>';\r\n            likeDom += '</div></li>';\r\n            return likeDom;\r\n        },\r\n        //插入卡片内赞\r\n        insertCardLike: function (tar, dt) {\r\n            var insDom = '';\r\n            $.each(dt, function (i, item) {\r\n                //使用返回数据 构建卡片\r\n                insDom += qzFunc.createCardLike(item);\r\n            });\r\n            $(tar).html(insDom);\r\n        },\r\n        //插入卡片内更多赞\r\n        appendCardLike: function (tar, dt) {\r\n            var insDom = '';\r\n            $.each(dt, function (i, item) {\r\n                //使用返回数据 构建卡片\r\n                insDom += qzFunc.createCardLike(item);\r\n            });\r\n            $(tar).append(insDom);\r\n        },\r\n        //打开视频弹窗\r\n        openVideoPop: function () {\r\n            function videoPop(vdsrc) {\r\n                var popDom = '';\r\n                popDom += '<div class=\"qz-video-pop qzVideoPop\">';\r\n                popDom += '<div class=\"qz-video-pop-con\">';\r\n                popDom += '<iframe height=\"100%\" width=\"100%\" src=\"http://player.youku.com/embed/' + vdsrc + '\" frameborder=0 allowfullscreen></iframe>';\r\n                popDom += '</div>';\r\n                popDom += '<div class=\"qz-video-bar\"><a class=\"qz-video-pop-close qzVideoPopClose\"></div></a>';\r\n                popDom += '</div>';\r\n                $('body').append(popDom);\r\n                var $pop = $('.qzVideoPop');\r\n                setTimeout(function () {\r\n                    $pop.addClass('cur');\r\n                }, 10);\r\n                function closePop() {\r\n                    $pop.removeClass('cur');\r\n                    setTimeout(function () {\r\n                        $pop.remove();\r\n                    }, 250);\r\n                }\r\n                $pop.on('click', closePop);\r\n                $pop.on('click', 'iframe', function (event) {\r\n                    event.stopPropagation();\r\n                });\r\n            }\r\n            $('.qzVideoPopBtn').on('click', function () {\r\n                var $this = $(this), vdurl = $this.data('href'), vdsrc = '';\r\n                var ykSign = 'http://v.youku.com/v_show/id_', ykIndexOfBegin = vdurl.indexOf(ykSign) + ykSign.length, ykIndexOfEnd = vdurl.indexOf('==.html');\r\n                vdsrc = vdurl.substring(ykIndexOfBegin, ykIndexOfEnd);\r\n                videoPop(vdsrc);\r\n            })\r\n        },\r\n        //构建全部话题列表\r\n        createAllTopic: function (dt) {\r\n            var topicDom = '';\r\n            topicDom += '<li data-topicid=\"' + dt.Id + '\" data-topic=\"' + dt.Title + '\"><a href=\"http://192.168.0.100:9009/apis/m/topic/' + dt.Id + '\"><b>' + dt.Title + '</b><span><i class=\"num-in\">0</i>人参与<i class=\"num-comm\">0</i>条主题</span></a></li>';\r\n            return topicDom;\r\n        },\r\n        //插入全部话题列表\r\n        allTopic: function () {\r\n            var $topicList = $('#qzAllTopicList');\r\n            var dataOriUrl = \"http://192.168.0.100:9009/apis/club/api/gettopicall\";\r\n            var pageSize = $topicList.attr(\"data-pageSize\");\r\n            function createList(dt) {\r\n                var listDom = '';\r\n                $.each(dt, function (i, item) {\r\n                    listDom += qzFunc.createAllTopic(item);\r\n                });\r\n                $topicList.html(listDom);\r\n                $(\"#qzAllTopicList li\").allTopicJoinCount();\r\n            }\r\n            function addList(dt) {\r\n                var listDom = '';\r\n                $.each(dt, function (i, item) {\r\n                    listDom += qzFunc.createAllTopic(item);\r\n                });\r\n                $topicList.append(listDom);\r\n                $(\"#qzAllTopicList li\").allTopicJoinCount();\r\n            }\r\n            function getListData() {\r\n                var pageIndex = parseInt($topicList.attr(\"data-page\")) + 1;\r\n                var jsondata = {\r\n                    pageIndex: pageIndex,\r\n                    pageSize: pageSize\r\n                };\r\n                $.ajax({\r\n                    type: \"get\",\r\n                    dataType: \"jsonp\",\r\n                    url: dataOriUrl,\r\n                    data: { \"jsondata\": JSON.stringify(jsondata) },\r\n                    success: function (result) {\r\n                        $topicList.attr({ 'data-page': pageIndex, 'data-infiload': 'open' });\r\n                        createList(result);\r\n                    }\r\n                })\r\n            }\r\n            if ($topicList.length > 0) {\r\n                getListData();\r\n                qzFunc.infiniteLoad('#qzAllTopicList', function (tar, tarInsert) {\r\n                    var $main = $('#qzMain'), pageIndex = parseInt($topicList.attr(\"data-page\")) + 1;\r\n                    var jsondata = {\r\n                        pageIndex: pageIndex,\r\n                        pageSize: pageSize\r\n                    };\r\n                    $.ajax({\r\n                        type: \"get\",\r\n                        dataType: \"jsonp\",\r\n                        url: dataOriUrl,\r\n                        data: { \"jsondata\": JSON.stringify(jsondata) },\r\n                        beforeSend: function () {\r\n                            //插入加载动画\r\n                            $main.append(qzConfig.loadingDom);\r\n                        },\r\n                        success: function (result) {\r\n                            //加载成功后移除加载动画\r\n                            $main.find('.qz-loading').remove();\r\n                            //判断时候还有当前数据页码是否加载完成\r\n                            if (result.length > 0) {\r\n                                //设置新页码\r\n                                tarInsert.attr('data-page', pageIndex);\r\n                                //插入更多数据\r\n                                addList(result);\r\n                            } else {\r\n                                if (tarInsert.attr('data-infiload') === 'open') {\r\n                                    //全部加载完成 关闭加载\r\n                                    tarInsert.attr('data-infiload', 'close');\r\n                                    //插入 全部加载完成 提示\r\n                                    $main.append(qzConfig.loadedDom);\r\n                                }\r\n                            }\r\n                            qzConfig.isCanLoading = true;\r\n                        }\r\n                    })\r\n                })\r\n            }\r\n        },\r\n        //todo:2018.03.06 更新 新加卡片内评论单独页\r\n        //卡片内评论单独页头部\r\n        cardInnerCommentPageTop:function (dt) {\r\n            var vDom = '';\r\n            vDom += '<div class=\"cc-one-top\">';\r\n            vDom += '<a class=\"head\"><img class=\"head-pic\" src=\"'+dt.head+'\" alt=\"'+dt.name+'\"><h5>'+dt.name+'</h5>';\r\n            if(dt.editauth){\r\n                vDom += '<img class=\"head-icon\" src=\"'+dt.editauth+'\" alt=\"编辑\">';\r\n            }\r\n            vDom += '</a>';\r\n            vDom += '<div class=\"info\">';\r\n            vDom += '<div class=\"context\">'+dt.context+'</div>';\r\n            vDom += '<div class=\"info-bottom\">';\r\n            vDom += '<span class=\"info-time\">'+dt.replytime+'</span><span class=\"info-device\">'+dt.replydevice+'</span>';\r\n            vDom += '<a class=\"info-like\">'+dt.replylike+'</a><a class=\"info-reply qzBtnCommentInner\" data-clubcontentid=\"'+dt.clubContentId+'\" data-commid=\"'+dt.commid+'\" data-name=\"'+dt.name+'\" data-userid=\"'+dt.useId+'\">回复</a><a class=\"info-delete clubCommentDelete\">删除</a>';\r\n            vDom += '</div></div>';\r\n\r\n            vDom += '</div>';\r\n            return vDom;\r\n        },\r\n        //todo:2018.03.06 更新 新加卡片内评论单独页\r\n        //卡片内评论单独页列表\r\n        cardInnerCommentPageList:function (dt) {\r\n            var vDom = '';\r\n            vDom += '<div class=\"cc-one-list\">';\r\n\r\n            $.each(dt.reply,function (i,item) {\r\n                vDom += '<li>';\r\n                vDom += '<a class=\"head\"><img src=\"'+item.head+'\" alt=\"'+item.name+'\"></a>';\r\n                vDom += '<div class=\"info\">';\r\n                vDom += '<h5>'+item.name;\r\n                if(item.editauth){\r\n                    vDom += '<img src=\"'+item.editauth+'\" alt=\"编辑\">';\r\n                }\r\n                vDom += '</h5>';\r\n                vDom += '<div class=\"context\">';\r\n                if(item.reply !== null){\r\n                    vDom += '<span class=\"context-reply-tags\">回复</span><span class=\"context-reply\">'+item.reply+':</span>';\r\n                }\r\n                vDom += item.context+'</div>';\r\n                vDom += '<div class=\"info-bottom\">';\r\n                vDom += '<span class=\"info-time\">'+item.replytime+'</span><span class=\"info-device\">'+item.replydevice+'</span>';\r\n                vDom += '<a class=\"info-like\">'+item.replylike+'</a><a class=\"info-reply qzBtnCommentInner\"  data-clubcontentid=\"'+dt.clubContentId+'\" data-commid=\"'+item.commid+'\" data-name=\"'+item.name+'\" data-userid=\"'+dt.useId+'\">回复</a>';\r\n                vDom += '</div></div>';\r\n                vDom += '</li>';\r\n            });\r\n\r\n            vDom += '</div>';\r\n            return vDom;\r\n        },\r\n        //todo:2018.03.06 更新 新加卡片内评论单独页\r\n        //卡片内评论单独页\r\n        cardInnerCommentPage:function () {\r\n            var $commentArea = $('#clubCommentOne'),that = this;\r\n            function createDom() {\r\n                var pageTopDom = '',pageListDom = '',pageDom = '',\r\n                    commPage = 1;\r\n                var commentOneParams = {\r\n                    commid:$commentArea.data('cid')\r\n                }\r\n                clubApis.getWapCardCommentPageOne(commentOneParams,function (backJsonData) {\r\n                    var result = backJsonData.body;\r\n                    if (result.dataType === 'ok') {\r\n                        var commlistData = result.commlist[0];\r\n                        pageTopDom += that.cardInnerCommentPageTop(commlistData);\r\n                        pageListDom += that.cardInnerCommentPageList(commlistData);\r\n                        pageDom += pageTopDom;\r\n                        pageDom += pageListDom;\r\n                        pageDom += '<div class=\"club-comment-one-bottom\">';\r\n                        pageDom += '<a class=\"club-comment-one-reply qzBtnCommentInner\" data-clubcontentid=\"'+commlistData.clubContentId+'\" data-commid=\"'+commlistData.commid+'\" data-name=\"'+commlistData.name+'\" data-userid=\"'+commlistData.useId+'\">发表回复</a>';\r\n                        if(commlistData.reply.length<commlistData.replycount){\r\n                            pageDom += '<a class=\"club-comment-one-more clubCommentOneMore\">查看更多</a>';\r\n                        }else{\r\n                            pageDom += '<a class=\"club-comment-one-more club-comment-one-more-all\">全部加载完成</a>';\r\n                        }\r\n                        pageDom += '</div>';\r\n                        $commentArea.html(pageDom);\r\n                    }\r\n                });\r\n                function getMoreList() {\r\n                    var getMoreParams = {\r\n                        commid:$commentArea.data('cid'),\r\n                        page:commPage++\r\n                    }\r\n                    clubApis.getWapCardCommentPageOnePage2(getMoreParams,function (backJsonData) {\r\n                        $commentArea.find('.qz-loading').remove();\r\n                        var result = backJsonData.body,morelistDom = '';\r\n                        if (result.dataType === 'ok') {\r\n                            var commlistData = result.commlist[0];\r\n                            morelistDom += that.cardInnerCommentPageList(commlistData);\r\n                            if(commlistData.replyPage*commlistData.replysize<commlistData.replycount){\r\n                                $commentArea.find('.club-comment-one-more').html('查看更多');\r\n                            }else{\r\n                                $commentArea.find('.club-comment-one-more').removeClass('clubCommentOneMore').addClass('club-comment-one-more-all').html('全部加载完成');\r\n                            }\r\n                            $(morelistDom).insertBefore('.club-comment-one-bottom');\r\n                        }\r\n                    },function () {\r\n                        $(qzConfig.loadingDom).insertBefore('.club-comment-one-bottom');\r\n                    })\r\n                }\r\n                $(document).on('click','.clubCommentOneMore',function () {\r\n                    getMoreList();\r\n                });\r\n            }\r\n            function renderPage() {\r\n                createDom();\r\n                $(document).on('click','.clubCommentDelete',function () {\r\n                    var reDeleteConfirm = confirm('你确定删除吗？');\r\n                    if(reDeleteConfirm === true){\r\n                        console.log('确定删除')\r\n                    }else{\r\n                        console.log('取消')\r\n                    };\r\n                })\r\n            }\r\n            if($commentArea.length>0){\r\n                renderPage();\r\n            }\r\n        },\r\n        //todo 2018-03-13 更新：添加百度分享\r\n        //百度分享弹窗\r\n        popBaiduShare:function () {\r\n            var that = this;\r\n            function createPop() {\r\n                var popDom = '';\r\n                popDom += '<div class=\"club-pop-baidu-mask clubPopBaidu clubPopBaiduClose\"></div>';\r\n                popDom += '<div class=\"club-pop-baidu-main clubPopBaidu\">';\r\n                popDom += '<div class=\"club-pop-baidu-head\">分享</div>';\r\n\r\n                popDom += '<div class=\"club-pop-baidu-body\">';\r\n                popDom += '<div class=\"club-pop-baidu-btns bdsharebuttonbox\" data-tag=\"share_1\"><a class=\"bds_tsina\" data-cmd=\"tsina\"></a><a class=\"bds_sqq\" data-cmd=\"sqq\"></a><a class=\"bds_qzone\" data-cmd=\"qzone\"></a><a class=\"bds_more\" data-cmd=\"more\"></a><a class=\"bds_count\" data-cmd=\"count\"></a></div>';\r\n                popDom += '</div>';\r\n\r\n                popDom += '<div class=\"club-pop-baidu-foot\"><a class=\"clubPopBaiduClose\">取消</a></div>';\r\n                popDom += '</div>';\r\n                return popDom;\r\n            }\r\n            \r\n            function initBaiduShare() {\r\n                var baiduSrc = 'http://bdimg.share.baidu.com/static/api/js/share.js?cdnversion='+~(-new Date()/36e5);\r\n                if(typeof _bd_share_main === 'object'){\r\n                    _bd_share_main.init();\r\n                }else{\r\n                    $.getScript(baiduSrc);\r\n                }\r\n            }\r\n\r\n            function closePop() {\r\n                var $pop = $('.clubPopBaidu');\r\n                $pop.removeClass('cur');\r\n                setTimeout(function () {\r\n                    $pop.remove();\r\n                    that.popCommon.close();\r\n                },250);\r\n            }\r\n\r\n            function showPop() {\r\n                var popDom = createPop();\r\n                $('body').append(popDom);\r\n                that.popCommon.open();\r\n                setTimeout(function () {\r\n                    $('.clubPopBaidu').addClass('cur');\r\n                },50);\r\n                $('.clubPopBaiduClose').on('click',function () {\r\n                    closePop();\r\n                });\r\n                initBaiduShare();\r\n            };\r\n\r\n            showPop();\r\n        },\r\n        //global bind\r\n        globalBind:function () {\r\n            var $main = $('#qzMain'),that = this;\r\n            $main.on('click','.qzBtnShare',function () {\r\n                that.popBaiduShare();\r\n            })\r\n        },\r\n        //入口\r\n        main: function () {\r\n            //设置屏幕缩放\r\n            qzFunc.setRem();\r\n            //插入图片弹层，只需执行一次\r\n            qzFunc.addSwpOnce();\r\n            //开启评论\r\n            qzFunc.addComment();\r\n            //开启赞喜欢\r\n            //qzFunc.addLike();\r\n            //开启发布/参与\r\n            qzFunc.addContext();\r\n            //插入测试数据 话题页\r\n            qzFunc.initPageTopic();\r\n            //插入测试数据 内容单页\r\n            qzFunc.initPageContext();\r\n            //列表切换导航\r\n            qzFunc.tabNav();\r\n            //插入测试数据 模拟无限加载\r\n            qzFunc.infiniteLoad('#qzCardList', function (tar, tarInsert) {\r\n                tarInsert.getClub();\r\n            });\r\n            //开启 话题页上部加载更多按钮功能\r\n            qzFunc.topicMore();\r\n            //开启 内容单页 跳转功能\r\n            qzFunc.pageGoto();\r\n            //加载 全部话题 列表\r\n            qzFunc.allTopic();\r\n            //加载 卡片内评论单独页\r\n            qzFunc.cardInnerCommentPage();\r\n            //旋转屏幕需要执行的函数\r\n            $(window).resize(function () {\r\n                qzFunc.setRem();\r\n            });\r\n            //绑定全局事件\r\n            qzFunc.globalBind();\r\n        }\r\n    };\r\n    qzFunc.main();\r\n    //发布话题输入框\r\n    $(document).ready(function () {\r\n        $(\"#qzCardList\").getClub();\r\n        $(\".qzBtnLike\").addLike();\r\n        $(\".themeNum\").joinCount();\r\n        $(\".qz-nav-sort\").change(function (event) {\r\n            event.preventDefault();\r\n            var sort = $(this).find('option:selected').attr(\"data-sort\");\r\n            $(this).attr(\"data-sort\", sort);\r\n            $(\"#qzCardList\").html(\"\").attr(\"data-pageIndex\", 0).attr(\"data-loading\", false).getClub();\r\n        });\r\n    });\r\n    $.fn.fabuSubmit = function (beforeOpenSt) {\r\n        return this.each(function () {\r\n            var $div = $(this), maxnum = parseInt($div.find(\".maxNum\").html());\r\n            var $textarea = $div.find(\".mathIpt\");\r\n            var minH = $textarea.height(), rowH = parseInt($textarea.css(\"line-height\"));//行高\r\n            var maxH = rowH * 15; //最小高度\r\n\r\n            $textarea.textareaAutoHeight({ minHeight: minH, maxHeight: maxH });//文本框自适应高度\r\n            $div.on(\"focus\", \".mathIpt\", function () {\r\n                var $this = $(this), htm = $this.attr(\"placeholder\");\r\n                $this.attr(\"data-val\", htm).removeAttr(\"placeholder\").parent().addClass(\"cur\");\r\n            }).on(\"blur\", \".mathIpt\", function () {\r\n                var $this = $(this), htm = $this.attr(\"data-val\");\r\n                $this.attr(\"placeholder\", htm).parent().removeClass(\"cur\");\r\n            }).on(\"keyup blur\", \".mathIpt\", function () {\r\n                var len = this.value.length;\r\n                this.value = this.value.substr(0, maxnum);\r\n                $div.find(\".curNum\").html(len);\r\n                $div.find(\".fabu-num\").css(\"display\", len > 0 ? 'block' : '');\r\n            });\r\n\r\n            //提交发布\r\n            $div.on(\"click\", \".qzPopSmt\", function () {\r\n                var $lipic = $(\".qz-pic-list-li:not(.temp)\");\r\n                var $fabuVideo = $(\".fabuVideo\");\r\n                var valHtm = '', picHtm = '', videoHtm = '';\r\n                var valcon = $(\".mathIpt\").val();\r\n                var content = valcon == '' ? $(\".realIpt\").html() : valcon;\r\n                var clubId = $(\".clubId\").attr(\"data-selectClubId\");\r\n                if ($(this).attr(\"data-isclick\") == 'true') {\r\n                    return;\r\n                }\r\n                $(this).attr(\"data-isclick\", true);\r\n                //处理图片\r\n                var images = \"\";\r\n                var len = $lipic.length > 9 ? 9 : $lipic.length - 1;\r\n                if (len > 0) {\r\n                    images = [];\r\n                    for (var i = 0; i < len; i++) {\r\n                        var type = $lipic.eq(i).find(\"img\").attr(\"data-type\");\r\n                        var src = $lipic.eq(i).find(\"img\").attr(\"src\");\r\n                        var small = src.replace(\"tiny\", \"small\");\r\n                        var origin = src.replace(\"tiny\", \"origin\");\r\n                        var tinysquare = src.replace(\"tiny\", \"tinysquare\");\r\n                        if (type == \"gif\") {\r\n                            origin = origin.replace(\".jpg\", \".gif\");\r\n                        }\r\n                        var height = $lipic.eq(i).find(\"img\").attr(\"data-height\");\r\n                        var width = $lipic.eq(i).find(\"img\").attr(\"data-width\");\r\n                        images.push({ \"tiny\": src, \"tinysquare\": tinysquare, \"small\": small, \"origin\": origin, \"height\": height, \"width\": width, \"imageType\": type });\r\n                    }\r\n                }\r\n\r\n                //判断视频是否添加\r\n                var videos = \"\";\r\n                if ($fabuVideo.length > 0) {\r\n                    var avvid = '', avtit = '', avurl = '', avimg = '', avname = '';\r\n                    if ($fabuVideo.attr(\"data-tit\") == undefined) {\r\n                        avtit = '视频链接'; //视频标题\r\n                    } else {\r\n                        avvid = $fabuVideo.attr(\"data-vid\"); //视频id\r\n                        avtit = $fabuVideo.attr(\"data-tit\"); //视频标题\r\n                        avimg = $fabuVideo.attr(\"data-img\"); //视频图片\r\n                        avname = $fabuVideo.attr(\"data-sitename\"); //视频图片\r\n                    }\r\n                    avurl = $fabuVideo.attr(\"data-url\"); //视频地址\r\n                    videos = { \"image\": avimg, \"title\": avtit, \"videoUrl\": avurl, \"videoVid\": avvid, \"siteName\": avname };\r\n                }\r\n                //如果图片和视频为空就判断输入框是为空\r\n                if (images == '' && videos == '' && !isTrim(content)) { alert(\"你还没有输入内容!\"); return; }\r\n                //上传图片或添加视频后，空内容也可以提交，否则空内容不可以提交;\r\n                var jsondata = {\r\n                    content: content,\r\n                    images: images,\r\n                    videos: videos,\r\n                    clubId: clubId,\r\n                    device: 1\r\n                };\r\n                $.ajax({\r\n                    type: \"post\",\r\n                    dataType: \"json\",\r\n                    url: \"http://192.168.0.100:9009/apis/club/api/addclubcontent\",\r\n                    data: { \"jsondata\": JSON.stringify(jsondata) },\r\n                    success: function (result) {\r\n                        if (result.dataType == \"ok\") {\r\n                            $(this).attr(\"data-isclick\", false);\r\n                            $(\".mathIpt\").val(\"\");\r\n                            var html = qzFunc.createCard(result.cardgroup);\r\n                            $(\"#qzCardList\").prepend(html);\r\n                            qzFunc.photoSwp();\r\n                            //点赞\r\n                            $(\".qzBtnLike\").like();\r\n                            $(\".qzBtnLike\").addLike();\r\n                            $(\".qzBtnComment\").commentCount();\r\n                            $('html,body').removeClass('hideScroll').animate({ scrollTop: beforeOpenSt }, 0);\r\n                            setTimeout(function () {\r\n                                $(\".qzPop\").remove();\r\n                            }, 250);\r\n                        }\r\n                        else {\r\n                            alert(\"发布失败，请重试！\");\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n        });\r\n    };\r\n    $.fn.selectPhoto = function () {\r\n        return this.each(function () {\r\n            $(this).bind(\"click\", function () {\r\n                $(\"#fileupload\").trigger(\"click\");\r\n                $('#fileupload').fileupload({\r\n                    dataType: 'json',\r\n                    maxFileSize: '5000000',//5M\r\n                    url: 'http://192.168.0.100:9009/apis/uploadpic/index',\r\n                    done: function (e, data) {\r\n                        var result = data.result;\r\n                        if (result.status == \"ok\") {\r\n                            var count = $(\".qz-pic-list-li .qz-img-remove\").length + 1;\r\n                            if (count > 9) {\r\n                                alert(\"最多只能传9张\");\r\n                                $(\".qz-pic-list .temp:first\").remove();\r\n                            }\r\n                            else {\r\n                                if (count == 9) {\r\n                                    $(\".qz-pic-list-add\").parent().css(\"display\", \"none\");\r\n                                }\r\n                                var html = \"<img src='\" + result.tiny + \"' data-original='\" + result.original + \"' data-height=\\\"\" + result.height + \"\\\" data-width=\\\"\" + result.width + \"\\\" data-type=\\\"\" + result.imageclass + \"\\\"><a class='qz-img-remove'></a>\";\r\n                                $(\".qz-pic-list .temp:first\").removeClass(\"temp\").html(html);\r\n\r\n                            }\r\n                            $(\".qz-pic-list .qz-img-remove\").each(function () {\r\n                                $(this).unbind(\"click\");\r\n                                $(this).bind(\"click\", function () {\r\n                                    var original = $(this).parents(\".pic\").find(\"img\").attr(\"data-original\");\r\n                                    var len = $(\".qz-pic-list-li\").not(\":last\").length;\r\n                                    $(this).parent(\".qz-pic-list-li\").remove();\r\n                                    $.ajax({\r\n                                        type: \"get\", dataType: \"json\", url: \"http://192.168.0.100:9009/apis/uploadpic/delete?origin=\" + original,\r\n                                        data: {},\r\n                                        success: function (responseJson) {\r\n                                        }\r\n                                    });\r\n                                    if (len < 9) {\r\n                                        $(\".qz-pic-list-add\").parent().css(\"display\", \"block\");\r\n                                    }\r\n                                });\r\n                            });\r\n                        }\r\n                        else {\r\n                            alert(\"包含不支持的文件格式\");\r\n                            $(\".qz-pic-list .temp:first\").remove();\r\n\r\n                        }\r\n                    },\r\n                    change: function (e, data) {\r\n                        var i = 0;\r\n                        var settingSize = parseInt($(\"#fileupload\").attr(\"data-imagesize\"));\r\n                        var settingSizeMb = settingSize / 1024;\r\n                        $.each(data.files, function (index, item) {\r\n                            if (item.size / 1024 > settingSize && i <= 0) {\r\n                                i += 1;\r\n                                alert(\"图片容量超过\" + settingSizeMb + \"MB，无法上传！\");\r\n                            }\r\n                            else {\r\n                                if (item.size / 1024 <= settingSize) {\r\n                                    var html = '<div class=\"qz-pic-list-li temp\"><img src=\"http://image.gamersky.com/webimg15/user/club/pc/loading.gif\" ></div>';\r\n                                    $(\".qz-pic-list-li:first\").before(html);\r\n                                }\r\n                            }\r\n                        });\r\n                    },\r\n                });\r\n            });\r\n        })\r\n    };\r\n    //todo:2018-03-13 更新：修改排序\r\n    $.fn.getClub = function (callback) {\r\n        return this.each(function () {\r\n            var $this = $(this),\r\n                cfg = $(\".qzNavFx a.cur\").attr(\"data-cfg\"),\r\n                contentType = clubConfig.listNavSetter[cfg].type,\r\n                sort = clubConfig.listNavSetter[cfg].sort,\r\n                clubId = $(\".clubId\").attr(\"data-clubId\"),\r\n                topic = $(\".topic\").attr(\"data-topic\"),\r\n                topicId = $(\".topic\").attr(\"data-topicId\"),\r\n                pageIndex = parseInt($this.attr(\"data-pageIndex\")) + 1,\r\n                pageSize = $this.attr(\"data-pageSize\"),\r\n                loading = $this.attr(\"data-loading\");\r\n            if (loading == \"true\") {\r\n                return;\r\n            }\r\n            $this.attr(\"data-loading\", \"true\");\r\n            var length = $this.find(\".qzCard\").length,\r\n                index = 0,\r\n                excludeIds = $this.find(\".qzCard:first\").attr(\"data-cid\");\r\n            if (excludeIds == undefined || excludeIds==null){\r\n                excludeIds=\"\"\r\n            }\r\n            if (length >= 50) {\r\n                index = length - 50;\r\n            }\r\n            excludeIds+=\",\";\r\n            $this.find(\".qzCard:gt(\" + index + \")\").each(function () {\r\n                excludeIds += $(this).attr(\"data-cid\") + \",\";\r\n            });\r\n            var jsondata = {\r\n                contentType: contentType,\r\n                sort: sort,\r\n                pageIndex: pageIndex,\r\n                pageSize: pageSize,\r\n                clubId: clubId,\r\n                topic: topic,\r\n                topicId: topicId,\r\n                excludeIds: excludeIds\r\n            };\r\n            $this.attr(\"data-pageIndex\", pageIndex);\r\n            var clubListParams = {jsondata: JSON.stringify(jsondata)}\r\n            clubApis.getWapClubContext(clubListParams,function (responseObject) {\r\n                var result = $.parseJSON(responseObject.body);\r\n                $this.attr(\"data-loading\", \"false\");\r\n                $this.find('.qz-loading').remove();\r\n                var len = result.cardgroup.length;\r\n                if (pageIndex == 1 && len == 0) {\r\n                    $this.html(qzConfig.loadnullDom).attr('data-infiload', 'close');\r\n                }\r\n                else if (pageIndex == 1 && len > 0) {\r\n                    qzFunc.insertCard($this, result.cardgroup);\r\n                    if (len >= pageSize) {\r\n                        $this.attr(\"data-infiload\", \"open\");\r\n                        qzConfig.isCanLoading = true;\r\n                    }\r\n                    else {\r\n                        qzConfig.isCanLoading = false;\r\n                        $this.attr('data-infiload', 'close').append(qzConfig.loadedDom);\r\n                    }\r\n                }\r\n                else if (pageIndex > 1 && len > 0) {\r\n                    qzFunc.appendCard($this, result.cardgroup);\r\n                    $this.attr(\"data-infiload\", \"open\");\r\n                    qzConfig.isCanLoading = true;\r\n                }\r\n                else {\r\n                    $this.attr('data-infiload', 'close').append(qzConfig.loadedDom);\r\n                }\r\n                if (typeof callback === 'function') {\r\n                    callback && callback();\r\n                }\r\n            },function () {\r\n                //插入加载动画\r\n                $(\".qz-loadnull,.qz-loaded\").remove();\r\n                $this.append(qzConfig.loadingDom);\r\n            });\r\n        });\r\n    };\r\n    //todo 2018-03-13 更新：修复点赞样式\r\n    //获取点赞数据\r\n    $.fn.like = function () {\r\n        var support = \"\";\r\n        $(this).each(function () {\r\n            if (support != \"\") {\r\n                support = support + \",\"\r\n            }\r\n            support = support + $(this).attr(\"data-clubcontentid\");\r\n        });\r\n        var jsondata = {\r\n            clubContentId: support\r\n        };\r\n        var transData = {jsondata: JSON.stringify(jsondata)};\r\n        clubApis.getLike(transData,function (data) {\r\n            if (data.status == \"ok\") {\r\n                var body = $.parseJSON(data.body);\r\n                $.each(body, function (index, value) {\r\n                    $(\".qzBtnLike[data-clubcontentid='\" + value.Id + \"']\").each(function () {\r\n                        $(this).find(\"b\")\r\n                            .html(value.digg)\r\n                            .attr(\"data-likecount\", value.digg);\r\n                    });\r\n                });\r\n            }\r\n        });\r\n    };\r\n    //todo 2018-03-13 更新：修复点赞样式\r\n    //添加点赞\r\n    $.fn.addLike = function (options) {\r\n        return this.each(function () {\r\n            var $this = $(this);\r\n            $this.unbind(\"click\");\r\n            $this.click(function (event) {\r\n                event.preventDefault();\r\n                $(this).UserOnline(function (response) {\r\n                    if (response.status == 'ok' || jsmodel === 'dev') {\r\n                        var Id = $this.attr(\"data-clubcontentid\");\r\n                        var jsondata = {\r\n                            clubContentId: Id,\r\n                            fromDevice: 1,\r\n                        };\r\n                        var transData = {jsondata: JSON.stringify(jsondata)};\r\n                        clubApis.addLike(transData,function (responseJson) {\r\n                            if (responseJson.status == \"err\") {\r\n                                alert(responseJson.body);\r\n                            }\r\n                            else {\r\n                                var m = parseInt($this.find(\"b\").html()) + 1;\r\n                                $this.find(\"b\").html(m);\r\n                            }\r\n                        });\r\n                    }\r\n                })\r\n            });\r\n        });\r\n    };\r\n    $.fn.commentCount = function () {\r\n        var that = this;\r\n        function commentDo() {\r\n            var support = \"\";\r\n            $(that).each(function () {\r\n                if (support != \"\") {\r\n                    support = support + \",\"\r\n                }\r\n                support = support + $(this).attr(\"data-clubcontentid\");\r\n            });\r\n            var jsondata = {\r\n                clubContentId: support\r\n            };\r\n            var gCommentCountParams = {jsondata: JSON.stringify(jsondata)};\r\n            clubApis.getCommentCount(gCommentCountParams,function (data) {\r\n                if (data.status == \"ok\") {\r\n                    var body = $.parseJSON(data.body);\r\n                    $.each(body, function (index, value) {\r\n                        $(\".qzBtnComment[data-clubcontentid='\" + value.Id + \"']\").each(function () {\r\n                            var $th = $(this);\r\n                            if ($(that).parents(\".qzClComment\").length > 0) {\r\n                                return;\r\n                            }\r\n                            $th.html(value.commentCount);\r\n                            $th.attr(\"data-commcount\", value.commentCount);\r\n                            if($('#qzCardList').length>0&&value.commentCount>0){\r\n                                $th.insertListComment();\r\n                            }\r\n                        });\r\n                    });\r\n                }\r\n            });\r\n        }\r\n        commentDo();\r\n    };\r\n    //todo:2018-03-13 更新：注释掉卡片内回复\r\n    //卡片列表内评论\r\n    $.fn.insertListComment = function () {\r\n        var $this = $(this);\r\n        function initFnc() {\r\n            var $card = $this.closest('.qzCard'),commDom = '',\r\n                pageIndex = 1,\r\n                clubContentId = $this.data(\"clubcontentid\"),\r\n                jsondata = {\r\n                    clubContentId: clubContentId,\r\n                    pageIndex: pageIndex,\r\n                    pageSize: 10\r\n                },\r\n                transData = { jsondata: JSON.stringify(jsondata) };\r\n            clubApis.getWapClubComment(transData,function (responseObject) {\r\n                var result = $.parseJSON(responseObject.body);\r\n                //判断数据状态\r\n                if (result.dataType === 'ok' && $this.attr('data-isinsert') != 'ok') {\r\n                    $this.attr('data-isinsert','ok');\r\n                    //处理获取的数据\r\n                    commDom += '<div class=\"qz-comment-inlist\"><ul>';\r\n                    $.each(result.commlist,function (i,item) {\r\n                        if(i<3){\r\n                            commDom += qzFunc.createCardCommentList(item);\r\n                        }\r\n                    });\r\n                    commDom += '</ul></div>';\r\n                    $(commDom).insertBefore($card.find('footer'));\r\n                }\r\n            });\r\n        }\r\n        if(clubConfig.innerCommentState === 'open'){\r\n            initFnc();\r\n        }\r\n    };\r\n    //获取参与人数\r\n    $.fn.joinCount = function () {\r\n        var topic = \"\";\r\n        $(this).each(function () {\r\n            if (topic != \"\") {\r\n                topic = topic + \",\"\r\n            }\r\n            topic = topic + $(this).attr(\"data-topic\");\r\n        });\r\n        var jsondata = {\r\n            topic: topic\r\n        };\r\n        $.ajax({\r\n            type: \"get\", dataType: \"jsonp\", url: \"http://192.168.0.100:9009/apis/club/api/getjoinarraycount\",\r\n            data: { jsondata: JSON.stringify(jsondata) },\r\n            success: function (data) {\r\n                if (data.status == \"ok\") {\r\n                    $.each(data.result, function (index, value) {\r\n                        $(\".themeNum[data-topic='\" + value.topic + \"']\").each(function () {\r\n                            $(this).find(\".join\").html(value.join + \"人\");\r\n                            $(this).find(\".theme\").html(value.clubContent);\r\n                            $(this).find(\"span i\").html(value.clubContent);\r\n                        });\r\n                    });\r\n                }\r\n            }\r\n        });\r\n    };\r\n    $.fn.allTopicJoinCount = function () {\r\n        var topic = \"\";\r\n        $(this).each(function () {\r\n            if (topic != \"\") {\r\n                topic = topic + \",\"\r\n            }\r\n            topic = topic + $(this).attr(\"data-topic\");\r\n        });\r\n        var jsondata = {\r\n            topic: topic\r\n        };\r\n        $.ajax({\r\n            type: \"get\", dataType: \"jsonp\", url: \"http://192.168.0.100:9009/apis/club/api/getjoinarraycount\",\r\n            data: { jsondata: JSON.stringify(jsondata) },\r\n            success: function (data) {\r\n                if (data.status == \"ok\") {\r\n                    $.each(data.result, function (index, value) {\r\n                        $(\"#qzAllTopicList li[data-topic='\" + value.topic + \"']\").each(function () {\r\n                            $(this).find(\".num-in\").html(value.join);\r\n                            $(this).find(\".num-comm\").html(value.clubContent);\r\n                        });\r\n                    });\r\n                }\r\n            }\r\n        });\r\n    };\r\n    //发布评论\r\n    $.fn.addComment = function (beforeOpenSt) {\r\n        var $this = $(this);\r\n        if ($this.attr(\"data-isclick\") == 'true') {\r\n            return;\r\n        }\r\n        $this.attr(\"data-isclick\", true);\r\n        var text = $.trim($this.parent().siblings(\".pop-con\").find(\".mathIpt\").val());\r\n        var userId = $this.data(\"userid\");\r\n        var clubContentId = $this.data(\"clubcontentid\");\r\n        var replyCommentId = $this.data(\"commentid\");\r\n        if (text == \"\") {\r\n            alert(\"评论不能为空！\");\r\n            return;\r\n        }\r\n        else if (text.length >= 5000) {\r\n            alert(\"评论不能超过5000个字符！\");\r\n            return;\r\n        }\r\n        else {\r\n            var jsondata = {\r\n                userId: userId,\r\n                clubContentId: clubContentId,\r\n                content: text,\r\n                replyId: replyCommentId,\r\n                fromDevice: 1\r\n            };\r\n            $.ajax({\r\n                type: \"post\",\r\n                dataType: \"json\",\r\n                url: \"http://192.168.0.100:9009/apis/club/api/addcomment\",\r\n                data: { \"jsondata\": JSON.stringify(jsondata) },\r\n                success: function (result) {\r\n                    if (result.dataType == \"ok\") {\r\n                        $this.attr(\"data-isclick\", false);\r\n                        var $qzClComment = $(\"#qzClComment\");\r\n                        if ($qzClComment.length > 0) {\r\n                            var html = qzFunc.createCardComment(result.commlist);\r\n                            $qzClComment.find(\"li\").length == 0 ? $qzClComment.html(html) : $qzClComment.prepend(html);\r\n                            var m = parseInt($(\".commentNum i,.qzBtnComment\").html()) + 1;\r\n                            $(\".commentNum i,#qzCardContext .btn-comment\").html(m);\r\n                        }\r\n                        else {\r\n                            $(\".qzBtnComment[data-clubcontentid=\" + clubContentId + \"]\").html(\"1\").attr(\"data-commcount\", 1);\r\n                        }\r\n                        $(\".qzPop\").removeClass('cur');\r\n                        $('html,body').removeClass('hideScroll').animate({ scrollTop: beforeOpenSt }, 0);\r\n                        //等待弹层动画执行完后移除弹层\r\n                        setTimeout(function () {\r\n                            $(\".qzPop\").remove();\r\n                        }, 250);\r\n                    }\r\n                    else {\r\n                        alert(result.body);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n    $.fn.UserOnline = function (fun) {\r\n        $.ajax({\r\n            type: \"GET\", dataType: \"jsonp\", url: \"http://192.168.0.100:9009/apis/api/logincheck\",\r\n            success: function (responseJson) {\r\n                if(jsmodel === 'dev'){\r\n                    fun(responseJson);\r\n                }else{\r\n                    if (responseJson.status !== \"ok\") {\r\n                        $(\".ymw-loginpop-btns\").insertYmwLoginPop();\r\n                        $(\".ymw-loginpop-btns\").QZloginForm();\r\n                    }\r\n                    else {\r\n                        fun(responseJson);\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    };\r\n    $.fn.QZloginForm = function () {\r\n        var $this = $(this);\r\n        $this.on(\"click\", \"#qqLogin\", function (event) {\r\n            event.preventDefault();\r\n            var returnUrl = window.location.href;\r\n            window.location.href = \"http://192.168.0.100:9009/apis/oauth/authorizelogin?authorizetype=qq&returnUrl=\" + encodeURI(returnUrl);\r\n        }).on(\"click\", \"#sinaLogin\", function (event) {\r\n            event.preventDefault();\r\n            var returnUrl = window.location.href;\r\n            window.location.href = \"http://192.168.0.100:9009/apis/oauth/authorizelogin?authorizetype=sina&returnUrl=\" + encodeURI(returnUrl);\r\n        })\r\n    };\r\n    $.fn.insertYmwLoginPop = function () {\r\n        $(\".gsZpPopLoginClose\").show();\r\n        $(\".gs_zp_pop_login\").show();\r\n        $('.gsZpPopLoginClose').on('click', function () {\r\n            $(\".gs_zp_pop_login\").hide();\r\n            $(\".gsZpPopLoginClose\").hide();\r\n        })\r\n    };\r\n    $.fn.removeTarget = function () {\r\n        return this.each(function () {\r\n            $(this).find(\"a\").attr(\"target\", \"_self\");\r\n        })\r\n    }\r\n})(jQuery);"]}
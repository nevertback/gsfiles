"use strict";function fullScreen(){screenfull.enabled&&screenfull.request()}var pageConfig={countid:"512179",bgm:{txt:["打开声音","关闭声音"],start:"ztmedia/bgm.mp3"},userMute:!0,volClk:!0,isCommOpen:!1,isVideoPlaying:!1,addedComment:!1,addedFixed:!1,raceVd:"dbcb4aefe3",formJs:!1,audPlayVol:.1,bgmvol:1,imglist:{loading:{logo1:"ztimages/ld-logo.png",logo2:"ztimages/ld-logo-g.png"},ldPage:{vd:"ztimages/start.mp4"},begin:{bg:"ztimages/bg_begin.jpg",dgy:"http://www.gamersky.com/zl/preview/"},start:{bg:"ztimages/bg_start.jpg"},end:{bg:"ztimages/bg_end.jpg"},comm:{bg:"ztimages/bg_comm.jpg",rw:"ztimages/bg-comm-rw.png"}}},preLoadPicsLists={list1:[pageConfig.imglist.begin.bg]};!function(a){a.fn.autoScale=function(n){var i={baseWidth:1920,baseHeight:1080,offsetT:0,offsetL:0,positionMethod:""},t=a.extend(i,n);this.each(function(){function n(){var n=d;s>e/16*9?(n=o,i.css({top:"50%",left:"0","transform-origin":"0 0",transform:"scale("+n+") translate(0,-50%)"})):(n=d,i.css({top:"0",left:"50%","transform-origin":"0 0",transform:"scale("+n+") translate(-50%,0)"})),a(window).resize(function(){e=a(window).width(),o=e/t.baseWidth-t.offsetL,s=a(window).height(),d=s/t.baseHeight-t.offsetT,n=d,s>e/16*9?(n=o,i.css({top:"50%",left:"0","transform-origin":"0 0",transform:"scale("+n+") translate(0,-50%)"})):(n=d,i.css({top:"0",left:"50%","transform-origin":"0 0",transform:"scale("+n+") translate(-50%,0)"}))})}var i=a(this),e=a(window).width(),s=a(window).height(),o=e/t.baseWidth-t.offsetL,d=s/t.baseHeight-t.offsetT;n()})}}(jQuery);var animEnd="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",pageTimer;$.fn.extend({animateCss:function(a,n){var i="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend";this.addClass("animated "+a).one(i,function(){$(this).removeClass("animated "+a),n&&n()})}});var ymjsModel={pageinit:function(){var a=$("#pageswrap"),n=$(window).width(),i=$(window).height();a.css({width:n+"px",height:i+"px"})},autoPos:function(){$(".autoMH").each(function(){$(this).autoScale()})},bgmSet:function(a){$("#bgm").attr("src",a),pageConfig.userMute!==!0&&ymjsModel.bgmPlay()},bgmBtn:function(a){var n=this;a.on("click",function(){pageConfig.volClk?(pageConfig.userMute=!0,n.bgmPause()):(pageConfig.userMute=!1,n.bgmPlay())})},bgmPlay:function(){var a=document.getElementById("bgm"),n=$(".volbtn");a.play(),pageConfig.volClk=!0,n.removeClass("pause").find("span").text(pageConfig.bgm.txt[1]),a.volume=1},bgmPause:function(){var a=document.getElementById("bgm"),n=$(".volbtn");a.pause(),pageConfig.volClk=!1,n.addClass("pause").find("span").text(pageConfig.bgm.txt[0])},htFun:function(){var a=this;$(window).on({blur:function(){a.bgmPause()},focus:function(){pageConfig.userMute!==!0&&pageConfig.isVideoPlaying!==!0&&a.bgmPlay()}})},createBaiduShare:function(a){var n="";return n+='<div class="bdsharewrap bdstyle-c '+a+'"><div class="bdsharebuttonbox bdshare-button-style0-16" data-tag="share_1" data-bd-bind="1446461622481"><a target="_self" class="bdicons bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a><a class="bdicons bds_weixin" data-cmd="weixin" title="分享到微信"></a><a class="bdicons bds_sqq" data-cmd="sqq" title="分享到QQ"></a><a class="bdicons bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a><a class="bdicons bds_tieba" data-cmd="tieba" title="分享到贴吧"></a><a class="bdicons bds_renren" data-cmd="renren" title="分享到人人"></a><a class="bdicons bds_douban" data-cmd="douban" title="分享到豆瓣"></a><a class="bdicons bds_more" data-cmd="more"></a><a class="bds_count" data-cmd="count" title=""></a></div></div>'},chagePage:function(a){clearTimeout(pageTimer),$("#fixNav").removeClass("cur"),$("#dgyMain").removeClass("cur"),pageTimer=setTimeout(function(){a()},400)},preLoadImg:function(a){for(var n=0;n<a.length;n++){var i=new Image;i.src=a[n]}},dgyRender:function(){var a=this;a.htFun(),a.autoPos()}};ymjsModel.dgyRender(),ymjsModel.bgmBtn($(".volbtn"));var pageFunc={bindKey:function(a,n){var i={a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,space:32,tab:9,shift:16,k1:49,k2:50,k3:51,k4:52,k5:53,k6:54};$(document).on({keydown:function(t){if(pageConfig.isCommOpen===!1){var e=t?t:window.event,s=e.keyCode;97===s?s=49:98===s?s=50:99===s?s=51:100===s?s=52:101===s?s=53:102===s&&(s=54),s===i[a]&&($(document).off(),"function"==typeof n&&n())}}})},openMenu:function(a){pageFunc.bindKey("q",function(){pageFunc.pMenuPage(a)})},loadingFunc:function(a){var n="",i=$("body"),t=this,e=pageConfig.imglist.loading;n+='<div id="loading"></div><div id="loadingAnim"><img src="'+e.logo1+'" alt="" class="loadingAnim-img-g"><div class="loadingAnim-img"><img src="'+e.logo2+'"></div><div class="loadingtxt"></div></div>',n+='<div id="closeLoading" class="closeLoading"><div class="txt">全屏浏览可获得最佳体验，ESC或F11可退出全屏模式。</div><div class="clearfix btngroup"><a class="closeno">继续</a></div></div>',a===!0?(i.append(n),i.jpreLoader({splashVPos:"0",splashID:"#loadingAnim",showSplash:!0,loaderVPos:"0%",autoClose:!0},function(){$("#closeLoading").show()}),$("#closeLoading").find(".closeno").on("click",function(){fullScreen(),$("#loading").fadeOut(300),$("#closeLoading").fadeOut(300),$(".volbtn").addClass("cur"),pageConfig.userMute=!1,ymjsModel.bgmSet(pageConfig.bgm.start),t.beginPage()})):($(".volbtn").addClass("cur"),this.beginPage()),ymjsModel.preLoadImg(preLoadPicsLists.list1)},beginPage:function(){function a(){t.find(".btn1").on("click",function(){pageFunc.startPage()}),$(".supportMe").supportMe()}var n="",i=pageConfig.imglist.begin;n+='<div class="page_con page_begin">',n+='<img src="'+i.bg+'" alt="pics" class="page_bg">',n+='<a target="_blank" href="'+i.dgy+'" class="logo_dgy"></a>',n+='<a class="zanbtn supportMe" data-itemid="'+pageConfig.countid+'" data-field="digg" data-table="PE_U_Article"><i class="ico_zan"></i><span><i class="zanNum">0</i>人赞过</span></a>',n+='<a class="btn1"></a>',n+="</div>";var t=$("#dgyMain");ymjsModel.chagePage(function(){t.html(n).addClass("cur"),a()})},startPage:function(){function a(){t.find(".btn1").on("click",function(){pageFunc.pdiffPage()}),t.find(".btn2").on("click",function(){pageFunc.psetPage()}),ymjsModel.preLoadImg(preLoadPicsLists.list2)}var n="",i=pageConfig.imglist.start;n+='<div class="page_con page_start">',n+='<img src="'+i.bg+'" alt="pics" class="page_bg">',n+='<a class="btn_sty btn_sty3 btn1">开始游戏</a>',n+='<a class="btn_sty btn_sty3 btn2">选项</a>',n+="</div>";var t=$("#dgyMain");ymjsModel.chagePage(function(){t.html(n).addClass("cur"),a()})},endPage:function(){function a(){pageFunc.openMenu("endPage"),t.find(".btn_comm").on("click",function(){pageFunc.commPage()}),$(".supportMe").supportMe(),window._bd_share_main.init()}var n="",i=pageConfig.imglist.end;n+='<div class="page_con page_end">',n+='<img src="'+i.bg+'" alt="pics" class="page_bg">',n+='<div class="infos">',n+='<a target="_blank" href="'+pageConfig.imglist.begin.dgy+'" class="logo_dgy"></a>',n+="<p>内容：FoxJR、天增弟弟， 视觉：Mrrr.Tian、ONE像素</p>",n+='<a class="zanbtn supportMe" data-itemid="'+pageConfig.countid+'" data-field="digg" data-table="PE_U_Article"><i class="ico_zan"></i><span><i class="zanNum">0</i>人赞过</span></a>',n+='<div class="clearfix btngroup"><a class="btn btn_comm">网友评论</a><a class="btn btn_wq" target="_blank" href="'+pageConfig.imglist.begin.dgy+'">往期回顾</a></div>',n+=ymjsModel.createBaiduShare(""),n+="</div>",n+="</div>";var t=$("#dgyMain");ymjsModel.chagePage(function(){t.html(n).addClass("cur"),a()})},pdiffPage:function(){function a(){t.find(".btn").on("click",function(){pageFunc.pRwPage()})}var n="",i=pageConfig.imglist.pdiff;n+='<div class="page_con page_pdiff">',n+='<img src="'+i.bg+'" alt="pics" class="page_bg">',n+='<a class="btn_sty btn_sty3 btn btn1"><img src="'+i.pics[0]+'" alt="pic"></a>',n+='<a class="btn_sty btn_sty3 btn btn2"><img src="'+i.pics[1]+'" alt="pic"></a>',n+='<a class="btn_sty btn_sty3 btn btn3"><img src="'+i.pics[2]+'" alt="pic"></a>',n+="</div>";var t=$("#dgyMain");ymjsModel.chagePage(function(){t.html(n).addClass("cur"),a()})},commPage:function(){function a(){var a=document,n=a.createElement("script"),i=a.getElementsByTagName("head")[0]||a.head||a.documentElement;n.type="text/javascript",n.charset="utf-8",n.src="http://j.gamersky.com/web2015/comment/js/commentconfig.js",i.insertBefore(n,i.firstChild),window.SCS_NO_IFRAME=!0}var n="",i=pageConfig.imglist.comm;n+='<div class="page_con page_comm">',n+='<img src="'+i.bg+'" alt="replace" class="comm_bg">',n+='<img src="'+i.rw+'" alt="replace" class="comm_bg_rw">',n+='<div class="comm hei"><div class="cont"><div class="tit"></div>',n+='<div id="SOHUCS" sid="'+pageConfig.countid+'"></div>',n+="</div></div>",n+='<a class="btn_close btn_sty btn_sty_back"><span>返回</span></a>',n+="</div>";var t=$("#dgyComm");pageConfig.isCommOpen=!0,pageConfig.addedComment===!1?(t.addClass("cur").html(n),a(),pageConfig.addedComment=!0):(t.addClass("cur"),$("#SOHUCS").GetComment()),$(".page_comm").on("click",".cmt-commentbtn",function(){t.find(".comm").animate({scrollTop:0},200)}),t.find(".btn_close").on("click",function(){t.removeClass("cur"),pageConfig.isCommOpen=!1,$(".page_comm").off()})},transReGoPage:function(a,n){function i(){pageConfig.isVideoPlaying=!0,ymjsModel.bgmPause(),n&&e.find(".btns_go").on("click",function(){pageConfig.isVideoPlaying=!1,pageConfig.userMute!==!0&&ymjsModel.bgmPlay(),n()}),setTimeout(function(){e.find(".gdvd_loding").addClass("cur")},100),setTimeout(function(){e.find(".gdvd_loding").remove(),e.find(".btns_go").addClass("cur")},6e3)}var t="";t+='<div class="page_con page_trans">',t+='<div class="letvwrap"><embed src="http://yuntv.letv.com/bcloud.swf" allowFullScreen="true" quality="high" align="middle" allowScriptAccess="always" width="100%" height="100%" flashvars="uu=cfd9191aeb&vu='+a+'&pu=667b454198&auto_play=1&gpcflag=1&width=1920&height=1080&lang=zh_CN" type="application/x-shockwave-flash"></embed></div>',n&&(t+='<div class="gdvd_btn gdvd_loding"></div><a class="btns_go btn_sty btn_sty2">继续</a>'),t+="</div>";var e=$("#dgyMain");ymjsModel.chagePage(function(){e.html(t).addClass("cur"),i()})},fixedNav:function(){var a="";a+='<div class="fx_list">',a+='<a class="fixBtn fixBtn_rw" data-pg="Rw"><i></i><span>角色</span></a>',a+='<a class="fixBtn fixBtn_S1" data-pg="s1"><i></i><span>任务1</span></a>',a+='<a class="fixBtn fixBtn_s201" data-pg="s201"><i></i><span>任务2</span></a>',a+='<a class="fixBtn fixBtn_Pz" data-pg="Pz"><i></i><span>配置</span></a>',a+='<a class="fixBtn_comm"><i></i><span>评论</span></a>',a+="</div>";var n=$("#fixNav");n.html(a),n.on({mouseover:function(){$(this).addClass("hover")},mouseout:function(){$(this).removeClass("hover")}}),n.on("click",".enClk",function(){var a=$(this).data("pg");pageFunc["p"+a+"Page"]()}),n.find(".fixBtn_comm").on("click",function(){pageFunc.commPage()})},fixedNavFunc:function(){var a=$("#fixNav"),n=$("#dgyMain");a.addClass("cur"),a.find(".fixBtn").each(function(){var i=$(this),t=i.data("pg");n.find(".page_p"+t).length>0?(a.find(".fixBtn").removeClass("cur").addClass("enClk"),i.removeClass("enClk").addClass("cur")):i.addClass("enClk")})},render:function(){var a=this;a.loadingFunc(!1),a.fixedNav()}};pageFunc.render();
//# sourceMappingURL=main.min.js.map

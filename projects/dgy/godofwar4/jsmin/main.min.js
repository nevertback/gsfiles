var gsDgyConfig={env:"dev",ieForbiddenVer:11,baseSize:{w:1920,h:1080},commentOpen:!0,countid:1038357,bgm:{txt:["打开声音","关闭声音"],nowplay:"",mute:!0,volClk:!1,isVideoPlaying:!1},staticUrl:{channel:"//www.gamersky.com/zl/preview/",club:"//i.gamersky.com/club/2",ku:"",pc:""},menu:{data:"data/menu.data.js",select:"weapon"},isCommOpen:!1},gsdsPath1="",gsdsPath2="",gsDgySource;gsDgySource={bgm:{start:gsdsPath1+"ztmedia/bgm.mp3"},page:{gsdCommon:{slogan:gsdsPath1+"ztimages/slogan.png"},gsdLoad:{logo1:gsdsPath1+"ztimages/ld-logo.png",logo2:gsdsPath1+"ztimages/ld-logo-g.png"},gsdStart:{bg:gsdsPath1+"ztimages/gsdStart.jpg",vd:gsdsPath1+"ztmedia/bg-start.mp4"},gsdEnd:{bg:gsdsPath1+"ztimages/gsdEnd.jpg",vd:gsdsPath1+"ztmedia/bg-end.mp4",maker:{con:"<h5>内容策划</h5><p>FoxJR、短笛酱</p><h5>视觉设计</h5><p>Drakedooog、MrrrTian</p>"}},gsdBuy:{bg:gsdsPath1+"ztimages/gsdEnd.jpg",vd:gsdsPath2+"ztmedia/bg-buy.mp4",logo:gsdsPath1+"ztimages/buy-logo.png",role:{b:gsdsPath1+"ztimages/buy-role-b.png",s:gsdsPath1+"ztimages/buy-role-s.png"},sld:[{tit:"数字标准版",pic:gsdsPath1+"ztimages/ver0.png",big:gsdsPath1+"ztimages/ver0b.png",url:"https://store.playstation.com/zh-hant-hk/product/HP9000-CUSA07413_00-00000000GODOFWAR"},{tit:"收藏版",pic:gsdsPath1+"ztimages/ver1.png",big:gsdsPath1+"ztimages/ver1b.png",url:"https://www.amazon.com/God-War-Collectors-PlayStation-4/dp/B0797CKXC4/ref=sr_1_3?s=videogames&ie=UTF8&qid=1524130739&sr=1-3&keywords=god+of+war"},{tit:"石匠限定版",pic:gsdsPath1+"ztimages/ver2.png",big:gsdsPath1+"ztimages/ver2b.png",url:"https://www.amazon.com/God-War-Stone-Masons-PlayStation-4/dp/B0792SPV9J/ref=sr_1_2?s=videogames&ie=UTF8&qid=1524126534&sr=1-2&keywords=god+of+war"},{tit:"数字豪华版",pic:gsdsPath1+"ztimages/ver3.png",big:gsdsPath1+"ztimages/ver3b.png",url:"https://store.playstation.com/zh-hant-hk/product/HP9000-CUSA07413_00-GODOFWARDDE00000"}]},gsdStory:{vd:"XMzU1MDA1NTA3Mg"}},flow:{gsdFlow01:{vd:gsdsPath1+"ztmedia/flow/flow01.mp4"},gsdFlow02:{vd1:gsdsPath2+"ztmedia/flow/flow02.mp4",vd2:gsdsPath1+"ztmedia/flow/flow02loop.mp4",tips:[{tid:0,downKey:"r",showTime:35.2,txt:"按<span>R</span>键砍树"}]},gsdFlow03:{vd1:gsdsPath2+"ztmedia/flow/flow03.mp4",vd2:gsdsPath1+"ztmedia/flow/flow03loop.mp4",tips:[{tid:0,downKey:"r",showTime:4,txt:"按<span>R</span>键砍树"}]},gsdFlow04:{vd1:gsdsPath1+"ztmedia/flow/flow041.mp4",vd2:gsdsPath1+"ztmedia/flow/flow042loop.mp4",vd3:gsdsPath2+"ztmedia/flow/flow043.mp4",vd4:gsdsPath2+"ztmedia/flow/flow044loop.mp4",tips:[{tid:0,downKey:"w",showTime:85,txt:"按住<span>W</span>前进"},{tid:1,downKey:"r",showTime:10,txt:"按<span>R</span>上船"}]},gsdFlow05:{vd1:gsdsPath1+"ztmedia/flow/flow051.mp4",vd2:gsdsPath1+"ztmedia/flow/flow052loop.mp4",vd3:gsdsPath2+"ztmedia/flow/flow053.mp4",vd4:gsdsPath2+"ztmedia/flow/flow054loop.mp4",tips:[{tid:0,downKey:"w",showTime:37,txt:"按住<span>W</span>前进"},{tid:1,downKey:"r",showTime:27,txt:"按<span>R</span>下船"}]},gsdFlow06:{vd1:gsdsPath1+"ztmedia/flow/flow061.mp4",vd2:gsdsPath1+"ztmedia/flow/flow062loop.mp4",vd3:gsdsPath2+"ztmedia/flow/flow063.mp4",tips:[{tid:0,downKey:"w",showTime:34,txt:"按住<span>W</span>前进"}]},gsdFlow07:{vd1:gsdsPath1+"ztmedia/flow/flow071.mp4",vd2:gsdsPath1+"ztmedia/flow/flow072loop.mp4",vd3:gsdsPath2+"ztmedia/flow/flow073.mp4",vd4:gsdsPath2+"ztmedia/flow/flow074loop.mp4",tips:[{tid:0,downKey:"w",showTime:281.8,txt:"按住<span>W</span>前进"},{tid:1,downKey:"r",showTime:37.3,txt:"按下<span>R</span>跳过裂隙"}]},gsdFlow08:{vd1:gsdsPath1+"ztmedia/flow/flow08.mp4",vd2:gsdsPath2+"ztmedia/flow/flow08loop.mp4",tips:[{tid:0,downKey:"r",showTime:14.1,txt:"按<span>R</span>跳跃物体"}]},gsdFlow09:{vd1:gsdsPath2+"ztmedia/flow/flow09.mp4",vd2:gsdsPath1+"ztmedia/flow/flow09loop.mp4",tips:[{tid:0,downKey:"e",showTime:28,txt:"按下<span>E</span>装备利维坦之斧子"}]},gsdFlow10:{vd1:gsdsPath1+"ztmedia/flow/flow10.mp4",vd2:gsdsPath2+"ztmedia/flow/flow10loop.mp4",tips:[{tid:0,downKey:"q",showTime:.3,txt:"按<span>Q</span>以瞄准"}]},gsdFlow11:{vd1:gsdsPath2+"ztmedia/flow/flow11.mp4",vd2:gsdsPath1+"ztmedia/flow/flow11loop.mp4",tips:[{tid:0,downKey:"t",showTime:.2,txt:"按下<span>T</span>抛出斧头"}]},gsdFlow12:{vd1:gsdsPath1+"ztmedia/flow/flow12.mp4",vd2:gsdsPath2+"ztmedia/flow/flow12loop.mp4",tips:[{tid:0,downKey:"b",showTime:5.3,txt:"按下<span>B</span>召回斧头"}]},gsdFlow13:{vd1:gsdsPath2+"ztmedia/flow/flow13.mp4",vd2:gsdsPath1+"ztmedia/flow/flow13loop.mp4",tips:[{tid:0,downKey:"r",showTime:10,txt:"按下<span>R</span>跳过裂隙"}]},gsdFlow14:{vd:gsdsPath1+"ztmedia/flow/flow14.mp4"}}};var changePageTimer,gsDgyMethods;gsDgyMethods={ieForbidden:function(s){var n=$.browser.msie,e=parseInt($.browser.version);n===!0&&e<s&&$("html").addClass("ie-forbidden")},setMainSize:function(){var s,n=$(window),e=$("#gsDgyMain"),a=gsDgyConfig.baseSize.w,i=gsDgyConfig.baseSize.h,d=n.width(),o=n.height();d>o/i*a?(s=o/i,e.css({"transform-origin":"50% 0",left:"50%",top:"0","margin-left":"-"+a/2+"px","margin-top":"0"})):(s=d/a,e.css({"transform-origin":"0 50%",top:"50%",left:"0","margin-left":"0","margin-top":"-"+i/2+"px"})),e.css({width:a+"px",height:i+"px",transform:"scale("+s+")"})},fullScreen:function(){screenfull.enabled&&screenfull.request()},bindKey:function(s,n){var e={a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,space:32,tab:9,shift:16,k1:49,k2:50,k3:51,k4:52,k5:53,k6:54};$(document).on({keydown:function(a){if(gsDgyConfig.isCommOpen===!1){var i=a?a:window.event,d=i.keyCode;97===d?d=49:98===d?d=50:99===d?d=51:100===d?d=52:101===d?d=53:102===d&&(d=54),d===e[s]&&($(document).off(),"function"==typeof n&&n())}}})},bindKeyHold:function(s,n,e){var a={a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,space:32,tab:9,shift:16,k1:49,k2:50,k3:51,k4:52,k5:53,k6:54};$(document).on({keydown:function(e){if(gsDgyConfig.isCommOpen===!1){var i=e?e:window.event,d=i.keyCode;97===d?d=49:98===d?d=50:99===d?d=51:100===d?d=52:101===d?d=53:102===d&&(d=54),d===a[s]&&"function"==typeof n&&n()}},keyup:function(){"function"==typeof e&&e()}}),$(window).on({blur:function(){"function"==typeof e&&e()}})},keyBdButton:function(s,n,e){function a(){"function"==typeof e&&e()}gsDgyMethods.bindKey(s,function(){a()}),n.on("click",function(){a()})},bgmSet:function(s){gsDgyConfig.bgm.nowplay!==s&&(gsDgyConfig.bgm.nowplay=s,$("#bgm").attr("src",s),gsDgyConfig.bgm.userMute!==!0&&this.bgmPlay())},bgmBtn:function(s){var n=this;$("#gsDgyMain").on("click",s,function(){gsDgyConfig.bgm.volClk?(gsDgyConfig.bgm.userMute=!0,n.bgmPause()):(gsDgyConfig.bgm.userMute=!1,n.bgmPlay())})},bgmPlay:function(){var s=document.getElementById("bgm"),n=$(".gsDgyMusic");s.play(),gsDgyConfig.bgm.volClk=!0,n.removeClass("pause").addClass("cur").find("span").text(gsDgyConfig.bgm.txt[1]),s.volume=1},bgmPause:function(){var s=document.getElementById("bgm"),n=$(".gsDgyMusic");s.pause(),gsDgyConfig.bgm.volClk=!1,n.addClass("pause").find("span").text(gsDgyConfig.bgm.txt[0])},bgmBeforeVideo:function(){gsDgyConfig.bgm.isVideoPlaying=!0,this.bgmPause()},bgmAfterVideo:function(){gsDgyConfig.bgm.isVideoPlaying=!1,gsDgyConfig.bgm.userMute!==!0&&this.bgmPlay()},htFun:function(){var s=this;$(window).on({blur:function(){s.bgmPause()},focus:function(){gsDgyConfig.bgm.mute!==!0&&gsDgyConfig.bgm.isVideoPlaying!==!0&&s.bgmPlay()}})},baiduShare:function(s){var n="";return n+='<div class="bdsharewrap bdstyle-c '+s+'"><div class="bdsharebuttonbox bdshare-button-style0-16" data-tag="share_1" data-bd-bind="1446461622481"><a target="_self" class="bdicons bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a><a class="bdicons bds_weixin" data-cmd="weixin" title="分享到微信"></a><a class="bdicons bds_sqq" data-cmd="sqq" title="分享到QQ"></a><a class="bdicons bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a><a class="bdicons bds_tieba" data-cmd="tieba" title="分享到贴吧"></a><a class="bdicons bds_renren" data-cmd="renren" title="分享到人人"></a><a class="bdicons bds_douban" data-cmd="douban" title="分享到豆瓣"></a><a class="bdicons bds_more" data-cmd="more"></a><a class="bds_count" data-cmd="count" title=""></a></div></div>'},changePage:function(s,n){function e(){i.removeClass("cur")}function a(){}var i=$("#gsDgyPage");clearTimeout(changePageTimer),e(),changePageTimer=setTimeout(function(){i.html(s).addClass("cur"),n(i),a()},400)},flowPopOpen:function(){gsDgyConfig.bgm.userMute!==!0&&gsDgyMethods.bgmPlay(),$("#gsDgyMain").find("video").attr("mute",!0)},flowPoClose:function(){gsDgyConfig.bgm.isVideoPlaying===!0&&gsDgyMethods.bgmPause(),$("#gsDgyMain").find("video").attr("mute",!1)},commInit:function(){function s(){var s=document,n=s.createElement("script"),e=s.getElementsByTagName("head")[0]||s.head||s.documentElement;n.type="text/javascript",n.charset="utf-8",n.src="http://j.gamersky.com/web2015/comment/js/commentconfig.js",e.insertBefore(n,e.firstChild),window.SCS_NO_IFRAME=!0}function n(){var s="";return s+="",s+='<div class="gsd-comment hei">',s+='<div class="gsd-comment-scl gsdCommentScl"><div class="gsd-comment-context">',s+='<div class="gsd-comment-context-area" id="SOHUCS" sid="'+gsDgyConfig.countid+'"></div>',s+="</div></div>",s+='<a class="gsd-comment-close gsdCommentClose"></a>',s+="</div>"}function e(){gsDgyConfig.isCommOpen=!0,$("#SOHUCS").GetComment(),i.addClass("cur"),gsDgyMethods.flowPopOpen()}function a(){gsDgyConfig.isCommOpen=!1,i.removeClass("cur"),gsDgyMethods.flowPoClose()}var i=$("#gsDgyComment"),d="";d+=n(),i.html(d),gsDgyConfig.commentOpen===!0&&s();var o=$("#gsDgyMain");o.on("click",".gsdBtnComm",function(){e()}),i.on("click",".gsdCommentClose",function(){a()}),i.on("click",".cmt-commentbtn",function(){i.find(".gsdCommentScl").animate({scrollTop:0},200)})},addStaticCells:function(s,n){var e,a="";e={baidu:!1,zan:!1,buy:!1,club:!1,ku:!1,pc:!1,back:!1,comm:!1},"object"==typeof n&&$.extend(e,n),e.baidu&&(a+=gsDgyMethods.baiduShare()),a+='<div class="gs-dgy-static-cells">',e.zan&&(a+='<a class="cells-zan supportMe" data-itemid="'+gsDgyConfig.countid+'" data-field="digg" data-table="PE_U_Article"><i class="cells-zan-icon"></i><span><i class="zanNum">0</i>人赞过</span></a>'),e.buy&&(a+='<a class="btn-sty1 cells-buy gsDgyStaticCellsBuy"><i></i><span>购买游戏</span></a>'),e.club&&(a+='<a target="_blank" href="'+gsDgyConfig.staticUrl.club+'" class="cells-club"></a>'),e.ku&&(a+='<a target="_blank" href="'+gsDgyConfig.staticUrl.ku+'" class="cells-ku"></a>'),e.pc&&(a+='<a target="_blank" href="'+gsDgyConfig.staticUrl.pc+'" class="cells-pc"></a>'),e.back&&(a+='<a target="_blank" href="'+gsDgyConfig.staticUrl.channel+'" class="btn-sty1 cells-back"><i></i><span>往期回顾</span></a>'),e.comm&&(a+='<a class="btn-sty1 cells-comment gsdBtnComm"><i></i><span>玩家评论</span></a>'),a+="</div>",s.append(a),e.zan&&$(".supportMe").supportMe(),e.buy&&s.find(".gsDgyStaticCellsBuy").on("click",function(){gsDgyPages.gsdBuy()}),e.baidu&&window._bd_share_main.init()},bindGlogalEvent:function(){$("#gsDgyMain").on("click",".gsDgyMenu",function(){gsDgyMenu.init()})},init:function(){var s=this;s.ieForbidden(gsDgyConfig.ieForbiddenVer),s.setMainSize(),$(window).resize(function(){s.setMainSize()}),s.commInit(),s.bgmBtn(".gsDgyMusic"),s.htFun(),s.bindGlogalEvent()}};var $gsdMenu=$("#gsDgyMenu"),gsDgyMenu,gsDgyMenuBgTimer;gsDgyMenu={addBackground:function(){var s="";return s+='<div class="gsd-menu-video gsdMenuVideo">',s+="</div>"},addMain:function(){var s="";return s+='<div class="gsd-menu-main gsdMenuMain cur">',s+="</div>"},changeBgVideo:function(s){var n="",e=$gsdMenu.find(".gsdMenuVideo");clearTimeout(gsDgyMenuBgTimer),n+='<video src="'+s+'" autoplay loop muted></video>',e.removeClass("cur"),gsDgyMenuBgTimer=setTimeout(function(){e.html(n).addClass("cur")},250)},changeTab:function(s,n){function e(s){var n="",e="",a="";return n+='<div class="gsd-menu-innertab gsMenuTabInner">',$.each(s,function(s,n){var i="";i=0===s?" cur":"",e+='<a class="gsd-menu-innertab-nav'+s+i+'" data-idx="'+s+'">',e+='<img class="holder" src="'+n.nav.hld+'" alt="innerNav">',e+='<img class="light" src="'+n.nav.lgt+'" alt="innerNav">',e+="</a>",a+='<div class="gsd-menu-innertab-box-item gsMenuTabInnerBoxItem'+i+'">',a+='<img class="box-pic gsdMenuLazy" src="http://image.gamersky.com/webimg13/zhuanti/common/blank.png" data-src="'+n.box.pic+'" alt="innerBox">',a+="</div>"}),n+='<div class="gsd-menu-innertab-box gsMenuTabInnerBox">',n+=a,n+="</div>",n+='<div class="gsd-menu-innertab-nav gsMenuTabInnerNav">',n+=e,n+="</div>",n+="</div>"}function a(s){var n="",a="",i="";return n+='<div class="gsd-menu-tab gsMenuTab">',$.each(s,function(s,n){var d="";d=0===s?" cur":"",a+='<a class="'+d+'" data-bg="'+n.bgVideo+'">',a+='<img src="'+n.navPic+'" alt="'+n.nav+'">',a+="</a>",i+='<div class="gsd-menu-tab-list-item gsMenuTabListItem'+d+'">',i+=e(n.list),i+="</div>"}),n+='<div class="gsd-menu-tab-list gsMenuTabList">',n+=i,n+="</div>",n+='<div class="gsd-menu-tab-nav gsMenuTabNav">',n+=a,n+="</div>",n+="</div>"}function i(s,n){var e="",a="",i="";return e+='<div class="gsd-menu-innertab gsMenuTabInner">',$.each(s,function(s,n){var e="";e=0===s?" cur":"","undefined"!=typeof n.nav.group&&(a+='<div class="gsd-menu-innertab-nav-group">'+n.nav.group+"</div>"),a+='<a class="gsd-menu-innertab-nav'+s+e+'" data-idx="'+s+'">',a+="<span>"+n.nav.txt+"</span>",a+="</a>",i+='<div class="gsd-menu-innertab-box-item gsMenuTabInnerBoxItem'+e+'">',i+='<img class="box-pic gsdMenuLazy" src="http://image.gamersky.com/webimg13/zhuanti/common/blank.png" data-src="'+n.box.pic+'" alt="innerBox">',i+="</div>"}),e+='<div class="gsd-menu-innertab-box gsMenuTabInnerBox">',e+=i,e+="</div>",e+='<div class="gsd-menu-innertab-nav gsMenuTabInnerNav">',e+='<div class="gsd-menu-innertab-nav-scl">',e+=a,e+="</div></div>",e+='<div class="gsd-menu-innertab-title">'+n+"</div>",e+="</div>"}function d(s){var n="",e="",a="";return n+='<div class="gsd-menu-tab gsMenuTab">',$.each(s,function(s,n){var d="";d=0===s?" cur":"",e+='<a class="'+d+'">',e+='<img src="'+n.navPic+'" alt="'+n.nav+'">',e+="</a>",a+='<div class="gsd-menu-tab-list-item gsMenuTabListItem'+d+'">',n.list.length>0?a+=i(n.list,n.nav):(a+='<div class="gsd-menu-innertab"><div class="gsd-menu-innertab-nav"><div class="gsd-menu-innertab-nav-scl">',a+='<div class="gsd-menu-innertab-nav-null">'+n.nullCon+"</div>",a+="</div></div>",a+='<div class="gsd-menu-innertab-title">'+n.nav+"</div></div>"),a+="</div>"}),n+='<div class="gsd-menu-tab-list gsMenuTabList">',n+=a,n+="</div>",n+='<div class="gsd-menu-tab-nav gsMenuTabNav">',n+=e,n+="</div>",n+="</div>"}function o(s,n){var e="",a="",i="";return e+='<div class="gsd-menu-innertab gsd-menu-innertab'+n+' gsMenuTabInner">',$.each(s,function(s,n){var e="";e=0===s?" cur":"",a+='<a class="gsd-menu-skill-nav'+s+e+'" data-idx="'+s+'"></a>',i+='<div class="gsd-menu-innertab-box-item gsMenuTabInnerBoxItem'+e+'">',i+='<div class="gsd-menu-skill-infos">',i+='<div class="title">'+n.tit+"</div>",i+='<div class="pic"><img class="gsdMenuLazy" src="http://image.gamersky.com/webimg13/zhuanti/common/blank.png" data-src="'+n.pic+'" alt="innerBox"></div>',i+='<div class="des"><p>'+n.des+"</p></div>",i+='<div class="state">'+n.state+"</div>",i+='<div class="plus">',i+='<div class="plus-title">额外加成</div>',i+='<div class="plus-info"><p>'+n.plus.info+"</p></div>","undefined"!=typeof n.plus.need&&(i+='<div class="plus-need">需要<span>'+n.plus.need+"</span><i><b>"+n.plus.num+"</b>/"+n.plus.numTotal+"</i></div>"),i+="</div>",i+="</div>",i+="</div>"}),e+='<div class="gsd-menu-innertab-box gsMenuTabInnerBox">',e+=i,e+="</div>",e+='<div class="gsd-menu-innertab-nav gsMenuTabInnerNav">',e+=a,e+="</div>",e+="</div>"}function t(s){var n="",e="",a="";return n+='<div class="gsd-menu-tab gsMenuTab">',$.each(s,function(s,n){var i="";i=0===s?" cur":"",e+='<a class="'+i+'">',e+='<img src="'+n.navPic+'" alt="'+n.nav+'">',e+="</a>",a+='<div class="gsd-menu-tab-list-item gsMenuTabListItem'+i+'">',a+='<img class="gsd-menu-tab-list-item-bg" src="'+n.navBg+'" alt="bg">',a+=o(n.list,s),a+="</div>"}),n+='<div class="gsd-menu-tab-list gsMenuTabList">',n+=a,n+="</div>",n+='<div class="gsd-menu-tab-nav gsMenuTabNav">',n+=e,n+="</div>",n+="</div>"}function g(s){s.find(".gsdMenuLazy").each(function(){var s=$(this),n=s.data("src"),e=s.attr("data-loaded");"ok"!==e&&s.attr({src:n,"data-loaded":"ok"})})}function l(s){var n,e=s.find(".gsMenuTabInner"),a=e.find(".gsMenuTabInnerNav"),i=s.find(".gsMenuTabInnerBox");a.find("a").on({mouseover:function(){var s=$(this),e=s.data("idx");n=setTimeout(function(){a.find("a").removeClass("cur").eq(e).addClass("cur"),i.find(".gsMenuTabInnerBoxItem").removeClass("cur").eq(e).addClass("cur"),g(i.find(".gsMenuTabInnerBoxItem").eq(e))},120)},mouseout:function(){clearTimeout(n)}})}function c(s){var n,e=s.find(".gsMenuTab"),a=e.find(".gsMenuTabNav"),i=s.find(".gsMenuTabList");a.find("a").on({mouseover:function(){var e=$(this),d=e.index(),o=e.data("bg");e.hasClass("cur")===!1&&(n=setTimeout(function(){a.find("a").removeClass("cur").eq(d).addClass("cur"),i.find(".gsMenuTabListItem").removeClass("cur").eq(d).addClass("cur"),"string"==typeof o&&r.changeBgVideo(o),g(s.find(".gsMenuTabListItem").eq(d).find(".gsMenuTabInnerBoxItem").eq(0))},120))},mouseout:function(){clearTimeout(n)}}),s.find(".gsMenuTabListItem").each(function(){l($(this))}),g(s.find(".gsMenuTabListItem").eq(0).find(".gsMenuTabInnerBoxItem").eq(0))}var u,r=this;u={weapon:function(){var e=s.items[n];r.changeBgVideo(e.bgVideo);var i="";i+='<div class="gsd-menu-context gsd-menu-context-sty1 gsd-menu-weapon gsdMenuWeapon">',i+=a(e.tabs),i+='<div class="gsd-menu-title">'+e.title+"</div>",i+="</div>",$gsdMenu.find(".gsdMenuMain").html(i),c($gsdMenu.find(".gsdMenuWeapon"))},suit:function(){var e=s.items[n];r.changeBgVideo(e.bgVideo);var i="";i+='<div class="gsd-menu-context gsd-menu-context-sty1 gsd-menu-suit gsdMenuSuit">',i+=a(e.tabs),i+='<div class="gsd-menu-title">'+e.title+"</div>",i+="</div>",$gsdMenu.find(".gsdMenuMain").html(i),c($gsdMenu.find(".gsdMenuSuit"))},skill:function(){var e=s.items[n];r.changeBgVideo(e.bgVideo);var a="";a+='<div class="gsd-menu-context gsd-menu-skill gsdMenuSkill">',a+=t(e.tabs),a+="</div>",$gsdMenu.find(".gsdMenuMain").html(a),c($gsdMenu.find(".gsdMenuSkill"))},map:function(){var e=s.items[n];r.changeBgVideo(e.bgVideo),$gsdMenu.find(".gsdMenuMain").html("")},aim:function(){var e=s.items[n];$gsdMenu.find(".gsdMenuVideo").html("");var a="";a+='<div class="gsd-menu-context gsd-menu-context-sty3 gsd-menu-aim gsdMenuAim">',a+='<img class="gsd-menu-bg" src="'+e.bgPic+'" alt="bg">',a+=d(e.tabs),a+="</div>",$gsdMenu.find(".gsdMenuMain").html(a),c($gsdMenu.find(".gsdMenuAim"))},law:function(){var e=s.items[n];$gsdMenu.find(".gsdMenuVideo").html("");var a="";a+='<div class="gsd-menu-context gsd-menu-context-sty3 gsd-menu-law gsdMenuLow">',a+='<img class="gsd-menu-bg" src="'+e.bgPic+'" alt="bg">',a+=d(e.tabs),a+="</div>",$gsdMenu.find(".gsdMenuMain").html(a),c($gsdMenu.find(".gsdMenuLow"))},resource:function(){var e=s.items[n];r.changeBgVideo(e.bgVideo);var a="";a+='<div class="gsd-menu-context gsd-menu-context-sty3 gsd-menu-resource gsdMenuResource">',a+=d(e.tabs),a+="</div>",$gsdMenu.find(".gsdMenuMain").html(a),c($gsdMenu.find(".gsdMenuResource"))}},u[n]()},addHead:function(s){var n="";return n+='<div class="gsd-menu-head">',n+='<div class="clearfix gsd-menu-head-buttons">',$.each(s.items,function(s,e){var a="";a=s===gsDgyConfig.menu.select?" cur":"",n+='<a class="gsd-menu-btn gsdMenuBtn'+a+'" data-tab="'+s+'">'+e.title+"</a>"}),n+="</div>",n+='<a class="gsd-menu-foot-back gsdMenuBack"></a>',n+="</div>"},addFoot:function(){var s="";return s+='<div class="gsd-menu-foot">',s+="</div>"},bindButton:function(s){var n,e=this,a=$gsdMenu.find(".gsdMenuMain");$gsdMenu.on("click",".gsdMenuBack",function(){gsDgyMenu.close()}),$gsdMenu.find(".gsdMenuBtn").on({click:function(){var i=$(this),d=i.data("tab");i.hasClass("cur")===!1&&(a.removeClass("cur"),$gsdMenu.find(".gsdMenuBtn").removeClass("cur"),i.addClass("cur"),clearTimeout(n),n=setTimeout(function(){e.changeTab(s,d),a.addClass("cur")},250))}})},close:function(){$gsdMenu.html("").removeClass("cur"),$gsdMenu.removeClass("cur"),gsDgyMethods.flowPoClose()},open:function(s){var n=this,e=gsDgyConfig.menu.select;$.getScript(gsDgyConfig.menu.data,function(){var a="",i=gsDgyMenuData;"undefined"!=typeof s&&(gsDgyConfig.menu.select=s),e=gsDgyConfig.menu.select,a+='<div class="gsd-menu">',a+=n.addBackground(),a+=n.addMain(),a+=n.addHead(i),a+=n.addFoot(),a+="</div>",$gsdMenu.html(a).addClass("cur"),n.bindButton(i,e),n.changeTab(i,e),gsDgyMethods.flowPopOpen()})},init:function(){this.open()}};var gsDgyFlows;gsDgyFlows={addflowTips:function(s,n){var e="";return e+='<div class="flow-tips '+s+'">',e+='<div class="flow-tips-context"><a class="flow-tips-btn">',e+=n,e+="</a></div></div>"},addflowTipsTop:function(s,n){var e="";return e+='<div class="flow-tips-top '+s+'">',e+='<div class="flow-tips-context"><a class="flow-tips-btn">',e+=n,e+="</a></div></div>"},flowMost:function(s,n){var e=$("#gsDgyPage"),a="",i=gsDgySource.flow[s];a+='<div class="gsd-page vPage '+s+'">',a+='<video class="flow-bg" id="'+s+'video" src="'+i.vd+'" alt="'+s+'" autoplay></video>',a+="</div>",e.html(a).addClass("cur");var d=document.getElementById(s+"video");d.onended=function(s){"function"==typeof n&&n()}},flowMostKey:function(s,n){function e(){m.pause(),u.hide(),"function"==typeof n&&n()}function a(){gsDgyMethods.keyBdButton(l.tips[0].downKey,v.find("a"),function(){e()})}function i(){r.currentTime>=l.tips[0].showTime&&(f=!1,v.addClass("cur"),a())}function d(){f=!0,i(),allTimer=requestAnimationFrame(d),f===!1&&cancelAnimationFrame(allTimer)}var o=this,t=$("#gsDgyPage"),g="",l=gsDgySource.flow[s];g+='<div class="gsd-page vPage '+s+'">',g+='<video class="flow-bg" id="'+s+'video1" src="'+l.vd1+'" alt="'+s+'"></video>',g+='<video class="flow-bg flow-vd-hide" id="'+s+'video2" src="'+l.vd2+'" alt="'+s+'" loop></video>',g+=o.addflowTips("flowTips",l.tips[0].txt),g+="</div>",t.html(g).addClass("cur");var c=$("#"+s+"video1"),u=$("#"+s+"video2"),r=document.getElementById(s+"video1"),m=document.getElementById(s+"video2"),v=t.find(".flowTips"),f=!1;r.play(),r.onended=function(s){c.hide(),c.remove(),u.removeClass("flow-vd-hide"),m.play()},d()},flowMostKeyTop:function(s,n){function e(){m.pause(),u.hide(),"function"==typeof n&&n()}function a(){gsDgyMethods.keyBdButton(l.tips[0].downKey,v.find("a"),function(){e()})}function i(){r.currentTime>=l.tips[0].showTime&&(f=!1,v.addClass("cur"),a())}function d(){f=!0,i(),allTimer=requestAnimationFrame(d),f===!1&&cancelAnimationFrame(allTimer)}var o=this,t=$("#gsDgyPage"),g="",l=gsDgySource.flow[s];g+='<div class="gsd-page vPage '+s+'">',g+='<video class="flow-bg" id="'+s+'video1" src="'+l.vd1+'" alt="'+s+'"></video>',g+='<video class="flow-bg flow-vd-hide" id="'+s+'video2" src="'+l.vd2+'" alt="'+s+'" loop></video>',g+=o.addflowTipsTop("flowTips",l.tips[0].txt),g+="</div>",t.html(g).addClass("cur");var c=$("#"+s+"video1"),u=$("#"+s+"video2"),r=document.getElementById(s+"video1"),m=document.getElementById(s+"video2"),v=t.find(".flowTips"),f=!1;r.play(),r.onended=function(s){c.hide(),c.remove(),u.removeClass("flow-vd-hide"),m.play()},d()},flowMostKeyHold:function(s,n){function e(){y.pause(),m.hide(),"function"==typeof n&&n()}function a(){gsDgyMethods.bindKeyHold(l.tips[0].downKey,function(){M===!1&&(u.attr({loop:!1,mute:!0}),f.currentTime=0,f.play(),f.pause(),u.hide(),u.remove(),M=!0),b.removeClass("cur"),r.removeClass("flow-vd-hide"),p.play(),p.currentTime>=l.tips[1].showTime&&($(document).off(),b.remove(),w.addClass("cur"),gsDgyMethods.keyBdButton(l.tips[1].downKey,w.find("a"),function(){e()}))},function(){f.pause(),b.addClass("cur"),p.pause()})}function i(){v.currentTime>=l.tips[0].showTime&&(h=!1,b.addClass("cur"),a())}function d(){h=!0,i(),allTimer=requestAnimationFrame(d),h===!1&&cancelAnimationFrame(allTimer)}var o=this,t=$("#gsDgyPage"),g="",l=gsDgySource.flow[s];g+='<div class="gsd-page vPage '+s+'">',g+='<video class="flow-bg" id="'+s+'video1" src="'+l.vd1+'" alt="'+s+'"></video>',g+='<video class="flow-bg flow-vd-hide" id="'+s+'video2" src="'+l.vd2+'" alt="'+s+'" loop></video>',g+='<video class="flow-bg flow-vd-hide" id="'+s+'video3" src="'+l.vd3+'" alt="'+s+'"></video>',g+='<video class="flow-bg flow-vd-hide" id="'+s+'video4" src="'+l.vd4+'" alt="'+s+'" loop></video>',g+=o.addflowTips("flowTips0",l.tips[0].txt),g+=o.addflowTips("flowTips1",l.tips[1].txt),g+="</div>",t.html(g).addClass("cur");var c=$("#"+s+"video1"),u=$("#"+s+"video2"),r=$("#"+s+"video3"),m=$("#"+s+"video4"),v=document.getElementById(s+"video1"),f=document.getElementById(s+"video2"),p=document.getElementById(s+"video3"),y=document.getElementById(s+"video4"),b=t.find(".flowTips0"),w=t.find(".flowTips1"),h=!1,M=!1;v.play(),v.onended=function(s){c.remove(),u.removeClass("flow-vd-hide"),f.play()},p.onended=function(s){p.pause(),r.hide(),r.remove(),m.removeClass("flow-vd-hide"),y.play()},d()},flowMostKeyHold2:function(s,n){function e(){r.hide(),"function"==typeof n&&n()}function a(){gsDgyMethods.bindKeyHold(l.tips[0].downKey,function(){p.removeClass("cur"),v.pause(),u.hide(),u.remove(),r.removeClass("flow-vd-hide"),f.play()},function(){p.addClass("cur"),f.pause()})}function i(){m.currentTime>=l.tips[0].showTime&&(y=!1,p.addClass("cur"),a())}function d(){y=!0,i(),allTimer=requestAnimationFrame(d),y===!1&&cancelAnimationFrame(allTimer)}var o=this,t=$("#gsDgyPage"),g="",l=gsDgySource.flow[s];g+='<div class="gsd-page vPage '+s+'">',g+='<video class="flow-bg" id="'+s+'video1" src="'+l.vd1+'" alt="'+s+'"></video>',g+='<video class="flow-bg flow-vd-hide" id="'+s+'video2" src="'+l.vd2+'" alt="'+s+'" loop></video>',g+='<video class="flow-bg flow-vd-hide" id="'+s+'video3" src="'+l.vd3+'" alt="'+s+'"></video>',g+=o.addflowTips("flowTips0",l.tips[0].txt),g+="</div>",t.html(g).addClass("cur");var c=$("#"+s+"video1"),u=$("#"+s+"video2"),r=$("#"+s+"video3"),m=document.getElementById(s+"video1"),v=document.getElementById(s+"video2"),f=document.getElementById(s+"video3"),p=t.find(".flowTips0"),y=!1;m.play(),m.onended=function(s){c.hide(),c.remove(),u.removeClass("flow-vd-hide"),v.play()},f.onended=function(s){$(document).off(),e()},d()},gsdFlow01:function(){function s(s){gsDgyMethods.bgmBeforeVideo();var n=document.getElementById(e+"video");n.onended=function(s){gsDgyFlows.gsdFlow02()}}var n="",e="gsdFlow01",a=gsDgySource.flow[e];n+='<div class="gsd-page vPage '+e+'">',n+='<video class="flow-bg" id="'+e+'video" src="'+a.vd+'" alt="'+e+'" autoplay></video>',n+="</div>",gsDgyMethods.changePage(n,function(n){s(n)})},gsdFlow02:function(){var s="gsdFlow02",n=this;n.flowMostKey(s,function(){gsDgyFlows.gsdFlow03()})},gsdFlow03:function(){var s="gsdFlow03",n=this;n.flowMostKey(s,function(){gsDgyFlows.gsdFlow04()})},gsdFlow04:function(){var s="gsdFlow04",n=this;n.flowMostKeyHold(s,function(){gsDgyFlows.gsdFlow05()})},gsdFlow05:function(){var s="gsdFlow05",n=this;n.flowMostKeyHold(s,function(){gsDgyFlows.gsdFlow06()})},gsdFlow06:function(){var s="gsdFlow06",n=this;n.flowMostKeyHold2(s,function(){gsDgyFlows.gsdFlow07()})},gsdFlow07:function(){var s="gsdFlow07",n=this;n.flowMostKeyHold(s,function(){gsDgyFlows.gsdFlow08()})},gsdFlow08:function(){var s="gsdFlow08",n=this;n.flowMostKey(s,function(){gsDgyFlows.gsdFlow09()})},gsdFlow09:function(){var s="gsdFlow09",n=this;n.flowMostKeyTop(s,function(){gsDgyFlows.gsdFlow10()})},gsdFlow10:function(){var s="gsdFlow10",n=this;n.flowMostKeyTop(s,function(){gsDgyFlows.gsdFlow11()})},gsdFlow11:function(){var s="gsdFlow11",n=this;n.flowMostKeyTop(s,function(){gsDgyFlows.gsdFlow12()})},gsdFlow12:function(){var s="gsdFlow12",n=this;n.flowMostKeyTop(s,function(){gsDgyFlows.gsdFlow13()})},gsdFlow13:function(){var s="gsdFlow13",n=this;n.flowMostKeyTop(s,function(){gsDgyFlows.gsdFlow14()})},gsdFlow14:function(){function s(s){var n=document.getElementById(e+"video");n.onended=function(s){gsDgyPages.gsdStory()}}var n="",e="gsdFlow14",a=gsDgySource.flow[e];n+='<div class="gsd-page vPage '+e+'">',n+='<video class="flow-bg" id="'+e+'video" src="'+a.vd+'" alt="'+e+'" autoplay></video>',n+="</div>",gsDgyMethods.changePage(n,function(n){s(n)})}};var gsDgyPages={gsdLoad:function(s,n){var e="",a=$("body"),i=this,d=gsDgySource.page.gsdLoad;e+='<div id="gsDgyLoadingMask" class="gs-dgy-loading-mask"></div><div id="loadingAnim" class="gs-dgy-loading"><img src="'+d.logo1+'" alt="" class="loadingAnim-img-g"><div class="loadingAnim-img"><img src="'+d.logo2+'"></div><div class="loadingtxt"></div></div>',e+='<div id="gsDgyLoadingTips" class="gs-dgy-loading-tips">',e+='<div class="txt">',e+="<p>为了不破坏《战神》的游玩体验，大观园将仅提供很小一部分的内容作浏览。</p><p>此次的内容全部为游戏开场<b>50分钟</b>演示，请欣赏。</p><p>全屏体验更加，你可以按<i>F11</i><b>退出全屏</b>，也可以随时按<i>F11</i><b>恢复全屏</b></p>",e+="<p><span>为了更好的观看体验，请使用<i>IE11及以上</i>或其他浏览器浏览专题。</span></p>",e+="</div>",e+='<div class="clearfix btngroup"><a class="gsDgyLoadingTipsBtn">继续</a></div>',e+="</div>",s===!0?(a.append(e),a.jpreLoader({splashVPos:"0",splashID:"#loadingAnim",showSplash:!0,loaderVPos:"0%",autoClose:!0},function(){$("#gsDgyLoadingTips").show()}),$("#gsDgyLoadingTips").find(".gsDgyLoadingTipsBtn").on("click",function(){gsDgyMethods.fullScreen(),$("#gsDgyLoadingMask").fadeOut(300),$("#gsDgyLoadingTips").fadeOut(300),gsDgyConfig.bgm.mute=!1,gsDgyMethods.bgmSet(gsDgySource.bgm.start),i.gsdStart()})):"function"==typeof n&&n()},basePage:function(s,n,e){function a(s){var n=s.find(".vPage");e(n)}var i="",d=gsDgySource.page[s];i+='<div class="gsd-page vPage '+s+'" data-vkey="'+s+'">',i+='<img class="gsd-page-bg" src="'+d.bg+'" alt="'+s+'">',i+='<div class="gsd-page-main vPageMain">',i+=n,i+="</div></div>",gsDgyMethods.changePage(i,function(s){a(s)})},gsdStart:function(){var s="",n="gsdStart",e=gsDgySource.page[n];s+='<video class="gsd-page-bg" src="'+e.vd+'" autoplay loop></video>',s+='<img class="slogan" src="'+gsDgySource.page.gsdCommon.slogan+'" alt="slogan">',s+='<a class="btn btn1 btnNext cur"><i></i></a>',s+='<a class="btn btn2 gsDgyMenu"><i></i></a>',gsDgyPages.basePage(n,s,function(s){s.find(".btn").on("mouseover",function(){s.find(".btn").removeClass("cur"),$(this).addClass("cur")}),s.find(".btnNext").on("click",function(){gsDgyFlows.gsdFlow01()}),gsDgyMethods.addStaticCells(s,{zan:!0,comm:!0,buy:!0})})},gsdBuy:function(s){var n="",e="gsdBuy",a=gsDgySource.page[e],i=$("#gsDgyPage").find(".vPage").data("vkey");n+='<video class="gsd-page-bg" src="'+a.vd+'" autoplay loop></video>',n+='<div class="ver">',n+='<img class="logo" src="'+a.logo+'" alt="logo">',n+='<div class="tit"><i></i><span></span></div>',n+='<div class="sld swiper-container"><div class="swiper-wrapper">',n+="</div>",n+='<a class="sld-arr sld-arr-prev sldArrPrev"></a>',n+='<a class="sld-arr sld-arr-next sldArrNext"></a>',n+="</div>",n+="</div>",n+='<img class="gsd-page-bg role role-s gsdBuyRoleSmall" src="'+a.role.s+'">',n+='<img class="gsd-page-bg role role-b gsdBuyRoleBig" src="'+a.role.b+'">',n+=s!==!0?'<a class="btn btn-back btnBack"><i></i></a>':'<a class="btn btn-next btnNext"><i></i></a>',n+='<div class="gsd-buy-pop-mask gsdBuyPop gsdBuyPopClose"></div>',n+='<div class="gsd-buy-pop gsdBuyPop">',n+='<div class="gsd-buy-pop-main gsdBuyPopMain"></div>',n+='<a class="gsd-buy-pop-close gsdBuyPopClose"></a>',n+="</div>",gsDgyPages.basePage(e,n,function(s){function n(){var s={x:0,y:0},n={x:0,y:0};s.x=-u.x/100,n.x=-u.x/50,r.css({transform:"translate3d("+s.x+"px,0,0)"}),m.css({transform:"translate3d("+n.x+"px,0,0)"})}function d(){c=$("."+e).length,n(),l=requestAnimationFrame(d),c<1&&cancelAnimationFrame(l)}var o=s.find(".sld");s.find(".btnBack").on("click",function(){gsDgyPages[i]()}),s.find(".btnNext").on("click",function(){gsDgyPages.gsdEnd()});var t=(new Swiper(o,{mousewheel:!0,navigation:{nextEl:o.find(".sldArrNext"),prevEl:o.find(".sldArrPrev"),disabledClass:"sld-arr-disable"},virtual:{slides:a.sld,renderSlide:function(s,n){var e="";return e+='<div class="swiper-slide">',e+="<h5>"+s.tit+"</h5>",e+='<div class="pic"><a class="gsdBuyPopBtn" data-num="'+n+'"><img src="'+s.pic+'" alt="'+s.tit+'"></a></div>',e+='<a class="btn-sty1 btn" target="_blank" href="'+s.url+'"><i></i><span>购买</span></a>',
e+="</div>"}}}),s.find(".gsdBuyPop")),g=s.find(".gsdBuyPopClose");o.on("click",".gsdBuyPopBtn",function(){var s=$(this),n=s.data("num");t.addClass("cur"),t.find(".gsdBuyPopMain").html('<img src="'+a.sld[n].big+'" alt="'+a.sld[n].tit+'">')}),g.on("click",function(){t.removeClass("cur")});var l,c,u={x:0,y:0},r=s.find(".gsdBuyRoleBig"),m=s.find(".gsdBuyRoleSmall"),v=s.find(".vPageMain");v.on("mousemove",function(s){u.x=s.clientX-$(window).width()/2}),d()})},gsdEnd:function(){var s="",n="gsdEnd",e=gsDgySource.page[n];s+='<video class="gsd-page-bg" src="'+e.vd+'" autoplay loop></video>',s+='<img class="slogan" src="'+gsDgySource.page.gsdCommon.slogan+'" alt="slogan">',s+='<div class="maker">',s+='<div class="tit"><i></i><span></span></div>',s+='<div class="con">'+e.maker.con+"</div>",s+="</div>",gsDgyPages.basePage(n,s,function(s){s.find(".btnNext").on("click",function(){gsDgyPages.gsdStart()}),gsDgyMethods.addStaticCells(s,{zan:!0,comm:!0,back:!0,baidu:!0})})},gsdStory:function(){function s(s){function n(){gsDgyMethods.bgmAfterVideo(),gsDgyPages.gsdBuy(!0)}function e(){new YKU.Player("youkuplayer",{styleid:"0",client_id:"6bfe5b183f11e7d9",vid:a.vd,newPlayer:!0,show_related:!1,autoplay:!0});window.addEventListener("message",function(s){var e=s.data;switch(e.msg){case"onPlayEnd":n()}},!1)}var i=s.find(".vPage");i.find(".btnSkip").on("click",function(){n()}),e()}var n="",e="gsdStory",a=gsDgySource.page[e];n+='<div class="gsd-page vPage '+e+'">',n+='<div class="gsd-page-bg" id="youkuplayer"></div>',n+='<a class="btn-sty1 btn-skip btnSkip"><i></i><span>跳过</span></a>',n+="</div>",gsDgyMethods.changePage(n,function(n){s(n)})},gsdBaseDemo:function(){var s="",n="gsdBaseDemo";gsDgySource.page[n];s+='<a class="btnNext"></a>',gsDgyPages.basePage(n,s,function(s){s.find(".btnNext").on("click",function(){gsDgyPages.gsdStart()}),gsDgyMethods.addStaticCells(s)})},gsdDiyDemo:function(){function s(s){var n=s.find(".vPage");n.find(".btnNext").on("click",function(){gsDgyPages.start()})}var n="",e="gsdDiyDemo",a=gsDgySource.page[e];n+='<div class="gsd-page vPage '+e+'">',n+='<img src="'+a.bg+'" alt="'+e+'">',n+='<a class="btnNext"></a>',n+="</div>",gsDgyMethods.changePage(n,function(n){s(n)})}};!function(s){gsDgyMethods.init(),gsDgyPages.gsdLoad(!0,function(){console.log("gs")})}(jQuery);
//# sourceMappingURL=main.min.js.map

var pageConfig = {
    countid:'1007384',
    bgm:{
        txt:['打开声音','关闭声音'],
        start:'http://image.gamersky.com/zqimg/mhw/pc/bgm.mp3',
        hunt:'http://image.gamersky.com/zqimg/mhw/pc/bgm-hunt.mp3'
    },
    userMute:true,
    volClk:true,
    isFixedNav:true,
    isHb:true,
    isCommOpen:false,
    isVideoPlaying:false,
    addedComment:false,
    bgmvol:1,
    imglist:{
        loading:{
            logo1:'http://image.gamersky.com/zqimg/mhw/pc/ld-logo.png',
            logo2:'http://image.gamersky.com/zqimg/mhw/pc/ld-logo-g.png'
        },
        ldPage:{
            vd:'http://image.gamersky.com/zqimg/mhw/pc/vd-start.mp4'
        },
        begin:{
            bg:'http://image.gamersky.com/zqimg/mhw/pc/bg_begin.jpg',
            gs:'http://www.gamersky.com/zl/preview/',
            txt:'<p>每隔10年，古龙们就会以遥远的新大陆为目标渡过大海，这种现象被称为“古龙渡”。</p>\n' +
            '<p>为了调查这一奇妙的现象，公会成立了“新大陆古龙调查团”，多次派遣调查团前往新大陆。</p>\n' +
            '<p>然而，今次已是第五次派遣，追踪正在渡海的古龙灭尽龙后方，在这巨大的船中，可以见到猎人的姿态……</p>'
        },
        end:{
            bg:'http://image.gamersky.com/zqimg/mhw/pc/bg_end.jpg',
            para:'<p><b>专题策划：</b>观海、天增弟弟、Mirror明镜</p><p><b>视觉设计：</b>Drakedooog、MrrrTian</p>'
        },
        comm:{
            bg:'http://image.gamersky.com/zqimg/mhw/pc/bg_comm.jpg'
        },
        pgGamerVer:{
            bg:'http://image.gamersky.com/zqimg/mhw/pc/bg_gmvr.jpg',
            des:'请购买游戏，获得完整狩猎体验！',
            list:[
                {
                    tit:'标准版',
                    buy:'https://store.playstation.com/#!/zh-hant-hk/%e9%81%8a%e6%88%b2/monster-hunter-world-pre-order/cid=HP0102-CUSA09554_00-ASIAPLACEHOLDER0',
                    pic:'http://image.gamersky.com/zqimg/mhw/pc/gmvr1.png',
                    lis:['<p>《怪物猎人：世界》游戏本体</p>']
                },
                {
                    tit:'豪华版',
                    buy:'https://store.playstation.com/#!/zh-hant-hk/%e9%81%8a%e6%88%b2/monster-hunter-world-digital-deluxe-edition-pre-order/cid=HP0102-CUSA09554_00-ASIAPLACEHOLDER1',
                    pic:'http://image.gamersky.com/zqimg/mhw/pc/gmvr2.png',
                    lis:['<p>《怪物猎人：世界》游戏本体</p>','<p>豪华组合<span>外观装备 「铠武者系列」</span><span>3种追加手势「正坐」「投射飞镖」「强推」</span><span>2种追加奖章套件「MH歴代角色人物套件」「全熟肉吉祥物套件」</span><span>追加涂鸭 「龙」</span><span>追加髮型 「冲天炮」</span></p>']
                },
                {
                    tit:'典藏版',
                    buy:'https://www.gamestop.com/browse?nav=16k-Monster+Hunter+World',
                    pic:'http://image.gamersky.com/zqimg/mhw/pc/gmvr3.png',
                    lis:['<p>《怪物猎人：世界》游戏本体</p>','<p>豪华组合<span>外观装备 「铠武者系列」</span><span>3种追加手势「正坐」「投射飞镖」「强推」</span><span>2种追加奖章套件「MH歴代角色人物套件」「全熟肉吉祥物套件」</span><span>追加涂鸭 「龙」</span><span>追加髮型 「冲天炮」</span></p>','<p>原装模型<span>(尺寸: 约W 140mm x D 170mm x H 125mm)</span></p>','<p>《怪物猎人：世界》特别原声<span>(10 首)</span></p>','<p>《怪物猎人：世界》画册「Monster Designs」<span>(尺寸: W 216mm x H 279mm, 32页精装版)</span></p>']
                }
            ]
        },
        pgStarBase:{
            bg:'http://image.gamersky.com/zqimg/mhw/pc/bg_starbase.jpg',
            intro:{
                tit:'星辰',
                des:'<p>生活在新大陆所有调查员的「家」——调查据点亚斯提拉（アステラ）。</p><p>可以说是生活在新大陆所有调查员的「家」。负责调查的研究区域；支撑调查行动的物流、工房区域；猎人们匯集的集会区域等等，有许多不同的区域。在四十年前由第一期调查队建立，并经过长年修改，才成为现在这个模样。</p>'
            }
        },
        pgMeeting:{
            bg:'http://image.gamersky.com/zqimg/mhw/pc/bg_meeting.jpg',
            box:'http://image.gamersky.com/zqimg/mhw/pc/meeting-box.png',
            intro:{
                tit:'集会区域',
                des:'<p>每个聚会区域最多容纳16人同时聚集。</p><p>你可以和来自世界各地的玩家组成最多4人的队伍展开游戏。</p><p>在这儿不但可以共同出发执行任务，甚至还能相互比拼腕力。</p>'
            }
        },
        pgMyself:{
            bg:'http://image.gamersky.com/zqimg/mhw/pc/bg_myself.jpg',
            intro:{
                tit:'自己的房间',
                des:'<p>在自己的房间中有玩家熟悉的道具箱、随行猫管理等功能。此外，玩家可以在自己的房间中饲养从新大陆捕捉的各种环境生物，随着游戏的进行，房间的类型和等级还会有所变化，房间功能将逐渐扩展开来，可以放入房间中的环境生物数量和种类也有所不同。</p>'
            },
            rabbit:'http://image.gamersky.com/zqimg/mhw/pc/rabbit-txt.png',
            box:'http://image.gamersky.com/zqimg/mhw/pc/myself-box.png',
            cat:{
                txt:'http://image.gamersky.com/zqimg/mhw/pc/myself-cat-txt.png',
                role:'http://image.gamersky.com/zqimg/mhw/pc/myself-cat.png',
                video:'XMzM4NTY5NjA2NA'
            }
        },
        pgWorking:{
            bg:'http://image.gamersky.com/zqimg/mhw/pc/bg_working.jpg',
            intro:{
                tit:'加工屋',
                des:'<p>与装备有关的机能都能一手包办的工房。</p><p>对于前往进行严苛调查的猎人来说，是非常重要的设施。</p><p>负责武器和防具的强化、生产，甚至把一部分武器的强化返回原来的样子。</p>'
            },
            dia:'http://image.gamersky.com/zqimg/mhw/pc/working-dia.png'
        },
        pgMonster:{
            bg:'http://image.gamersky.com/zqimg/mhw/pc/bg_monster.jpg',
            intro:{
                tit:'加工屋',
                des:'<p>与装备有关的机能都能一手包办的工房。</p><p>对于前往进行严苛调查的猎人来说，是非常重要的设施。</p><p>负责武器和防具的强化、生产，甚至把一部分武器的强化返回原来的样子。</p>'
            },
            dia:'http://image.gamersky.com/zqimg/mhw/pc/working-dia.png'
        },
        pgMap:{
            bg:'http://image.gamersky.com/zqimg/mhw/pc/bg_map.jpg',
            intro:{
                tit:'简介',
                des:'<p>《怪物猎人：世界》的大地图是无缝衔接的，在这个世界中，有多个环境迥异的猎场，目前已知的可探索区域包括古树森林、大蚁塚荒地、陆珊瑚台地和瘴气之谷。</p><p>玩家可以从世界地图中前往不同猎场进行探索狩猎，你将感受到一个充满生机与自由的世界。</p><p>当然，你也可以利用它返回星辰据点。</p>'
            }
        },
        pgHunt:{
            bg:'http://image.gamersky.com/zqimg/mhw/pc/bg_hunt.jpg',
            btns:{
                btn1:'http://image.gamersky.com/zqimg/mhw/pc/hunt-intro.png',
                btn2:[
                    {tit:'准备狩猎',des:'为你所要面对的任务做好充足准备，仔细考虑最适合的装备、技能、猫侍和手上拥有的武器元素。你可以在营地改变自己的装备。'},
                    {tit:'怪物部分',des:'在怪物们的身上有些柔软的地方难以抵挡攻击，不过也有相对更坚韧、更耐用的部位。识别怪物的弱点是成为一个成功猎人的关键。'},
                    {tit:'元素属性',des:'游戏中存在五种元素属性：火、雷、水、冰和龙，利用怪物的元素弱点可对其造成额外伤害。'},
                    {tit:'怪物',des:'你可以通过在半空中的攻击来骑在怪兽身上。一旦骑怪兽成功，如果你在继续攻击的过程中没有被怪兽挣脱甩开，那么你就可以把它击倒。'},
                    {tit:'骑乘控制',des:'一旦你骑在一只怪物身上，当怪物疯狂挣扎的时候你要按下R2来让自己紧抓住不放手，或者按L来使自己避开某些攻击。请小心：如果你的体力消耗完，你就会自动从它身上脱落。'},
                    {tit:'了解你的环境',des:'在不同的环境中有五花八门的特殊动物和有趣的点来帮助你狩猎，你可以通过地图来查看它们是什么以及它们在哪里。'},
                    {tit:'怪物冲突',des:'当大型怪物相遇时，它们可能会相互攻击，利用好这样的情况将狩猎变成你的最爱。'},
                    {tit:'打破怪物的身体部位',des:'把你的攻击集中在怪物特定的身体部位可能会破坏它们，从而削弱怪物，有时还能限制其移动性或攻击。另外，还有一些材料只能通过打破怪物身体的某些部分获得。'},
                    {tit:'利用环境',des:'仔细观察你周围的环境，在你的身旁充满了可以跳下的平台、可以爬的墙壁以及可以滑下的斜坡。'},
                    {tit:'楔形甲虫',des:'楔形甲虫可以在许多不同的地方找到，将你的瞄准固定在一个点上，然后按下O钩住它，便可以摆荡穿行。'},
                    {tit:'盔甲技能',des:'盔甲中充满了各种技能，能为你带来积极的效果，并提高你的人物属性。选择最能符合你所使用的武器或游戏风格的盔甲技能。'},
                    {tit:'镜头类型',des:'你可以在选项中选择镜头类型。<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;聚焦：始终固定在目标上。<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;目标：按下按钮时固定在目标身上。'},
                    {tit:'镜头设置',des:'你可以从开始菜单更改各种镜头设置。'},
                    {tit:'快速旅行',des:'你可以从野生动物地图中快速回到营地，不过要小心：在战斗中或当怪物已经警惕到你的存在时，你无法使用这项功能。'}
                ]
            },
            video:{
                vd1:'http://image.gamersky.com/zqimg/mhw/pc/hunt-vd1.mp4',
                vd1Keys:[
                    {
                        time:5,
                        key:'g',
                        tips:{
                            keyshow:'按<i>G</i>穿上隐形衣装',
                            pop:{
                                tit:'隐形衣装',
                                des:'<p>一定时间内从怪物的视线中隐藏身影。进行攻击或受到伤害时，效果就会结束。</p>'
                            }
                        }
                    },
                    {
                        time:18,
                        key:'x',
                        tips:{
                            keyshow:'按<i>X</i>攻击'
                        }
                    },
                    {
                        time:28,
                        key:'f',
                        tips:{
                            keyshow:'按<i>F</i>踢翻麻痹蟾蜍',
                            pop:{
                                tit:'麻痹蟾蜍',
                                des:'<p>它们体型较胖，拥有黄色的伪装，当你踢爆它们时，它们会放出麻痹气体，令怪物麻痹，也能让猎人麻痹。</p>'
                            }
                        }
                    },
                    {
                        time:32.7,
                        key:'x',
                        tips:{
                            keyshow:'按<i>X</i>跳到灭尽龙背上'
                        }
                    },
                    {
                        time:38,
                        key:'x',
                        tips:{
                            keyshow:'按<i>X</i>连续攻击'
                        }
                    },
                    {
                        time:39,
                        key:'x',
                        tips:{
                            keyshow:'猛按<i>X</i>攻击'
                        }
                    },
                    {
                        time:40,
                        key:'x',
                        tips:{
                            keyshow:'猛按<i>X</i>攻击'
                        }
                    },
                    {
                        time:41,
                        key:'x',
                        tips:{
                            keyshow:'猛按<i>X</i>攻击'
                        }
                    },
                    {
                        time:42,
                        key:'x',
                        tips:{
                            keyshow:'猛按<i>X</i>攻击'
                        }
                    },
                    {
                        time:43,
                        key:'x',
                        tips:{
                            keyshow:'猛按<i>X</i>攻击'
                        }
                    },
                    {
                        time:44,
                        key:'x',
                        tips:{
                            keyshow:'猛按<i>X</i>攻击'
                        }
                    },
                    {
                        time:45,
                        key:'x',
                        tips:{
                            keyshow:'猛按<i>X</i>攻击'
                        }
                    },
                    {
                        time:46,
                        key:'x',
                        tips:{
                            keyshow:'猛按<i>X</i>攻击'
                        }
                    },
                    {
                        time:47,
                        key:'x',
                        tips:{
                            keyshow:'猛按<i>X</i>攻击'
                        }
                    },
                    {
                        time:48,
                        key:'x',
                        tips:{
                            keyshow:'猛按<i>X</i>攻击'
                        }
                    },
                    {
                        time:49,
                        key:'x',
                        tips:{
                            keyshow:'猛按<i>X</i>攻击'
                        }
                    },
                    {
                        time:50,
                        key:'x',
                        tips:{
                            keyshow:'猛按<i>X</i>攻击'
                        }
                    },
                    {
                        time:51,
                        key:'x',
                        tips:{
                            keyshow:'猛按<i>X</i>攻击'
                        }
                    }
                ],
                vd2:'XMzM4NTY2MjE1Mg',
                vd3:'http://image.gamersky.com/zqimg/mhw/pc/hunt-vd3.mp4',
                vd3loop:'http://image.gamersky.com/zqimg/mhw/pc/hunt-vd3-loop.mp4',
                vd3Keys:[
                    {
                        time:0,
                        key:'e',
                        tips:{
                            keyshow:'按<i>E</i>继续',
                            pop:{
                                tit:'导虫',
                                des:'<p>怪兽的足印和爪痕等踪迹遍布在四周，你的导虫会记得怪兽的气味并带领你寻找它们。当你搜集得到越多踪迹，导虫便能为你带来越多的资讯。</p>'
                            }
                        }
                    },
                    {
                        time:7.3,
                        key:'g',
                        tips:{
                            keyshow:'按<i>G</i>换上滑翔衣装',
                            pop:{
                                tit:'滑翔衣装',
                                des:'<p>跳跃时空中停留的时间变得较长，在有强风吹的地方使用</p>'
                            }
                        }
                    },
                    {
                        time:9.4,
                        key:'f',
                        tips:{
                            keyshow:'按<i>F</i>滑翔'
                        }
                    },
                    {
                        time:19.8,
                        key:'e',
                        tips:{
                            keyshow:'按<i>E</i>继续',
                            pop:{
                                tit:'利用火药桶击杀灭尽龙',
                                des:'<p>小炸药桶定时引爆，大桶需要主动引爆。引爆方法：1、用小炸药桶引爆。2、各种飞刀。3、弓、各种弩。4、用武器砍或用脚踢爆。</p>'
                            }
                        }
                    }
                ],
                vd4:'XMzM4NzYzNjgwNA',
                vd5:'http://image.gamersky.com/zqimg/mhw/pc/hunt-vd5.mp4'
            }
        },
        hd:{
            monster:{
                name:'魔物',
                con:[
                    {
                        group:'mp1',
                        hunted:false,
                        tit:'贼龙',
                        des:'<p>是率领凶豺龙群族的领导。</p><p>食欲旺盛，在空腹的时候会变得很暴躁。</p><p>整个吞下捕杀的猎物的模样是最精彩的部分</p>',
                        vd:'XMzM4MTIxMTk4OA',
                        bigpic:'http://image.gamersky.com/zqimg/mhw/pc/monster/mp1-zl.png'
                    },
                    {
                        group:'mp1',
                        hunted:false,
                        tit:'吐毒龙',
                        des:'<p>体内有毒液的鸟龙种。</p><p>会吞吃飞散核桃之类的植物蓄积在嘴里或尾巴，再混合毒液喷出强力的剧毒吐息。</p>',
                        vd:'XMzM4MTIwOTEyOA',
                        bigpic:'http://image.gamersky.com/zqimg/mhw/pc/monster/mp1-tdl.png'
                    },
                    {
                        group:'mp1',
                        hunted:false,
                        tit:'飞雷龙',
                        des:'<p>栖息在树上，在林木间飞舞活动的牙龙种。</p><p>似乎会藉由移动时摩擦林木与地面，使体毛能够蓄积静电。</p>',
                        vd:'XMzM4MDk4NjkzMg',
                        bigpic:'http://image.gamersky.com/zqimg/mhw/pc/monster/mp1-fll.png'
                    },
                    {
                        group:'mp1',
                        hunted:false,
                        tit:'蛮颚龙',
                        des:'<p>对这个捕食对象丰富的森林虎视眈眈。</p><p>非常好战的他对其它魔物是毫不犹豫地袭击。</p>',
                        vd:'XMzM4MDk4Njk0MA',
                        bigpic:'http://image.gamersky.com/zqimg/mhw/pc/monster/mp1-mel.png'
                    },
                    {
                        group:'mp1',
                        hunted:false,
                        tit:'火龙',
                        des:'<p>整个古树森林生态系统最顶尖的魔物。</p><p>可怕的飞龙会利用锐利的毒爪和火暖燥的呼吸降落在入侵者身上。</p>',
                        vd:'XMzM4MDk4NjkzNg',
                        bigpic:'http://image.gamersky.com/zqimg/mhw/pc/monster/mp1-xhl.png'
                    },
                    {
                        group:'mp2',
                        hunted:false,
                        tit:'搔鸟',
                        des:'<p>这种怪物擅于以它们有力的前脚抓住物件。</p><p>因此可于「大蚁塚荒地」和「古树森林」内偷盗怪物蛋。</p><p>它们亦擅于抓住大石并置于身前以保护自己。</p>',
                        vd:'XMzM4MDk4NjM3Mg',
                        bigpic:'http://image.gamersky.com/zqimg/mhw/pc/monster/mp2-sn.png'
                    },
                    {
                        group:'mp2',
                        hunted:false,
                        tit:'土砂龙',
                        des:'<p>这种怪物经常一边漫步一边寻找蚂蚁，它会用泥浆标记自己的领地。</p><p>一旦它们的领地受到侵犯，就会迅速地攻击破坏者。</p><p>它们以泥浆保护自己，亦会将泥浆洒落别人身上作攻击。</p>',
                        vd:'XMzM4MDk4NjM2OA',
                        bigpic:'http://image.gamersky.com/zqimg/mhw/pc/monster/mp2-tsl.png'
                    },
                    {
                        group:'mp2',
                        hunted:false,
                        tit:'泥鱼龙',
                        des:'<p>于「大蚁塚荒地」沼泽区中居住的大型鱼龙。</p><p>会利用泥浆捉拿猎物、保护自己，有时会对入侵其领地的怪物进行攻击。</p>',
                        vd:'XMzM4MDk4NTgzNg',
                        bigpic:'http://image.gamersky.com/zqimg/mhw/pc/monster/mp2-nyl.png'
                    },
                    {
                        group:'mp2',
                        hunted:false,
                        tit:'雌火龙',
                        des:'<p>主要在地上进行狩猎，别称为“陆之女王”。</p><p>曾被目击到火龙成双成对进行狩猎的案例。它会运用优秀的脚力和含毒液的尾巴收拾猎物。</p>',
                        vd:'XMzM4MDk4NTgzMg',
                        bigpic:'http://image.gamersky.com/zqimg/mhw/pc/monster/mp2-chl.png'
                    },
                    {
                        group:'mp2',
                        hunted:false,
                        tit:'角龙',
                        des:'<p>大蚁冢荒地之主。</p><p>有着强烈的领土意识以及暴君般的攻击性。</p><p>还有着把地面上发出大声响的猎物拉进地下领土的习性。</p>',
                        vd:'XMzM4MDk4NTg0MA',
                        bigpic:'http://image.gamersky.com/zqimg/mhw/pc/monster/mp2-jl.png'
                    },
                    {
                        role:'enter',
                        group:'mp2',
                        hunted:false,
                        tit:'灭尽龙',
                        des:'<p>灭尽龙是一只古龙种，古龙种便是威胁性大的代名词，同时也表明了它对麻痹陷阱免疫，不过武器的异常属性例如麻痹锤还是有用的，麻痹飞刀、毒飞刀和异常子弹都将变得非常有用。</p>',
                        pic:'http://image.gamersky.com/zqimg/mhw/pc/monster/mp2-mjl.jpg',
                        bigpic:'http://image.gamersky.com/zqimg/mhw/pc/monster/mp2-mjl.png'
                    },
                    {
                        group:'mp3',
                        hunted:false,
                        tit:'眩鸟',
                        des:'<p>一发现猎物或天敌，发光器官就会张大发出耀眼的闪光制造破绽。</p><p>会活用脚力发动攻击解决猎物。</p>',
                        vd:'XMzM4MTIxMTExMg',
                        bigpic:'http://image.gamersky.com/zqimg/mhw/pc/monster/mp3-xn.png'
                    },
                    {
                        group:'mp3',
                        hunted:false,
                        tit:'浮空龙',
                        des:'<p>以陆珊瑚的卵为主要食物的飞龙种。</p><p>能在体内蓄积空气，再喷出气流进行空中移动，同时还会利用坚硬的尾巴施展强力攻击。</p>',
                        vd:'XMzM4MTIxMDg2MA',
                        bigpic:'http://image.gamersky.com/zqimg/mhw/pc/monster/mp3-fkl.png'
                    },
                    {
                        group:'mp3',
                        hunted:false,
                        tit:'风漂龙',
                        des:'<p>以芳翼龙群为捕食对象，在狙击猎物时会全身放出冷气，令其行动迟缓后进行狩猎。</p>',
                        vd:'XMzM4MTIxMTU0NA',
                        bigpic:'http://image.gamersky.com/zqimg/mhw/pc/monster/mp3-fpl.png'
                    },
                    {
                        group:'mp4',
                        hunted:false,
                        tit:'痹贼龙',
                        des:'<p>受到陆珊瑚台地掉下的怪物尸肉所吸引而在瘴气谷中徘徊的怪物，在狩猎时会运用它有着麻痹毒性的大牙。</p>',
                        vd:'XMzE0Nzc2OTY0OA',
                        bigpic:'http://image.gamersky.com/zqimg/mhw/pc/monster/mp4-bzl.png'
                    },
                    {
                        group:'mp4',
                        hunted:false,
                        tit:'骨锤龙',
                        des:'<p>以瘴气谷中的怪物尸体为食的兽龙种，尸骨缠绕其全身。</p><p>有人曾目击到它会把身体蜷曲起来，通过转动身体快速移动或是进行攻击。</p>',
                        vd:'XMzE0Nzc4NDA0OA',
                        bigpic:'http://image.gamersky.com/zqimg/mhw/pc/monster/mp4-gcl.png'
                    },
                    {
                        group:'mp4',
                        hunted:false,
                        tit:'惨爪龙',
                        des:'<p>在瘴气谷中徘徊寻觅尸体的可怖怪物。</p><p>它具有非常强的攻击性，不论是人或是怪物都可能成为它的一顿美餐。</p>',
                        vd:'XMzE0Nzg4ODIwNA',
                        bigpic:'http://image.gamersky.com/zqimg/mhw/pc/monster/mp4-czl.png'
                    },
                    {
                        group:'mpother',
                        hunted:false,
                        tit:'炎王龙',
                        des:'<p>火炎缠身的凶暴古龙，能够喷吐灼热的吐息。</p><p>脾气凶暴，敢于正面跟它对峙的人无一例外都会葬身火海。</p>',
                        vd:'XMzM4MTIxMjY0NA'
                    },
                    {
                        group:'mpother',
                        hunted:false,
                        tit:'钢龙',
                        des:'<p>能够呼唤风暴，不让任何人接近自己身边的古龙。</p><p>拥有相当硬的金属质地外壳覆盖全身。</p>',
                        vd:'XMzM4MTIxMjYzNg'
                    },
                    {
                        group:'mpother',
                        hunted:false,
                        tit:'岩贼龙',
                        des:'<p>以岩石为主食的怪物。通过混合唾液的成份，把具爆炸性的岩石储存于口内，然后吐出，用作防范天敌保护自己。</p>',
                        pic:'http://image.gamersky.com/zqimg/mhw/pc/monster/mpother-yzl.png'
                    }
                ]
            },
            map:{
                name:'地图',
                con:[
                    {
                        group:'mp1',
                        gone:false,
                        tit:'古树森林',
                        des:'<p>一排排地生长的古树串联成为一片广阔的「古树森林」，高耸入云。这些古树形成一个生态系统，涵盖着森林内所有生物。</p>',
                        fulldes:'<p>一排排地生长的古树串联成为一片广阔的「古树森林」，高耸入云。</p><p>这些古树形成一个生态系统，涵盖着森林内所有生物。</p>',
                        vd:'XMzM4MDk5MTkxMg',
                        pic:''
                    },
                    {
                        group:'mp2',
                        gone:false,
                        tit:'大蚁塚荒地',
                        des:'<p>这片荒地有着广大的干旱地区，但也有着生长繁盛古树的沼泽水源。大量的大蚁冢遍布整个沙地，水域中则生长着各种颜色鲜艳的植物。</p>',
                        fulldes:'<p>这片荒地有着广大的干旱地区，但也有着生长繁盛古树的沼泽水源。</p><p>大量的大蚁冢遍布整个沙地，水域中则生长着各种颜色鲜艳的植物。</p><p>这片荒地有着截然不同的两面生态，许多生物也都适应了环境生活于此。</p>',
                        vd:'XMzM4MDk4NjM3Ng',
                        pic:''
                    },
                    {
                        group:'mp3',
                        gone:false,
                        tit:'陆珊瑚台地',
                        des:'<p>既似陆又似海、高低差巨大的高原，出产陆珊瑚之卵，卵会随着涌升流随风飘出高原、散播向新大陆的其他区域，也成了某些生物的主要食物来源。</p>',
                        fulldes:'<p>既似陆又似海、高低差巨大的高原，拥有着丰富到不可思议的生态系统。</p><p>出产陆珊瑚之卵，卵会随着涌升流随风飘出高原、散播向新大陆的其他区域，也成了某些生物的主要食物来源。</p>',
                        vd:'XMzM4MTI0Mjk1Ng',
                        pic:''
                    },
                    {
                        group:'mp4',
                        tit:'瘴气之谷',
                        gone:false,
                        des:'<p>瘴气谷位于陆珊瑚台地的下方。腐烂的怪物骨头与血肉形成了一层特殊的地表，这里四处飘散的以有机物为食的细菌群，它们就是“瘴气”的真面目。</p>',
                        fulldes:'<p>瘴气谷位于陆珊瑚台地的下方。</p><p>台地上怪物的尸体坠入这片山谷，腐烂的怪物骨头与血肉形成了一层特殊的地表，而这似乎也是瘴气谷生态的重要一环。</p><p>瘴气谷最独特的地方也就在于四处飘散的以有机物为食的细菌群，它们就是“瘴气”的真面目。</p>',
                        vd:'XMzE0Nzc1NDk5Mg',
                        pic:''
                    }
                ]
            },
            other:{
                name:'基地',
                con:[
                    {
                        tit:'星辰',
                        des:'<p>可以说是生活在新大陆所有调查员的「家」。负责调查的研究区域；支撑调查行动的物流、工房区域；猎人们匯集的集会区域等等，有许多不同的区域。在四十年前由第一期调查队建立，并经过长年修改，才成为现在这个模样。</p>',
                        pic:'http://image.gamersky.com/zqimg/mhw/pc/other-xc.jpg'
                    },
                    {
                        tit:'集会区域',
                        des:'<p>每个聚会区域最多容纳16人同时聚集。你可以和来自世界各地的玩家组成最多4人的队伍展开游戏。在这儿不但可以共同出发执行任务，甚至还能相互比拼腕力。</p>',
                        pic:'http://image.gamersky.com/zqimg/mhw/pc/other-jh.jpg'
                    },
                    {
                        tit:'加工屋',
                        des:'<p>与装备有关的机能都能一手包办的工房。对于前往进行严苛调查的猎人来说，是非常重要的设施。负责武器和防具的强化、生产，甚至把一部分武器的强化返回原来的样子。</p>',
                        pic:'http://image.gamersky.com/zqimg/mhw/pc/other-jg.jpg'
                    },
                    {
                        tit:'自己的房间',
                        des:'<p>在自己的房间中有玩家熟悉的道具箱、随行猫管理等功能。此外，玩家可以在自己的房间中饲养从新大陆捕捉的各种环境生物，随着游戏的进行，房间的类型和等级还会有所变化，房间功能将逐渐扩展开来，可以放入房间中的环境生物数量和种类也有所不同。</p>',
                        pic:'http://image.gamersky.com/zqimg/mhw/pc/other-self.jpg'
                    }
                ]
            },
            weapon:{
                name:'武器',
                con:[
                    {
                        tit:'操虫棍 ',
                        des:'<p>可从空中开始发动立体攻击，能够操纵猎虫，采取提炼物来强化自己。</p>',
                        vd:'XMzM4Nzc0OTIwNA',
                        pic:'http://image.gamersky.com/zqimg/mhw/pc/wp01.png'
                    },
                    {
                        tit:'盾斧',
                        des:'<p>拥有高机动性的利剑和威力大的斧两种武器模式，消耗累计在药瓶的能量可提高火力。</p>',
                        vd:'XMzM4Nzc0OTIwMA',
                        pic:'http://image.gamersky.com/zqimg/mhw/pc/wp02.png'
                    },
                    {
                        tit:'铳枪',
                        des:'<p>附加了炮击功能的攻击武器，其魅力是各种各样的炮击系动作。</p>',
                        vd:'XMzM4Nzc0OTE5Ng',
                        pic:'http://image.gamersky.com/zqimg/mhw/pc/wp03.png'
                    },
                    {
                        tit:'大锤',
                        des:'<p>结合破坏力和机动性的重击武器，以攻击头部让怪物昏厥为目标，蓄力的一击很强大。</p>',
                        vd:'XMzM4Nzc0OTg1Ng',
                        pic:'http://image.gamersky.com/zqimg/mhw/pc/wp04.png'
                    },
                    {
                        tit:'大剑',
                        des:'<p>挥动和移动虽然缓慢，但攻击力却很高；“蓄能斩”拥有全部武器中最高级别的威力。</p>',
                        vd:'XMzM4Nzc0OTg2MA',
                        pic:'http://image.gamersky.com/zqimg/mhw/pc/wp05.png'
                    },
                    {
                        tit:'弓',
                        des:'<p>可以蓄力，进行各种射击的中距离武器。填装各种药瓶在箭矢上，可发挥丰富的特殊效果。</p>',
                        vd:'XMzM4Nzc0OTg2NA',
                        pic:'http://image.gamersky.com/zqimg/mhw/pc/wp06.png'
                    },
                    {
                        tit:'片手剑',
                        des:'<p>特点是灵活与无间隙的攻击，拔刀时也可以使用物品，适合狩猎时使用各种各样的物品。</p>',
                        vd:'XMzM4Nzc1MDI4NA',
                        pic:'http://image.gamersky.com/zqimg/mhw/pc/wp07.png'
                    },
                    {
                        tit:'轻弩',
                        des:'<p>以快速射击和回避为特色的远距离武器，可使用特殊状态系列的子弹（如起爆龙弹），善于支援全体成员。</p>',
                        vd:'XMzM4Nzc1MDI5Ng',
                        pic:'http://image.gamersky.com/zqimg/mhw/pc/wp08.png'
                    },
                    {
                        tit:'狩猎笛',
                        des:'<p>长距离，易于操作的重击武器，演奏的话，可以给自己和队友带来各种各样的效果。</p>',
                        vd:'XMzM4Nzc1MDMwMA',
                        pic:'http://image.gamersky.com/zqimg/mhw/pc/wp09.png'
                    },
                    {
                        tit:'双剑',
                        des:'<p>擅长于怒涛般的连续攻击，“鬼人化”虽消耗体力却容许进一步发动连续攻击。</p>',
                        vd:'XMzM4Nzc1MDkxMg',
                        pic:'http://image.gamersky.com/zqimg/mhw/pc/wp10.png'
                    },
                    {
                        tit:'太刀',
                        des:'<p>轻盈的动作、连续攻击是其魅力所在，可利用“气刃斩”提高攻击力。</p>',
                        vd:'XMzM4Nzc1MDk0NA',
                        pic:'http://image.gamersky.com/zqimg/mhw/pc/wp11.png'
                    },
                    {
                        tit:'斩击斧',
                        des:'<p>以斧和剑两种模式行动的武器，剑模式的“属性解放突刺”很强大。用接触距离长的“斧模式”来牵制，用攻击速度快的“剑模式”来猛攻。</p>',
                        vd:'XMzM4Nzc1MDk0OA',
                        pic:'http://image.gamersky.com/zqimg/mhw/pc/wp12.png'
                    },
                    {
                        tit:'长枪',
                        des:'<p>无间隙突击和顶级的抵御功能，以保护系的动作来确保战斗中自身的安全。</p>',
                        vd:'XMzM4Nzc1MTQ4NA',
                        pic:'http://image.gamersky.com/zqimg/mhw/pc/wp13.png'
                    },
                    {
                        tit:'重弩',
                        des:'<p>可发射强大威力子弹的远距离武器，“机关龙弹”、“狙击龙弹”等，可填装强大的特殊子弹。</p>',
                        vd:'XMzM4Nzc1MTUwOA',
                        pic:'http://image.gamersky.com/zqimg/mhw/pc/wp14.png'
                    }
                ]
            },
            npc:{
                name:'NPC',
                con:[
                    {
                        tit:'柜台小姐',
                        des:'<p>她是整理情报的专家“编辑者”。会和猎人一起行动，并且整理内容量庞大的调查内容。因为公会推荐，以及本人强烈希望，所以才会来到新大陆。个性活泼开朗，座右铭是“犹豫的话就先吃吃看吧！”</p><p>会和玩家一起行动，有如搭档的存在。</p><p>柜台小姐会和身为猎人的玩家一起行动，在据点里或是狩猎场的营地当中负责支援猎人。想要承接任务时就要先和她交谈。</p>',
                        bigpic:'http://image.gamersky.com/zqimg/mhw/pc/npc01b.jpg',
                        smlpic:'http://image.gamersky.com/zqimg/mhw/pc/npc01s.jpg'
                    },
                    {
                        tit:'总司令',
                        des:'<p>他是负责指挥调查团的人物，也是在四十年前踏上新大陆的第一期调查团成员之一，以冷静的指挥，有时又会提出大胆计策来引导调查团。深受调查团员信任。</p>',
                        bigpic:'http://image.gamersky.com/zqimg/mhw/pc/npc02b.jpg',
                        smlpic:'http://image.gamersky.com/zqimg/mhw/pc/npc02s.jpg'
                    },
                    {
                        tit:'调查班领队',
                        des:'<p>负责领导在狩猎场进行实地调查的调查班，领袖风范十足的青年猎人。是总司令的孙子，也是调查团中唯一生在新大陆长在新大陆的成员。作为活在新大陆的前辈，会传授给玩家各种知识。</p>',
                        bigpic:'http://image.gamersky.com/zqimg/mhw/pc/npc03b.jpg',
                        smlpic:'http://image.gamersky.com/zqimg/mhw/pc/npc03s.jpg'
                    }
                ]
            }
        }
    }
};
var pageState = {
    choiceWp:false
};
//预加载图片
 var preLoadPicsLists = {
     list1: [
         pageConfig.imglist.begin.bg,
         pageConfig.imglist.comm.bg

     ],
     list2:[
         pageConfig.imglist.end.bg
     ]
 };
/*
global $,jQuery,screenfull,pageConfig,tvp,preLoadPicsLists,Swiper;
 */
(function($){
    $.fn.gsPopup = function(options){
        var defaults = {
            //弹出后回调函数
            afterOpen:'',
            afterClose:''
        };
        var optionsEd = $.extend(defaults,options);
        var btn = $(this),outTimer,inTimer;
        function addSource(sid,sty) {
            var sourceDom;
            switch (sty) {
                case 'video_tgs':
                    sourceDom = '<embed wmode="direct" flashvars="vid=' + sid + '&amp;tpid=0&amp;showend=1&amp;showcfg=1&amp;searchbar=1&amp;skin=http://imgcache.qq.com/minivideo_v1/vd/res/skins/TencentPlayerMiniSkin.swf&amp;shownext=1&amp;list=2&amp;autoplay=1" src="http://imgcache.qq.com/tencentvideo_v1/player/TPout.swf?max_age=86400&amp;v=20140714" quality="high" name="tenvideo_flash_player_1492679771297" id="tenvideo_flash_player_1492679771297" bgcolor="#000000" width="100%" height="100%" align="middle" allowscriptaccess="always" allowfullscreen="true" type="application/x-shockwave-flash" pluginspage="http://get.adobe.com/cn/flashplayer/">';
                    return sourceDom;
                    break;
                case 'video_tgs2':
                    sourceDom = '<div id="tgsVideo"></div>';
                    return sourceDom;
                    break;
                case 'video_yk':
                    sourceDom = '<embed height="100%" flashvars="isAutoPlay=true" allowscriptaccess="sameDomain" width="100%" align="middle" quality="high" invokeurls="false" src="http://player.youku.com/player.php/sid/'+sid+'/v.swf" type="application/x-shockwave-flash" wmode="transparent">';
                    return sourceDom;
                    break;
                case 'video_bl':
                    sourceDom = '<iframe height="100%" width="100%" id="vedioSrc" frameborder="0" allowfullscreen src="'+sid+'"></iframe>';
                    return sourceDom;
                    break;
                case 'video_other':
                    sourceDom = sid;
                    return sourceDom;
                    break;
                case 'pics':
                    sourceDom = '<img src="'+sid+'" alt="popimgs" width="100%" height="100%">';
                    return sourceDom;
                    break;
                case 'custom':
                    sourceDom = $(sid).html();
                    return sourceDom;
                    break;
            }
        }
        function addPopup(opts) {
            var popupDom = '';
            popupDom += '<div id="gsPopupMask" class="gsPopupMask"></div>';
            popupDom += '<div id="gsPopup" class="gsPopup" style="';
            popupDom += opts.style;
            popupDom += '"><div class="gsPopupCon">';
            popupDom += addSource(opts.sid,opts.sty);
            popupDom += '</div><a  class="gsPopupClose" id="gsPopupClose"></a></div>';
            $('body').append(popupDom);
            inTimer = setTimeout(function () {
                $('#gsPopupMask').addClass('cur');
                $('#gsPopup').addClass('cur');
            },10);
            if(opts.sty === 'video_tgs2'){
                $.getScript("http://vm.gtimg.cn/tencentvideo/txp/js/txplayer.js",function(){
                    var player = new Txplayer({
                        containerId: 'tgsVideo',
                        vid: opts.sid,
                        width: '100%',
                        height: opts.height+35,
                        autoplay:true,
                        showBullet:false,
                        showLogo: false,
                        showRecommendOnEnd:false
                    });
                    $('#tgsVideo').closest('.gsPopupCon').css('overflow','hidden');
                });
            }
        }
        function removePopup() {
            clearTimeout(inTimer);
            $('#gsPopupMask').removeClass('cur');
            $('#gsPopup').removeClass('cur');
            outTimer = setTimeout(function () {
                $('#gsPopupMask').remove();
                $('#gsPopup').hide().remove();
                if(typeof optionsEd.afterClose === 'function'){
                    optionsEd.afterClose();
                }
            },150);
        }
        function closePopup() {
            $('#gsPopupClose').on('click',removePopup);
            $('#gsPopupMask').on('click',removePopup);
        }
        btn.on('click',function () {
            clearTimeout(outTimer);
            var $this = $(this),dw = $this.data('w'),dh = $this.data('h'),
                wh = $(window).height(),gerCss,
                popupOptions = {
                    pos:'fixed',
                    width:dw,
                    height:dh,
                    sid:$this.data('sid'),
                    sty:$this.data('sty')
                };
            gerCss = 'width:'+popupOptions.width+'px;height:'+popupOptions.height+'px;';
            popupOptions.style = 'position:'+popupOptions.pos+';top:50%;left:50%;margin-left:-'+popupOptions.width/2+'px;margin-top:-'+popupOptions.height/2+'px;'+gerCss;
            if(dh>wh){
                popupOptions.pos = 'absolute';
                popupOptions.style = 'position:'+popupOptions.pos+';top:'+$this.offset().top+'px;left:50%;margin-left:-'+popupOptions.width/2+'px;'+gerCss;
            }
            addPopup(popupOptions);
            closePopup();
            if(typeof optionsEd.afterOpen === 'function'){
                optionsEd.afterOpen();
            }
        });
    }
})(jQuery);
(function($){
    $.fn.autoScale = function(options){

        var defaults = {
            baseWidth:1920,
            baseHeight:1080,
            offsetT:0,//上偏移
            offsetL:0,//左偏移
            positionMethod:''
        };

        var opts = $.extend(defaults,options);

        this.each(function(){

            var thisCon = $(this),
                winWidth = $(window).width(),
                winHeight = $(window).height(),
                scalePercentW = winWidth/opts.baseWidth - opts.offsetL,
                scalePercentH = winHeight/opts.baseHeight - opts.offsetT;

            function setPosFun(){
                var acWH=scalePercentH;
                if(winHeight>(winWidth/16*9)){
                    acWH = scalePercentW;
                    thisCon.css({
                        'top':'50%',
                        'left':'0',
                        'transform-origin':'0 0',
                        'transform':'scale(' + acWH + ') translate(0,-50%)'
                    });
                }else{
                    acWH = scalePercentH;
                    thisCon.css({
                        'top':'0',
                        'left':'50%',
                        'transform-origin':'0 0',
                        'transform':'scale(' + acWH + ') translate(-50%,0)'
                    });
                }

                $(window).resize(function(){
                    winWidth = $(window).width();scalePercentW = winWidth/opts.baseWidth - opts.offsetL;
                    winHeight = $(window).height();scalePercentH = winHeight/opts.baseHeight - opts.offsetT;
                    acWH=scalePercentH;
                    if(winHeight>(winWidth/16*9)){
                        acWH = scalePercentW;
                        thisCon.css({
                            'top':'50%',
                            'left':'0',
                            'transform-origin':'0 0',
                            'transform':'scale(' + acWH + ') translate(0,-50%)'
                        });
                    }else{
                        acWH = scalePercentH;
                        thisCon.css({
                            'top':'0',
                            'left':'50%',
                            'transform-origin':'0 0',
                            'transform':'scale(' + acWH + ') translate(-50%,0)'
                        });
                    }
                });
            }
            setPosFun();
        });
    };
})(jQuery);
var animEnd='webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend',pageTimer;
$.fn.extend({
    animateCss: function (animationName,callback) {
        var animationEnd = 'webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend';
        this.addClass('animated ' + animationName).one(animationEnd, function() {
            $(this).removeClass('animated ' + animationName);
            if(callback){
                callback();
            }
        });
    }
});
function fullScreen() {
    if (screenfull.enabled) {
        screenfull.request();
    }
}
var ymjsModel={
    pageinit:function(){
        var pageWrap = $('#pageswrap'),
            htmlW = $(window).width(),htmlH = $(window).height();
        pageWrap.css({'width':htmlW + 'px','height':htmlH + 'px'});
    },
    autoPos:function(){
        $('.autoMH').each(function(){
            $(this).autoScale();
        });
    },
    bgmSet:function(bgmsrc){
        $('#bgm').attr('src',bgmsrc);
        if(pageConfig.userMute !== true){
            ymjsModel.bgmPlay();
        }
    },
    bgmBtn:function(tar){
        var thObj = this;
        tar.on('click',function(){
            if(pageConfig.volClk){
                pageConfig.userMute = true;
                thObj.bgmPause();
            }else{
                pageConfig.userMute = false;
                thObj.bgmPlay();
            }
        });
    },
    bgmPlay:function(){
        var bgmId = document.getElementById('bgm'),$bgmVol = $('.volbtn');
        bgmId.play();
        pageConfig.volClk = true;
        $bgmVol.removeClass('pause').find('span').text(pageConfig.bgm.txt[1]);
        bgmId.volume = 1;

    },
    bgmPause:function(){
        var bgmId = document.getElementById('bgm'),$bgmVol = $('.volbtn');
        bgmId.pause();
        pageConfig.volClk = false;
        $bgmVol.addClass('pause').find('span').text(pageConfig.bgm.txt[0]);
    },
    //失去焦点
    htFun:function(){
        var thObj = this;
        $(window).on({
            'blur':function(){
                thObj.bgmPause();
            },
            'focus':function(){
                if(pageConfig.userMute !== true && pageConfig.isVideoPlaying !==true){
                    thObj.bgmPlay();
                }
            }
        });
    },
    createBaiduShare:function(addClass){
        var bdshare = '';
        bdshare += '<div class="bdsharewrap bdstyle-c '+addClass+'"><div class="bdsharebuttonbox bdshare-button-style0-16" data-tag="share_1" data-bd-bind="1446461622481"><a target="_self" class="bdicons bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a><a class="bdicons bds_weixin" data-cmd="weixin" title="分享到微信"></a><a class="bdicons bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a><a class="bdicons bds_sqq" data-cmd="sqq" title="分享到QQ"></a><a class="bdicons bds_tieba" data-cmd="tieba" title="分享到贴吧"></a><a class="bdicons bds_renren" data-cmd="renren" title="分享到人人"></a><a class="bdicons bds_douban" data-cmd="douban" title="分享到豆瓣"></a><a class="bdicons bds_more" data-cmd="more"></a><a class="bds_count" data-cmd="count" title=""></a></div></div>';
        return bdshare;
    },
    chagePage:function(callback){
        clearTimeout(pageTimer);
        //$('#fixNav').removeClass('cur');
        $('#dgyMain').removeClass('cur');
        pageTimer = setTimeout(function(){
            callback();
            if(pageConfig.isHb === true){
                $('#handBookBtn').addClass('cur');
            }
            if(pageConfig.isFixedNav === true){
                pageFunc.fixedNavFunc();
            }
        },400);
    },
    preLoadImg:function (urls) {
        for (var i = 0; i < urls.length; i++) {
            var obj = new Image();
            obj.src = urls[i];
        }
    },
    dgyRender:function(){
        var dgyObj = this;
        dgyObj.htFun();
        dgyObj.autoPos();
    }
};
ymjsModel.dgyRender();
ymjsModel.bgmBtn($('.volbtn'));

/*
global $,ymjsModel,pageConfig,preLoadPicsLists,Swiper,fullScreen,bkDatas,mapData,armsData,abilitiesData,gearData,targetData
 */
var pageFunc = {
    bindKey:function (key,callback) {
        var keyCodeNum = {
            a:65,
            b:66,
            c:67,
            d:68,
            e:69,
            f:70,
            g:71,
            h:72,
            i:73,
            j:74,
            k:75,
            l:76,
            m:77,
            n:78,
            o:79,
            p:80,
            q:81,
            r:82,
            s:83,
            t:84,
            u:85,
            v:86,
            w:87,
            x:88,
            y:89,
            z:90,
            space:32,
            tab:9,
            shift:16,
            k1:49,
            k2:50,
            k3:51,
            k4:52,
            k5:53,
            k6:54
        };
        $(document).on({
            'keydown':function (event) {
                if(pageConfig.isCommOpen === false){
                    //event.preventDefault();
                    var e = event ? event : window.event;
                    var ekc = e.keyCode;
                    if(ekc === 97){
                        ekc = 49;
                    }else if(ekc === 98){
                        ekc = 50;
                    }else if(ekc === 99){
                        ekc = 51;
                    }else if(ekc === 100){
                        ekc = 52;
                    }else if(ekc === 101){
                        ekc = 53;
                    }else if(ekc === 102){
                        ekc = 54;
                    }
                    if(ekc === keyCodeNum[key]){
                        $(document).off();
                        if(typeof callback === 'function'){
                            callback();
                        }
                    }
                }
            }
        });
    },
    getLetv:function (vu,tar,width,height) {
        var player = new CloudVodPlayer();
        player.init({
            "pu":"96f01af2a7",
            "uu":"cfd9191aeb",
            "vu":vu,
            "auto_play":0,
            "gpcflag":1,
            "width":width,
            "height":height,
            "lang":"zh_CN"
        },tar);
    },
    playLetv:function (vu,tar,width,height) {
        var player = new CloudVodPlayer();
        player.init({
            "pu":"96f01af2a7",
            "uu":"cfd9191aeb",
            "vu":vu,
            "auto_play":1,
            "gpcflag":1,
            "width":width,
            "height":height,
            "lang":"zh_CN"
        },tar);
    },
    getYKpic:function (vu,callback) {
        $.ajax({
            dataType:'json',
            url:'https://api.youku.com/videos/show.json',
            data:{client_id:'6bfe5b183f11e7d9',video_id:vu},
            success:function (data) {
                var vdImg = data.bigThumbnail;
                if(typeof callback === 'function'){
                    callback&&callback(vdImg);
                }
            }
        });
    },
    playYK:function (vu,cid) {
        var player = new YKU.Player(cid,{
            styleid: '0',
            client_id: '6bfe5b183f11e7d9',
            vid: vu,
            newPlayer: true,
            autoplay: true
        });
    },
    addIntro:function (dt) {
        var pageDom = '';
        pageDom += '<div class="pg-intro"><div class="pg-intro-t"></div><div class="pg-intro-m">';
        pageDom += '<div class="pg-intro-tit">'+dt.tit+'</div>';
        pageDom += '<div class="pg-intro-des">'+dt.des+'</div>';
        pageDom += '</div><div class="pg-intro-b"></div></div>';
        return pageDom;
    },
    addIntroVideo:function (tit,des) {
        var pageDom = '';
        pageDom += '<div class="pg-intro pg-intro-video">';
        pageDom += '<div class="pg-intro-tit">'+tit+'</div>';
        pageDom += '<div class="pg-intro-des">'+des+'</div>';
        pageDom += '</div>';
        return pageDom;
    },
	loadingFunc:function(loadState){
		var ld = '',$body = $('body'),thisPage = this,loadData = pageConfig.imglist.loading;
    	ld += '<div id="loading"></div><div id="loadingAnim"><img src="'+loadData.logo1+'" alt="" class="loadingAnim-img-g"><div class="loadingAnim-img"><img src="'+loadData.logo2+'"></div><div class="loadingtxt"></div></div>';
    	ld += '<div id="closeLoading" class="closeLoading"><div class="txt"></div><div class="clearfix btngroup"><a class="closeno">继续</a></div></div>';
    	if(loadState===true){
    		$body.append(ld);
    		$body.jpreLoader({
				splashVPos: "0",
				splashID: "#loadingAnim",
				showSplash: true,
				loaderVPos: '0%',
				autoClose: true
			}, function() {
				$('#closeLoading').show();
			});
			$('#closeLoading').find('.closeno').on('click',function(){
				fullScreen();
				$('#loading').fadeOut(300);
				$('#closeLoading').fadeOut(300);
                $('.volbtn').addClass('cur');
                pageConfig.userMute = false;
                ymjsModel.bgmSet(pageConfig.bgm.start);
                pageConfig.isFixedNav = true;
				thisPage.pgBegin();
			});
    	}else{
            $('.volbtn').addClass('cur');
    		this.pgMap();
    	}
        ymjsModel.preLoadImg(preLoadPicsLists.list1);
	},
    loadPage:function(){
        var pageDom = '',imgdata = pageConfig.imglist.ldPage;
        pageDom += '<div class="page_con page_ldp">';
        pageDom += '<video src="'+imgdata.vd+'" id="beginVideoLoad" class="page_bg" muted></video>';
        pageDom += '<a class="btn-skip btnSkip"><i></i><span>跳过</span></a>';
        pageDom += '</div>';

        var dgyMain = $('#dgyMain');
        function thisFunc(){
            var vd = dgyMain.find('#beginVideoLoad'),vdb = vd[0];
            vdb.play();
            vdb.onended =function(){
                pageConfig.isFixedNav = true;
                pageFunc.pgStarBase();
            };
            dgyMain.find('.btnSkip').on('click',function(){
                pageConfig.isFixedNav = true;
                pageFunc.pgStarBase();
            });
        }
        ymjsModel.chagePage(function(){
            pageConfig.isFixedNav = false;
            dgyMain.html(pageDom).addClass('cur');
            thisFunc();
        });
    },
    showHDbook:function (tar,def,navclk) {
        var hdDom = '',hdData = pageConfig.imglist.hd;
        hdDom += '<div class="hdb-bg hdbMain">';
        hdDom += '<div class="hdb-con"></div>';
        hdDom += '<div class="hdbNav">';
        hdDom += '<a class="hdbClose">关闭</a>';
        hdDom += '<div class="hdbNavBtns">';
        hdDom += '<a class="hdbNavBtn" data-sel="map" data-init="0">地图</a>';
        hdDom += '<a class="hdbNavBtn" data-sel="weapon" data-init="0">武器</a>';
        hdDom += '<a class="hdbNavBtn" data-sel="monster" data-init="0">魔物</a>';
        hdDom += '<a class="hdbNavBtn" data-sel="other" data-init="0">基地</a>';
        hdDom += '<a class="hdbNavBtn" data-sel="npc" data-init="0">NPC</a>';
        hdDom += '</div></div>';
        if(navclk === false){
            hdDom += '<a class="btn_sty btn_sty1 btnPick hdbClose">确认选择</a>';
        }
        hdDom += '</div>';
        tar.append(hdDom);
        pageConfig.isVideoPlaying = true;
        ymjsModel.bgmPause();
        $('#handBookBtn').removeClass('cur');
        setTimeout(function () {
            tar.find('.hdbMain').addClass('cur');
        },50);
        tar.find('.hdbClose').on('click',function () {
            $('#handBookBtn').addClass('cur');
            if($(this).hasClass('btnPick')){
                pageState.choiceWp = true;
                tar.find('.btn-pick').find('span').html('更换武器');
            }
            tar.find('.hdbMain').removeClass('cur');
            setTimeout(function () {
                tar.find('.hdbMain').remove();
                pageConfig.isVideoPlaying = false;
                if(pageConfig.userMute !== true){
                    ymjsModel.bgmPlay();
                }
            },250);
        });

        function mostInsert(dt,numl,numr) {
            var inDom = '';
            inDom += '<div class="hd-list-most hd-list-most-left"><div class="hdlm-media">';
            if(typeof dt[numl].vd !== 'undefined'){
                inDom += '<div id="letv-vd-left" class="letv-area" data-vu="';
                inDom += dt[numl].vd;
                inDom += '"></div>';
            }else{
                inDom += '<img src="';
                inDom += dt[numl].pic;
                inDom += '" alt="';
                inDom += dt[numl].tit;
                inDom += '">';
            }
            inDom += '</div><div class="hdlm-tit">';
            inDom += dt[numl].tit;
            inDom += '</div><div class="hdlm-des">';
            inDom += dt[numl].des;
            inDom += '</div></div>';

            if(numr !== false){
                inDom += '<div class="hd-list-most hd-list-most-right"><div class="hdlm-media">';
                if(typeof dt[numr].vd !== 'undefined'){
                    inDom += '<div id="letv-vd-right" class="letv-area" data-vu="';
                    inDom += dt[numr].vd;
                    inDom += '"></div>';
                }else{
                    inDom += '<img src="';
                    inDom += dt[numr].pic;
                    inDom += '" alt="';
                    inDom += dt[numr].tit;
                    inDom += '">';
                }
                inDom += '</div><div class="hdlm-tit">';
                inDom += dt[numr].tit;
                inDom += '</div><div class="hdlm-des">';
                inDom += dt[numr].des;
                inDom += '</div></div>';
            }
            return inDom;
        }
        function insterMost(con,sel,init) {
            var inDom = '';
            init = parseInt(init);
            inDom += '<div class="hd-list-most-area">';
            inDom += mostInsert(hdData[sel].con,init,init+1);
            inDom += '</div>';
            inDom += '<a class="hd-arr hd-arr-l dis">上一页</a>';
            inDom += '<a class="hd-arr hd-arr-r">下一页</a>';
            con.html(inDom).removeClass().addClass('hdb-con hdb-most hdb-monster');
            function getVdFm() {
                con.find('.letv-area').each(function () {
                    initVd($(this));
                });
            }
            function playVd(vu,vid) {
                $(vid).html('');
                pageFunc.playYK(vu,vid);
                //pageFunc.playLetv(vu,vid,618,348);
            }
            function initVd($vds) {
                var vu = $vds.data('vu'),id = $vds.attr('id');
                pageFunc.getYKpic(vu,function (imgsrc) {
                    $vds.append('<img src="'+imgsrc+'" alt=""><div class="hd-play-mask"></div><a class="hd-play hdPlay" data-vu="'+vu+'"></a>');
                });
            }
            getVdFm();
            function arrClk() {
                getVdFm();
            }
            con.find('.hd-arr-r').on('click',function () {
                if($(this).hasClass('dis') === false){
                    con.find('.hd-arr-l').removeClass('dis');
                    var nl,nr;
                    init = init+2;
                    nl = init;
                    nr = init+1;
                    if(init+1 > hdData[sel].con.length - 1){
                        nr = false;
                    }
                    inDom = mostInsert(hdData[sel].con,nl,nr);
                    con.find('.hd-list-most-area').html(inDom);
                    if(init+3>hdData[sel].con.length){
                        $(this).addClass('dis');
                    }
                    arrClk();
                }
            });
            con.find('.hd-arr-l').on('click',function () {
                if($(this).hasClass('dis') === false){
                    con.find('.hd-arr-r').removeClass('dis');
                    var nl,nr;
                    init = init-2;
                    nl = init;
                    nr = init+1;
                    inDom = mostInsert(hdData[sel].con,nl,nr);
                    con.find('.hd-list-most-area').html(inDom);
                    if(init<=0){
                        $(this).addClass('dis');
                    }
                    arrClk();
                }
            });
            con.find('.hd-list-most-area').on('click','.hdPlay',function () {
                var $this = $(this),vu = $this.data('vu');
                $('#hdPlaying').remove();
                $this.closest('.letv-area').append('<div style="z-index: 2;" class="hd-playing" id="hdPlaying"></div>');
                playVd(vu,'hdPlaying');
            })
        }
        function weaponInsert(dt,num) {
            var inDom = '';
            inDom += '<div class="hd-list-weapon-left"><div class="hdlm-media">';
            if(typeof dt[num].vd !== 'undefined'){
                inDom += '<div id="letv-vd-wp" class="letv-area" data-vu="';
                inDom += dt[num].vd;
                inDom += '"></div>';
            }else{
                inDom += '<img src="';
                inDom += dt[num].pic;
                inDom += '" alt="';
                inDom += dt[num].tit;
                inDom += '">';
            }
            inDom += '</div><div class="hdlm-tit">';
            inDom += dt[num].tit;
            inDom += '</div><div class="hdlm-des">';
            inDom += dt[num].des;
            inDom += '</div></div>';
            inDom += '<div class="hd-list-weapon-right"><div class="hdl-wp">';
            inDom += '<div class="hdl-wp-tit">武器详解</div>';
            inDom += '<div class="hdl-wp-con"><img src="'+dt[num].pic+'" alt="'+dt[num].tit+'"></div>';
            inDom += '</div></div>';

            return inDom;
        }
        function insterWeapon(con,sel,init) {
            var inDom = '';
            init = parseInt(init);
            inDom += '<div class="hd-list-weapon-area">';
            inDom += weaponInsert(hdData[sel].con,init);
            inDom += '</div>';
            inDom += '<a class="hd-arr hd-arr-l dis">上一页</a>';
            inDom += '<a class="hd-arr hd-arr-r">下一页</a>';
            con.html(inDom).removeClass().addClass('hdb-con hdb-weapon');
            function getVdFm() {
                initVd($('.letv-area'));
            }
            function playVd(vu,vid) {
                $(vid).html('');
                pageFunc.playYK(vu,vid);
            }
            function initVd($vds) {
                var vu = $vds.data('vu'),id = $vds.attr('id');
                pageFunc.getYKpic(vu,function (imgsrc) {
                    $vds.append('<img src="'+imgsrc+'" alt=""><div class="hd-play-mask"></div><a class="hd-play hdPlay" data-vu="'+vu+'"></a>');
                });
            }
            getVdFm();
            function arrClk() {
                getVdFm();
            }
            con.find('.hd-arr-r').on('click',function () {
                if($(this).hasClass('dis') === false){
                    con.find('.hd-arr-l').removeClass('dis');
                    var num;
                    init++;
                    num = init;
                    inDom = weaponInsert(hdData[sel].con,num);
                    con.find('.hd-list-weapon-area').html(inDom);
                    if(init+2>hdData[sel].con.length){
                        $(this).addClass('dis');
                    }
                    arrClk();
                }
            });
            con.find('.hd-arr-l').on('click',function () {
                if($(this).hasClass('dis') === false){
                    con.find('.hd-arr-r').removeClass('dis');
                    var num;
                    init--;
                    num = init;
                    inDom = weaponInsert(hdData[sel].con,num);
                    con.find('.hd-list-weapon-area').html(inDom);
                    if(init<=0){
                        $(this).addClass('dis');
                    }
                    arrClk();
                }
            });
            con.find('.hd-list-weapon-area').on('click','.hdPlay',function () {
                var $this = $(this),vu = $this.data('vu');
                $this.closest('.letv-area').append('<div style="z-index: 2;" class="hd-playing" id="hdPlaying"></div>');
                playVd(vu,'hdPlaying');
            })
        }
        function npcInsert(dt,num) {
            var inDom = '';
            inDom += '<div class="hdln-left"><div class="hdln-tit">';
            inDom += dt[num].tit;
            inDom += '</div><div class="hdln-bigpic"><img src="';
            inDom += dt[num].bigpic;
            inDom += '" alt="';
            inDom += dt[num].tit;
            inDom += '"></div></div>';
            inDom += '<div class="hdln-right"><div class="hdln-tit">人物介绍</div>';
            inDom += '<div class="hdln-des">';
            inDom += dt[num].des;
            inDom += '</div><div class="hdln-smlpic"><img src="';
            inDom += dt[num].smlpic;
            inDom += '" alt="';
            inDom += dt[num].tit;
            inDom += '"></div></div>';

            return inDom;
        }
        function insterNPC(con,sel,init) {
            var inDom = '';
            init = parseInt(init);
            inDom += '<div class="hd-list-npc-area">';
            inDom += npcInsert(hdData[sel].con,init);
            inDom += '</div>';
            inDom += '<a class="hd-arr hd-arr-l dis">上一页</a>';
            inDom += '<a class="hd-arr hd-arr-r">下一页</a>';
            con.html(inDom).removeClass().addClass('hdb-con hdb-npc');

            function arrClk() {}
            con.find('.hd-arr-r').on('click',function () {
                if($(this).hasClass('dis') === false){
                    con.find('.hd-arr-l').removeClass('dis');
                    var num;
                    init++;
                    num = init;
                    inDom = npcInsert(hdData[sel].con,num);
                    con.find('.hd-list-npc-area').html(inDom);
                    if(init+2>hdData[sel].con.length){
                        $(this).addClass('dis');
                    }
                    arrClk();
                }
            });
            con.find('.hd-arr-l').on('click',function () {
                if($(this).hasClass('dis') === false){
                    con.find('.hd-arr-r').removeClass('dis');
                    var num;
                    init--;
                    num = init;
                    inDom = npcInsert(hdData[sel].con,num);
                    con.find('.hd-list-npc-area').html(inDom);
                    if(init<=0){
                        $(this).addClass('dis');
                    }
                    arrClk();
                }
            });
        }

        var navBtn = tar.find('.hdbNavBtns').find('.hdbNavBtn');
        if(navclk === false){
            navBtn.addClass('dis');
        }
        function selectTar(idx) {
            var $btn = navBtn.eq(idx),
                sel = $btn.data('sel'),
                initNum = $btn.attr('data-init'),
                $insertTar = tar.find('.hdb-con');
            navBtn.removeClass('cur').eq(idx).addClass('cur');
            switch (sel){
                case 'monster':
                    insterMost($insertTar,sel,initNum);
                    break;
                case 'map':
                    insterMost($insertTar,sel,initNum);
                    break;
                case 'other':
                    insterMost($insertTar,sel,initNum);
                    break;
                case 'weapon':
                    insterWeapon($insertTar,sel,initNum);
                    break;
                case 'npc':
                    insterNPC($insertTar,sel,initNum);
                    break;
                default:
                    console.log('default');
            }
        }
        navBtn.on('click',function () {
            var idx = $(this).index();
            if($(this).hasClass('dis') === false){
                selectTar(idx);
            }
        });
        if(typeof def !== 'undefined'){
            selectTar(def);
        }else{
            selectTar(0);
        }
    },
    pgBegin:function(){
		var pageDom = '',imgdata = pageConfig.imglist.begin;
		pageDom += '<div class="page_con page_begin pgBegin">';
        pageDom += '<img src="'+imgdata.bg+'" alt="pics" class="page_bg">';
        pageDom += '<a target="_blank" href="'+imgdata.gs+'" class="logo-gs"></a>';
        pageDom += '<a class="zanbtn supportMe" data-itemid="'+pageConfig.countid+'" data-field="digg" data-table="PE_U_Article"><i class="zan-icon"></i><i class="zanNum">0</i>人赞过</a>';
		pageDom += '<a class="btn1"></a>';
		pageDom += '<div class="txt"><i></i>'+imgdata.txt+'</div>';
		pageDom += '<div class="ots-btn-group">';
		pageDom += '<a class="btn_buy">购买游戏</a>';
		pageDom += '<a class="btn_comm">玩家评论</a>';
		pageDom += '</div>';
        pageDom += '<a class="openHdBook btn-hdb"></a>';
		pageDom += '</div>';

        var dgyMain = $('#dgyMain');
        function thisFunc(){
            dgyMain.find('.btn1').on('click',function(){
                pageFunc.loadPage();
            });
            dgyMain.find('.btn_comm').on('click',function () {
                pageFunc.commPage();
            });
            dgyMain.find('.btn_buy').on('click',function () {
                pageFunc.pgGamerVer('back');
            });
            dgyMain.find('.openHdBook').on('click',function () {
                pageFunc.showHDbook(dgyMain);
            });
            $(".supportMe").supportMe();
            //ymjsModel.preLoadImg(preLoadPicsLists.list2);
        }
        ymjsModel.chagePage(function(){
            dgyMain.html(pageDom).addClass('cur');
            thisFunc();
        });
	},
    pgEnd:function(){
        var pageDom = '',imgdata = pageConfig.imglist.end,begindata = pageConfig.imglist.begin;

        pageDom += '<div class="page_con page_end pgEnd">';
        pageDom += '<img src="'+imgdata.bg+'" alt="pics" class="page_bg">';
        pageDom += '<a target="_blank" href="'+begindata.gs+'" class="logo-gs"></a>';
        pageDom += '<a target="_blank" href="'+begindata.gf+'" class="logo-gf"></a>';
        pageDom += '<div class="infos">';
        pageDom += imgdata.para;
        pageDom += '</div>';
        pageDom += '<div class="clearfix btngroup"><a class="btn_sty btn_sty1 btn_comm">评论</a><a target="_blank" href="'+begindata.gs+'" class="btn_sty btn_sty2">往期回顾</a></div>';
        pageDom += ymjsModel.createBaiduShare('');
        pageDom += '</div>';

        var dgyMain = $('#dgyMain');
        function thisFunc(){
            dgyMain.find('.btn_comm').on('click',function () {
                pageFunc.commPage();
            });
            window._bd_share_main.init();
        }
        ymjsModel.chagePage(function(){
            dgyMain.html(pageDom).addClass('cur');
            thisFunc();
        });
    },
    pgGamerVer:function(isback){
        var pageDom = '',imgdata = pageConfig.imglist.pgGamerVer;
        pageDom += '<div class="page_con page_gmvr pgGamerVer">';
        pageDom += '<img src="'+imgdata.bg+'" alt="pics" class="page_bg">';
        pageDom += '<div class="des">'+imgdata.des+'</div>';
        pageDom += '<div class="list"><ul class="clearfix">';
        $.each(imgdata.list,function (i,item) {
            pageDom += '<li>';
            pageDom += '<div class="tit">'+item.tit+'</div>';
            pageDom += '<a class="buy" target="_blank" href="'+item.buy+'">立即购买</a>';
            pageDom += '<img src="'+item.pic+'" alt="'+item.tit+'">';
            pageDom += '<div class="para">';
            $.each(item.lis,function (j,pars) {
                pageDom += '<div class="para-eh"><i>0'+(j+1)+'</i>'+pars+'</div>';
            });
            pageDom += '</div>';
            pageDom += '</li>';
        });
        pageDom += '</ul></div>';
        if(isback === 'back'){
            pageDom += '<a class="btn_sty btn_sty1 btn btnBack">返回首页</a>';
        }else{
            pageDom += '<a class="btn_sty btn_sty1 btn btnNext">结束狩猎</a>';
        }
        pageDom += '</div>';

        var dgyMain = $('#dgyMain');
        function thisFunc(){
            dgyMain.find('.btnBack').on('click',function(){
                pageFunc.pgBegin();
            });
            dgyMain.find('.btnNext').on('click',function(){
                pageFunc.pgEnd();
            });
        }
        ymjsModel.chagePage(function(){
            dgyMain.html(pageDom).addClass('cur');
            thisFunc();
        });
    },
    pgStarBase:function(){
        var pageDom = '',imgdata = pageConfig.imglist.pgStarBase,tipsTxt= '狩猎前，请前往【加工屋】选择武器';
        if(pageState.choiceWp !== false){
            tipsTxt = '战斗准备已完成，点击按钮开始狩猎';
        }
        pageDom += '<div class="page_con page_starbase pgStarBase">';
        pageDom += '<img src="'+imgdata.bg+'" alt="pics" class="page_bg">';
        pageDom += this.addIntro(imgdata.intro);
        pageDom += '<a class="btn-pic btn-pic1"><span>集会区域</span><i class="icons"></i><i class="bd"></i></a>';
        pageDom += '<a class="btn-pic btn-pic2"><span>加工屋</span><i class="icons"></i><i class="bd"></i></a>';
        pageDom += '<a class="btn-pic btn-pic3"><span>自己的房间</span><i class="icons"></i><i class="bd"></i></a>';
        pageDom += '<a class="btn_sty btn_sty1 btn btnNext">开始狩猎</a>';
        pageDom += '<div class="notice">'+tipsTxt+'</div>';
        pageDom += '</div>';

        var dgyMain = $('#dgyMain');
        function thisFunc(){
            dgyMain.find('.btnNext').on('click',function(){
                if(pageState.choiceWp === false){
                    dgyMain.find('.notice').addClass('cur');
                    setTimeout(function () {
                        dgyMain.find('.notice').removeClass('cur');
                    },200)
                }else{
                    pageFunc.pgMap();
                }
            });
            dgyMain.find('.btn-pic1').on('click',function(){
                pageFunc.pgMeeting();
            });
            dgyMain.find('.btn-pic2').on('click',function(){
                pageFunc.pgWorking();
            });
            dgyMain.find('.btn-pic3').on('click',function(){
                pageFunc.pgMyself();
            });
        }
        ymjsModel.chagePage(function(){
            dgyMain.html(pageDom).addClass('cur');
            thisFunc();
        });
    },
    pgMeeting:function(){
        var pageDom = '',imgdata = pageConfig.imglist.pgMeeting;
        pageDom += '<div class="page_con page_meeting pgMeeting">';
        pageDom += '<img src="'+imgdata.bg+'" alt="pics" class="page_bg">';
        pageDom += this.addIntro(imgdata.intro);
        pageDom += '<a class="btn-pic btn-pic4"><span>柜台</span><i class="icons"></i><i class="bd"></i></a>';
        pageDom += '<a class="btn_sty btn_sty2 btn btnBack">返回基地</a>';
        pageDom += '</div>';

        var dgyMain = $('#dgyMain');
        function showPop(doms,callback) {
            var popDom = '';
            popDom += '<div class="pgInnerPop pgInnerPopMask pgInnerPopClose"></div>';
            popDom += '<div class="pgInnerPop pgInnerPopMain">';
            popDom += doms;
            popDom += '<a class="pgInnerPopCloseBtn pgInnerPopClose"></a>';
            popDom += '</div>';
            dgyMain.append(popDom);
            setTimeout(function () {
                dgyMain.find('.pgInnerPop').addClass('cur');
            },50);
            closePop();
            if(typeof callback === 'function'){
                callback&&callback();
            }
        }
        function closePop() {
            dgyMain.find('.pgInnerPopClose').on('click',function () {
                dgyMain.find('.pgInnerPop').removeClass('cur');
                setTimeout(function () {
                    dgyMain.find('.pgInnerPop').remove();
                    pageConfig.isVideoPlaying = false;
                    if(pageConfig.userMute !== true){
                        ymjsModel.bgmPlay();
                    }
                },250);
            })

        }
        function thisFunc(){
            dgyMain.find('.btnBack').on('click',function(){
                pageFunc.pgStarBase();
            });
            dgyMain.find('.btn-pic4').on('click',function(){
                var thisDoms = '';
                thisDoms += '<img class="box-meeting" src="'+imgdata.box+'" alt="box">';
                showPop(thisDoms);
            });
        }
        ymjsModel.chagePage(function(){
            dgyMain.html(pageDom).addClass('cur');
            thisFunc();
        });
    },
    pgMyself:function(){
        var pageDom = '',imgdata = pageConfig.imglist.pgMyself;
        pageDom += '<div class="page_con page_myself pgMyself">';
        pageDom += '<img src="'+imgdata.bg+'" alt="pics" class="page_bg">';
        pageDom += this.addIntro(imgdata.intro);
        pageDom += '<a class="btn-light btn-cat"></a>';
        pageDom += '<a class="btn-light btn-rabbit"><img src="'+imgdata.rabbit+'" alt="在游戏设定的新世界中，存在着各种生物，而你捕捉到的生 物可以放在你的家里。根据你房子类型以及等级的不同，你 能“饲养”的生物数"></a>';
        pageDom += '<a class="btn-light btn-box"></a>';
        pageDom += '<a class="btn_sty btn_sty2 btn btnNext">返回基地</a>';
        pageDom += '</div>';

        var dgyMain = $('#dgyMain');

        function showPop(doms,callback) {
            var popDom = '';
            popDom += '<div class="pgInnerPop pgInnerPopMask pgInnerPopClose"></div>';
            popDom += '<div class="pgInnerPop pgInnerPopMain">';
            popDom += doms;
            popDom += '<a class="pgInnerPopCloseBtn pgInnerPopClose"></a>';
            popDom += '</div>';
            dgyMain.append(popDom);
            setTimeout(function () {
                dgyMain.find('.pgInnerPop').addClass('cur');
            },50);
            closePop();
            if(typeof callback === 'function'){
                callback&&callback();
            }
        }
        function closePop() {
            dgyMain.find('.pgInnerPopClose').on('click',function () {
                dgyMain.find('.pgInnerPop').removeClass('cur');
                setTimeout(function () {
                    dgyMain.find('.pgInnerPop').remove();
                    pageConfig.isVideoPlaying = false;
                    if(pageConfig.userMute !== true){
                        ymjsModel.bgmPlay();
                    }
                },250);
            })

        }
        function thisFunc(){
            dgyMain.find('.btnNext').on('click',function(){
                pageFunc.pgStarBase();
            });
            dgyMain.find('.btn-box').on('click',function(){
                var thisDoms = '';
                thisDoms += '<img class="box-img" src="'+imgdata.box+'" alt="box">';
                showPop(thisDoms);
            });
            dgyMain.find('.btn-cat').on('click',function(){
                var thisDoms = '';
                thisDoms += '<img class="cat-img-txt" src="'+imgdata.cat.txt+'" alt="cat">';
                thisDoms += '<div class="cat-video" id="catVideo"></div>';
                thisDoms += '<img class="cat-img-role" src="'+imgdata.cat.role+'" alt="cat">';
                showPop(thisDoms,function () {
                    pageFunc.getYKpic(imgdata.cat.video,function (imgsrc) {
                        $('#catVideo').append('<img width="100%" height="100%" src="'+imgsrc+'" alt="bg"><div class="cat-play-mask"></div><a class="cat-play"></a>');
                        dgyMain.find('.cat-play').on('click',function () {
                            var $this = $(this),vid = imgdata.cat.video,vdDom = '';

                            pageConfig.isVideoPlaying = true;
                            ymjsModel.bgmPause();
                            $('#catVideo').html('');
                            pageFunc.playYK(imgdata.cat.video,'catVideo');
                        });
                    });
                });
            });
        }
        ymjsModel.chagePage(function(){
            dgyMain.html(pageDom).addClass('cur');
            thisFunc();
        });
    },
    pgWorking:function(){
        var pageDom = '',imgdata = pageConfig.imglist.pgWorking,btnTxt = '';
        if(pageState.choiceWp === false){
            btnTxt = '挑选武器';
        }else{
            btnTxt = '更换武器';
        }
        pageDom += '<div class="page_con page_working pgWorking">';
        pageDom += '<img src="'+imgdata.bg+'" alt="pics" class="page_bg">';
        pageDom += this.addIntro(imgdata.intro);
        pageDom += '<img class="dialog" src="'+imgdata.dia+'" alt="对话">';
        pageDom += '<a class="btn-txt btn-pick"><span>'+btnTxt+'</span></a>';
        pageDom += '<a class="btn_sty btn_sty2 btn btnBack">返回基地</a>';
        pageDom += '</div>';

        var dgyMain = $('#dgyMain');
        function thisFunc(){
            dgyMain.find('.btnBack').on('click',function(){
                pageFunc.pgStarBase();
            });
            dgyMain.find('.btn-pick').on('click',function(){
                pageFunc.showHDbook(dgyMain,1,false);
            });
        }
        ymjsModel.chagePage(function(){
            dgyMain.html(pageDom).addClass('cur');
            thisFunc();
        });
    },
    pgMap:function(){
        var pageDom = '',
            imgdata = pageConfig.imglist.pgMap,
            mapData = pageConfig.imglist.hd.map.con,
            btnDom = '',
            lineDom = '';
        $.each(mapData,function (i,item) {
            var btnsty = '';
            if(item.gone === true){
                btnsty = ' cur'
            }
            lineDom += '<div class="btn-line btn-line-'+item.group+btnsty+'"></div>';
            btnDom += '<a class="btn-mp btn-'+item.group+' btnMp" data-btnkey="'+i+'" data-gp="'+item.group+'" data-vu="'+item.vd+'"><span>'+item.tit+'<i class="arr"></i></span></a>';
        });
        pageDom += '<div class="page_con page_map pgMap">';
        pageDom += '<img src="'+imgdata.bg+'" alt="pics" class="page_bg">';
        pageDom += '<div class="infos"><div class="infos-tit">'+imgdata.intro.tit+'</div><div class="infos-des">'+imgdata.intro.des+'</div></div><div class="attention"><i class="bder"></i><i class="icon"></i></div>';
        pageDom += lineDom;
        pageDom += btnDom;
        pageDom += '<a class="btn-mp btn-mp5 btn-disalbe"><span>研究所</span></a>';
        pageDom += '<a class="btn-mp btn-mp0"><span>星辰<i class="arr"></i></span><i class="tips"></i></a>';
        pageDom += '</div>';

        var dgyMain = $('#dgyMain');
        function thisFunc(){
            var clkEnable = true;
            dgyMain.find('.btnNext').on('click',function(){
                pageFunc.btnNext();
            });
            dgyMain.find('.btn-mp0').on('click',function(){
                pageFunc.pgStarBase();
            });
            dgyMain.find('.btnMp').on('click',function(){
                var $this = $(this),
                    gp = $this.data('gp'),
                    key = $this.data('btnkey'),
                    vu = $this.data('vu');
                if(clkEnable === true){
                    clkEnable = false;
                    dgyMain.find('.btn-line-'+gp).addClass('cur');
                    mapData[key].gone = true;
                    setTimeout(function () {
                        pageFunc.midPage(vu,function () {
                            pageFunc.pgMonster(gp);
                        },mapData[key].tit,mapData[key].fulldes,'pg'+gp);
                    },1000);
                }
            });
        }
        ymjsModel.chagePage(function(){
            dgyMain.html(pageDom).addClass('cur');
            thisFunc();
        });
    },
    pgMonster:function(mgroup){
        var pageDom = '',
            imgdata = pageConfig.imglist.pgMonster,
            monsterData = pageConfig.imglist.hd.monster,
            mgp = 'mp1',tiDom ='',tnDom = '';
        if(mgroup){
            mgp = mgroup;
        }
        $.each(monsterData.con,function (i,item) {
            function createCon() {
                tiDom += '<div class="mtabItem tabitem">';
                tiDom += '<img src="http://image.gamersky.com/webimg13/zhuanti/common/blank.png" data-lzy="'+item.bigpic+'" alt="'+item.tit+'" class="mtab-bigpic ztTabLazyLoad">';
                tiDom += '<div class="mtab-tit"><h5>'+item.tit+'</h5></div>';
                tiDom += '<div class="mtab-des">'+item.des+'</div>';
                if(item.hunted === true){
                    if(item.role === 'enter'){
                        tiDom += '<a class="btn_sty btn_sty1 btn btnHuntTar btnHuntTared btn_hunt" data-mpnum="'+i+'">终极一战</a>';
                    }else{
                        tiDom += '<a class="btn_sty btn_sty1 btn btnHunt btnHunted btn_hunt">已狩猎</a>';
                    }
                }else if(item.role === 'enter'){
                    tiDom += '<a class="btn_sty btn_sty1 btn btnHuntTar btn_hunt" data-mpnum="'+i+'">终极一战</a>';
                }else{
                    tiDom += '<a class="btn_sty btn_sty1 btn btnHunt btn_hunt" data-mpnum="'+i+'">狩猎</a>';
                }
                tiDom += '</div>';
                if(item.role === 'enter'){
                    tnDom += '<a class="navTar">'+item.tit+'</a>';
                }else{
                    tnDom += '<a>'+item.tit+'</a>';
                }
                if(item.role === 'enter'){
                    tnDom += '<div class="attention"><i class="bder"></i><i class="icon"></i></div>';
                }
            }
            if(item.group === mgp){
                createCon();
            }
        });
        pageDom += '<div class="page_con page_monster pgMonster">';
        pageDom += '<img src="'+imgdata.bg+'" alt="pics" class="page_bg">';
        pageDom += '<div class="mtab tabs">';
        pageDom += '<div class="mtabBox tabbox">';
        pageDom += tiDom;
        pageDom += '</div>';
        pageDom += '<div class="mtabNavs">';
        pageDom += tnDom;
        pageDom += '</div>';
        pageDom += '</div>';
        pageDom += '<a class="btn_sty btn_sty2 btn btnBack btn_back">返回地图</a>';
        pageDom += '<div class="mpop" id="ykMidVideo"></div>';
        pageDom += '</div>';

        function showVd(vu) {
            var vdDom = '';
            vdDom += '<a class="btn-skip btn-skip4 btnSkip"><i></i><span>完成狩猎</span></a>';
            var $pop = dgyMain.find('.mpop');
            $pop.html(vdDom);
            var player = new YKU.Player('ykMidVideo',{
                styleid: '0',
                client_id: '6bfe5b183f11e7d9',
                vid: vu,
                newPlayer: true,
                autoplay: true
            });
            setTimeout(function () {
                $pop.addClass('cur');
            },50);
            $pop.find('.btnSkip').on('click',function () {
                $pop.removeClass('cur');
                setTimeout(function () {
                    $pop.html('');
                },250);
            });
        }

        var dgyMain = $('#dgyMain');
        function thisFunc(){
            dgyMain.find('.btnBack').on('click',function(){
                pageFunc.pgMap();
            });
            dgyMain.find('.btnHunt').on('click',function(){
                var $this = $(this),dtKey = $this.data('mpnum'),vu;
                if($this.hasClass('btnHunted') === false){
                    vu = monsterData.con[dtKey].vd;
                    monsterData.con[dtKey].hunted = true;
                    showVd(vu);
                    setTimeout(function () {
                        $this.addClass('btnHunted').html('已狩猎');
                    },250);
                }
            });
            dgyMain.find('.btnHuntTar').on('click',function(){
                var $this = $(this),dtKey = $this.data('mpnum');
                monsterData.con[dtKey].hunted = true;
                pageConfig.isFixedNav = false;
                pageConfig.isHb = false;
                $('.volbtn,#fixNav,#handBookBtn').removeClass('cur');
                pageFunc.pgHunt();
                setTimeout(function () {
                    $this.addClass('btnHunted').html('已狩猎');
                },300);
            });
            pageFunc.tab(dgyMain.find('.mtab'),'.mtabNavs','.mtabBox','.mtabItem',true);
        }
        ymjsModel.chagePage(function(){
            dgyMain.html(pageDom).addClass('cur');
            thisFunc();
        });
    },
    pgHunt:function(){
        var pageDom = '',imgdata = pageConfig.imglist.pgHunt;
        pageDom += '<div class="page_con page_hunt pgHunt">';
        pageDom += '<video src="'+imgdata.video.vd1+'" id="vdShow" class="page_bg"></video>';
        pageDom += '<img src="'+imgdata.bg+'" alt="pics" class="page_bg maskImg">';
        pageDom += '<ul class="btngroup">';
        pageDom += '<li class="btn1"><div class="btn-pic"><img src="'+imgdata.btns.btn1+'" alt="灭尽龙特点"></div></li>';
        pageDom += '<li class="btn2"><div class="btn-nav">';
        $.each(imgdata.btns.btn2,function (i,item) {
            pageDom += '<a>'+item.tit+'<span>'+item.des+'</span></a>';
        });
        pageDom += '</div></li>';
        pageDom += '</ul>';
        pageDom += '<a class="btn_sty btn_sty1 btn btnNext btn_next">继续</a>';
        pageDom += '<div class="vdTips"></div>';
        pageDom += '</div>';
        var dgyMain = $('#dgyMain');
        function thisFunc(){
            ymjsModel.bgmSet(pageConfig.bgm.hunt);
            var tipsBox = dgyMain.find('.vdTips');
            function insertTips(dt) {
                var tipsDom = '';
                if(typeof dt.pop !== 'undefined'){
                    tipsDom += pageFunc.addIntroVideo(dt.pop.tit,dt.pop.des);
                }
                tipsDom += '<div class="key-tips">'+dt.keyshow+'</div>';
                tipsBox.html(tipsDom).addClass('cur');
            }
            var $theVd = $('#vdShow'),theVd = $theVd[0];
            var vdControl = {
                vdPart1:function () {
                    var thisVideo = document.getElementById('vdShow'),
                        vdLook;
                    function updateTimeFunc(endtime,callback){
                        thisVideo.play();
                        vdLook = setInterval(function(){
                            var vct = thisVideo.currentTime;
                            if(vct>=endtime){
                                if(typeof callback === 'function'){
                                    callback();
                                }
                                clearInterval(vdLook);
                            }
                        },16.7);
                    }
                    var keyFramesArr = imgdata.video.vd1Keys,initKey = 0;
                    function keyEventBind(thkey,callback) {
                        function triEvent() {
                            tipsBox.removeClass('cur');
                            if(typeof callback === 'function'){
                                callback();
                                if(initKey < keyFramesArr.length){
                                    keyEventBind(initKey,function () {
                                        initKey++;
                                    });
                                }else{
                                    thisVideo.play();
                                }
                            }
                        }
                        updateTimeFunc(keyFramesArr[thkey].time,function () {
                            thisVideo.pause();
                            insertTips(keyFramesArr[thkey].tips);
                            pageFunc.bindKey(keyFramesArr[thkey].key,function () {
                                triEvent();
                            });
                        });
                    }
                    keyEventBind(initKey,function () {
                        initKey++;
                    });

                    thisVideo.onended = function () {
                        clearInterval(vdLook);
                        pageFunc.midPageBgm(imgdata.video.vd2,function () {
                            pageFunc.pgHunt3();
                        });
                    };
                },
                init:function () {
                    this.vdPart1();
                }
            };
            dgyMain.find('.btnNext').on('click',function(){
                $(this).remove();
                dgyMain.find('.maskImg,.btngroup').remove();
                vdControl.init();
            });
        }
        ymjsModel.chagePage(function(){
            dgyMain.html(pageDom).addClass('cur');
            thisFunc();
        });
    },
    pgHunt3:function(){
        var pageDom = '',imgdata = pageConfig.imglist.pgHunt;
        pageDom += '<div class="page_con page_hunt pgHunt">';
        pageDom += '<video src="'+imgdata.video.vd3+'" id="vdShow" class="page_bg"></video>';
        pageDom += '<video src="'+imgdata.video.vd3loop+'" id="vdLoop" class="wormbg" autoplay loop></video>';
        pageDom += '<div class="vdTips"></div>';
        pageDom += '</div>';
        var dgyMain = $('#dgyMain');
        function thisFunc(){
            var $vdLoop = $('#vdLoop'),closeLoop = false;
            var tipsBox = dgyMain.find('.vdTips');
            function insertTips(dt) {
                var tipsDom = '';
                if(typeof dt.pop !== 'undefined'){
                    tipsDom += pageFunc.addIntroVideo(dt.pop.tit,dt.pop.des);
                }
                tipsDom += '<div class="key-tips">'+dt.keyshow+'</div>';
                tipsBox.html(tipsDom).addClass('cur');
            }
            var $theVd = $('#vdShow'),theVd = $theVd[0];
            var vdControl = {
                vdPart1:function () {
                    var thisVideo = document.getElementById('vdShow'),
                        vdLook;
                    function updateTimeFunc(endtime,callback){
                        thisVideo.play();
                        vdLook = setInterval(function(){
                            var vct = thisVideo.currentTime;
                            if(vct>=endtime){
                                if(typeof callback === 'function'){
                                    callback();
                                }
                                clearInterval(vdLook);
                            }
                        },16.7);
                    }
                    var keyFramesArr = imgdata.video.vd3Keys,initKey = 0;
                    function keyEventBind(thkey,callback) {
                        function triEvent() {
                            if(closeLoop === false){
                                closeLoop = true;
                                $vdLoop.remove();
                            }
                            tipsBox.removeClass('cur');
                            if(typeof callback === 'function'){
                                callback();
                                if(initKey < keyFramesArr.length){
                                    keyEventBind(initKey,function () {
                                        initKey++;
                                    });
                                }else{
                                    thisVideo.play();
                                }
                            }
                        }
                        updateTimeFunc(keyFramesArr[thkey].time,function () {
                            thisVideo.pause();
                            insertTips(keyFramesArr[thkey].tips);
                            pageFunc.bindKey(keyFramesArr[thkey].key,function () {
                                triEvent();
                            });
                        });
                    }
                    keyEventBind(initKey,function () {
                        initKey++;
                    });

                    thisVideo.onended = function () {
                        clearInterval(vdLook);
                        pageFunc.midPage4(imgdata.video.vd4,function () {
                            pageFunc.pgHunt5();
                        });
                    };
                },
                init:function () {
                    this.vdPart1();
                }
            };
            vdControl.init();
        }
        ymjsModel.chagePage(function(){
            dgyMain.html(pageDom).addClass('cur');
            thisFunc();
        });
    },
    pgHunt5:function(){
        var pageDom = '',imgdata = pageConfig.imglist.pgHunt;
        pageDom += '<div class="page_con page_hunt pgHunt">';
        pageDom += '<video src="'+imgdata.video.vd5+'" id="vdShow" class="page_bg"></video>';
        pageDom += '</div>';
        var dgyMain = $('#dgyMain');
        function thisFunc(){
            var $theVd = $('#vdShow'),theVd = $theVd[0];
            theVd.play();
            theVd.onended = function () {
                function showRi() {
                    pageConfig.isHb = true;
                    pageConfig.isFixedNav = true;
                    $('.volbtn').addClass('cur');
                }
                showRi();
                ymjsModel.bgmSet(pageConfig.bgm.start);
                pageFunc.pgGamerVer();
            };
        }
        ymjsModel.chagePage(function(){
            dgyMain.html(pageDom).addClass('cur');
            thisFunc();
        });
    },
    demo:function(){
        var pageDom = '',imgdata = pageConfig.imglist.demo;
        pageDom += '<div class="page_con page07">';
        pageDom += '<img src="'+imgdata.bg+'" alt="pics" class="page_bg">';
        pageDom += '<a class="btn_sty btn_sty1 btn btnNext">经典地图</a>';
        pageDom += '</div>';

        var dgyMain = $('#dgyMain');
        function thisFunc(){
            dgyMain.find('.btnNext').on('click',function(){
                pageFunc.btnNext();
            });
        }
        ymjsModel.chagePage(function(){
            dgyMain.html(pageDom).addClass('cur');
            thisFunc();
        });
    },
    vdEndPage:function(){
        var pageDom = '',imgdata = pageConfig.imglist.vdend;
        pageDom += '<div class="page_con page_vdend">';
        pageDom += '<video src="'+imgdata.vd2+'" id="vd2" class="bg-vd" preload="auto"></video>';
        pageDom += '<div class="vd-notice vd-notice-w cur"><div class="txt">按 <b>W</b> 键前进</div></div>';
        pageDom += '<div class="vd-notice vd-notice-shift"><div class="txt">按 <b>Shift</b> 键冲刺</div></div>';
        pageDom += '<div class="vd-notice vd-notice-ml"><div class="txt">按 <b>左键</b> 射击敌人</div><i class="ml-icon"></i></div>';
        pageDom += '<div class="vd-notice vd-notice-mr"><div class="txt">按 <b>右键</b> 打开机瞄，可精准射杀敌人</div><a class="btn_sty btn_sty2 btns goonBtn">继续</a></div>';
        pageDom += '<div class="vd-notice vd-notice-r"><div class="txt"><b>糟糕，没子弹了！</b>按 <b>R</b> 键更换弹夹</div></div>';
        pageDom += '<div class="vd-notice vd-notice-space"><div class="txt">按 <b>空格</b> 键跳过障碍物</div></div>';
        pageDom += '<div class="vd-notice vd-notice-k5"><div class="txt">按 <b>5键</b> 使用连杀技能 <b>空对地导弹</b></div></div>';
        pageDom += '<div class="vd-notice vd-notice-end"><a class="btns btn_sty btn_sty2 btn-again">在玩一次</a><a class="btns btn_sty btn_sty2 btn-go">体验更多</a></div>';
        pageDom += '</div>';

        var dgyMain = $('#dgyMain');
        function thisFunc(){
            $('.volbtn').removeClass('cur');
            pageConfig.isVideoPlaying = true;
            ymjsModel.bgmPause();
            var vdControl = {
                vdPart1:function () {
                    var thisVideo = document.getElementById('vd2'),
                        vdLook;

                    function updateTimeFunc(endtime,callback){
                        thisVideo.play();
                        vdLook = setInterval(function(){
                            var vct = thisVideo.currentTime;
                            if(vct>=endtime){
                                if(typeof callback === 'function'){
                                    callback();
                                }
                                clearInterval(vdLook);
                            }
                        },1);
                    }
                    var keyFramesArr = [
                        [1.5,'shift'],
                        [5.7,'ml'],
                        [15,'ml'],
                        [16.2,'mr'],
                        [18.3,'r'],
                        [22.4,'space'],
                        [24.1,'ml'],
                        [29.7,'ml'],
                        [36.1,'mr'],
                        [39,'ml'],
                        [41,'k5']
                    ],initKey = 0;
                    function keyEventBind(thkey,callback) {
                        function triEvent() {
                            dgyMain.find('.vd-notice').removeClass('cur');
                            if(typeof callback === 'function'){
                                callback();
                                if(initKey < keyFramesArr.length){
                                    keyEventBind(initKey,function () {
                                        initKey++;
                                    });
                                }else{
                                    thisVideo.play();
                                }
                            }
                        }
                        updateTimeFunc(keyFramesArr[thkey][0],function () {
                            thisVideo.pause();
                            dgyMain.find('.vd-notice-'+keyFramesArr[thkey][1]).addClass('cur');
                            pageFunc.bindKey(keyFramesArr[thkey][1],function () {
                                triEvent();
                            });
                        });
                    }
                    keyEventBind(initKey,function () {
                        initKey++;
                    });

                    thisVideo.onended = function () {
                        dgyMain.find('.vd-notice-end').addClass('cur');
                    };
                },
                init:function () {
                    pageConfig.isVideoPlaying = true;
                    ymjsModel.bgmPause();
                    var vcl = this;
                    pageFunc.bindKey('w',function () {
                        dgyMain.find('.vd-notice-w').removeClass('cur');
                        vcl.vdPart1();
                    });
                }
            };
            vdControl.init();
            dgyMain.find('.btn-again').on('click',function(){
                pageFunc.vdEndPage();
            });
            dgyMain.find('.btn-go').on('click',function(){
                pageConfig.isVideoPlaying = false;
                if(pageConfig.userMute !== true){
                    ymjsModel.bgmPlay();
                }
                pageFunc.pgEnd();
                $('.volbtn').addClass('cur');
            });
        }
        ymjsModel.chagePage(function(){
            dgyMain.html(pageDom).addClass('cur');
            thisFunc();
        });
    },
	commPage:function(){
		var pageDom = '',imgdata = pageConfig.imglist.comm;

		function commentAdd(){
			var doc = document,
				s = doc.createElement('script'),
				h = doc.getElementsByTagName('head')[0] || doc.head || doc.documentElement;
			s.type = 'text/javascript';
			s.charset = 'utf-8';
			s.src = 'http://j.gamersky.com/web2015/comment/js/commentconfig.js';
			h.insertBefore(s, h.firstChild);
			window.SCS_NO_IFRAME = true;
		}

		pageDom += '<div class="page_con page_comm">';
		pageDom += '<img src="'+imgdata.bg+'" alt="replace" class="comm_bg">';
		pageDom += '<div class="comm hei"><div class="cont">';
		pageDom += '<div id="SOHUCS" sid="'+pageConfig.countid+'"></div>';
		pageDom += '</div></div>';
		pageDom += '<a class="btn_close"></a>';
		pageDom += '</div>';

		var dgyMain = $('#dgyComm');
        pageConfig.isCommOpen = true;
		if(pageConfig.addedComment === false){
			dgyMain.addClass('cur').html(pageDom);
			commentAdd();
			pageConfig.addedComment = true;
		}else{
			dgyMain.addClass('cur');
            $("#SOHUCS").GetComment();
		}
		$('.page_comm').on('click','.cmt-commentbtn',function () {
            dgyMain.find('.comm').animate({scrollTop:0},200);
        });
        dgyMain.find('.btn_close').on('click',function(){
            dgyMain.removeClass('cur');
            pageConfig.isCommOpen = false;
            $('.page_comm').off();
        });
	},
    transReGoPage:function(transVu,callback1){
        var pageDom = '';

        pageDom += '<div class="page_con page_trans">';
        pageDom += '<div class="letvwrap"><embed src="http://yuntv.letv.com/bcloud.swf" allowFullScreen="true" quality="high" align="middle" allowScriptAccess="always" width="100%" height="100%" flashvars="uu=cfd9191aeb&vu='+transVu+'&pu=96f01af2a7&auto_play=1&gpcflag=1&width=1920&height=1080&lang=zh_CN" type="application/x-shockwave-flash"></embed></div>';
        if(callback1){
            pageDom += '<div class="gdvd_btn gdvd_loding"></div><a class="btns_go btn_sty btn_sty2">继续</a>';
        }
        pageDom += '</div>';

        var dgyMain = $('#dgyMain');
        function thisFunc(){
            pageConfig.isVideoPlaying = true;
            ymjsModel.bgmPause();
            if(callback1){
                dgyMain.find('.btns_go').on('click',function(){
                    pageConfig.isVideoPlaying = false;
                    if(pageConfig.userMute !== true){
                        ymjsModel.bgmPlay();
                    }
                    callback1();
                });
            }
            setTimeout(function () {
                dgyMain.find('.gdvd_loding').addClass('cur');
            },100);
            setTimeout(function () {
                dgyMain.find('.gdvd_loding').remove();
                dgyMain.find('.btns_go').addClass('cur');
            },10000);
        }
        ymjsModel.chagePage(function(){
            dgyMain.html(pageDom).addClass('cur');
            thisFunc();
        });
    },
    midPage:function(transVu,callback1,tipsTit,tipsDes,navClass){
        var pageDom = '',pgClass = '';
        if(typeof navClass !== 'undefined'){
            pgClass = ' '+navClass;
        }
        pageDom += '<div class="page_con page_trans'+pgClass+'">';
        pageDom += '<div class="letvwrap" id="ykMidVideo"></div>';
        if(typeof tipsTit !== 'undefined'){
            pageDom += pageFunc.addIntroVideo(tipsTit,tipsDes);
        }
        if(callback1){
            pageDom += '<a class="btn-skip btn-skip4 btnSkip"><i></i><span>选择魔物</span></a>';
        }
        pageDom += '</div>';

        var dgyMain = $('#dgyMain');
        function thisFunc(){
            var player = new YKU.Player('ykMidVideo',{
                styleid: '0',
                client_id: '6bfe5b183f11e7d9',
                vid: transVu,
                newPlayer: true,
                autoplay: true
            });
            if(callback1){
                dgyMain.find('.btn-skip').on('click',function(){
                    callback1();
                });
            }
        }
        ymjsModel.chagePage(function(){
            dgyMain.html(pageDom).addClass('cur');
            thisFunc();
        });
    },
    midPageBgm:function(transVu,callback1,tipsTit,tipsDes,navClass){
        var pageDom = '',pgClass = '';
        if(typeof navClass !== 'undefined'){
            pgClass = ' '+navClass;
        }
        pageDom += '<div class="page_con page_trans'+pgClass+'">';
        pageDom += '<div class="letvwrap" id="ykMidVideo"></div>';
        if(typeof tipsTit !== 'undefined'){
            pageDom += pageFunc.addIntroVideo(tipsTit,tipsDes);
        }
        if(callback1){
            pageDom += '<a class="btn-skip btnSkip"><i></i><span>继续</span></a>';
        }
        pageDom += '</div>';

        var dgyMain = $('#dgyMain');
        function thisFunc(){
            var player = new YKU.Player('ykMidVideo',{
                styleid: '0',
                client_id: '6bfe5b183f11e7d9',
                vid: transVu,
                newPlayer: true,
                autoplay: true
            });
            if(callback1){
                dgyMain.find('.btn-skip').on('click',function(){
                    callback1();
                });
            }
        }
        ymjsModel.chagePage(function(){
            dgyMain.html(pageDom).addClass('cur');
            thisFunc();
        });
    },
    midPage4:function(transVu,callback1,tipsTit,tipsDes){
        var pageDom = '';

        pageDom += '<div class="page_con page_trans">';
        pageDom += '<div class="letvwrap" id="ykMidVideo"></div>';
        if(callback1){
            pageDom += '<a class="btn-skip btn-skip4 btnSkip"><i></i><span>完成狩猎</span></a>';
        }
        pageDom += '</div>';

        var dgyMain = $('#dgyMain');
        function thisFunc(){
            var player = new YKU.Player('ykMidVideo',{
                styleid: '0',
                client_id: '6bfe5b183f11e7d9',
                vid: transVu,
                newPlayer: true,
                autoplay: true
            });
            if(callback1){
                dgyMain.find('.btn-skip').on('click',function(){
                    callback1();
                });
            }
        }
        ymjsModel.chagePage(function(){
            dgyMain.html(pageDom).addClass('cur');
            thisFunc();
        });
    },
    tab:function (tar,nav,cons,con,isLazyLoad) {
        var $nav = tar.find(nav).find('a'),$con = tar.find(cons),tabTimer;
        $nav.on({
            'mouseover':function () {
                var $this = $(this),idx = $this.index();
                tabTimer = setTimeout(function () {
                    $nav.removeClass('cur');
                    $con.find(con).removeClass('cur');
                    if(isLazyLoad === true){
                        $con.find(con).eq(idx).find('.ztTabLazyLoad').each(function () {
                            $(this).attr('src',$(this).data('lzy'));
                        });
                    }
                    $this.addClass('cur');
                    $con.find(con).eq(idx).addClass('cur');
                },150);
            },
            'mouseout':function () {
                clearTimeout(tabTimer);
            }
        });
        function tabInit() {
            var fstCon = $con.find(con).eq(0);
            $nav.eq(0).addClass('cur');
            if(isLazyLoad === true){
                fstCon.find('.ztTabLazyLoad').each(function () {
                    $(this).attr('src',$(this).data('lzy'));
                });
            }
            fstCon.addClass('cur');
        }
        tabInit();
    },
    fixedNav:function(){
        var fixNavDom = '';
        fixNavDom += '<div class="fx-main-area fxMainArea"><div class="fx-main-area-btns">';

        fixNavDom += '<div class="fma-row">';
        fixNavDom += '<i></i><div class="fma-lev1"><a class="fixBtn" data-pg="pgBegin">首页</a></div>';
        fixNavDom += '</div>';

        fixNavDom += '<div class="fma-row">';
        fixNavDom += '<i></i><div class="fma-lev1"><a class="fixBtn" data-pg="pgStarBase">星辰基地</a></div>';
        fixNavDom += '<div class="fma-lev2">';
        fixNavDom += '<a class="fixBtn" data-pg="pgMeeting">集会区域</a><span>/</span>';
        fixNavDom += '<a class="fixBtn" data-pg="pgWorking">加工屋</a><span>/</span>';
        fixNavDom += '<a class="fixBtn" data-pg="pgMyself">自己的房间</a>';
        fixNavDom += '</div>';
        fixNavDom += '</div>';

        fixNavDom += '<div class="fma-row">';
        fixNavDom += '<i></i><div class="fma-lev1"><a class="fixBtn" data-pg="pgMap">世界地图</a></div>';
        fixNavDom += '<div class="fma-lev2">';
        fixNavDom += '<a class="fixBtn fixBtnMaps" data-pg="pgmp1" data-mp="0">古树森林</a><span>/</span>';
        fixNavDom += '<a class="fixBtn fixBtnMaps" data-pg="pgmp3" data-mp="2">陆珊瑚台地</a><span>/</span>';
        fixNavDom += '<a class="fixBtn fixBtnMaps" data-pg="pgmp4" data-mp="3">瘴气之谷</a><span>/</span>';
        fixNavDom += '<a class="fixBtn fixBtnMaps" data-pg="pgmp2" data-mp="1">大蚁塚荒地</a>';
        fixNavDom += '</div>';
        fixNavDom += '</div>';

        fixNavDom += '<div class="fma-row">';
        fixNavDom += '<i></i><div class="fma-lev1"><a class="fixBtn" data-pg="pgGamerVer">游戏版本</a></div>';
        fixNavDom += '</div>';

        fixNavDom += '<div class="fma-row">';
        fixNavDom += '<i></i><div class="fma-lev1"><a class="fixBtn" data-pg="pgEnd">制作人员</a></div>';
        fixNavDom += '</div>';

        fixNavDom += '<div class="fma-row">';
        fixNavDom += '<div class="fma-lev1"><a class="fixBtn-comm">评论</a></div>';
        fixNavDom += '</div>';

        fixNavDom += '</div></div>';
        fixNavDom += '<a class="fx-main-btn fxMainBtn"></a>';

        var fixNav = $('#fixNav');
        fixNav.html(fixNavDom);
        var $navbtn = fixNav.find('.fxMainBtn'),$mArea = fixNav.find('.fxMainArea'),isClked = false;
        $navbtn.on('click',function () {
            var $this = $(this);
            if(isClked === false){
                isClked = true;
                $this.addClass('fx-main-btn-x');
                fixNav.addClass('fx-show');
            }else{
                isClked = false;
                $this.removeClass('fx-main-btn-x');
                fixNav.removeClass('fx-show');
            }
        });
        $mArea.on('click','.enClk',function () {
            var $this = $(this),sel = $(this).data('pg'),mpData = pageConfig.imglist.hd.map.con;
            isClked = false;
            $navbtn.removeClass('fx-main-btn-x');
            fixNav.removeClass('fx-show');
            if($this.hasClass('fixBtnMaps') === true){
                var key = $this.data('mp');
                mpData[key].gone = true;
                setTimeout(function () {
                    pageFunc.midPage(mpData[key].vd,function () {
                        pageFunc.pgMonster(mpData[key].group);
                    },mpData[key].tit,mpData[key].fulldes,'pg'+mpData[key].group);
                },250);
            }else{
                setTimeout(function () {
                    pageFunc[sel]();
                },250);
            }
        });
        $mArea.find('.fixBtn-comm').on('click',function () {
            pageFunc.commPage();
        });
    },
    fixedNavFunc:function () {
        var fixNav = $('#fixNav'),dm = $('#dgyMain');
        fixNav.addClass('cur').find('.fixBtn').removeClass('cur');
        fixNav.find('.fixBtn').each(function () {
            var $this = $(this),num = $this.data('pg');
            if(dm.find('.'+num).length>0){
                fixNav.find('.fixBtn').removeClass('cur').addClass('enClk');
                $this.removeClass('enClk').addClass('cur');
            }else{
                $this.addClass('enClk');
            }
        });
    },
    hbFunc:function () {
        var dgyMain = $('#dgyMain');
        $('#handBookBtn').addClass('cur').on('click',function () {
            pageFunc.showHDbook(dgyMain);
        });
    },
	render:function(){
		var pf = this;
		pf.loadingFunc(true);
        pf.fixedNav();
        pf.hbFunc();
	}
};
pageFunc.render();
